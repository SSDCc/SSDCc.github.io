"use strict";(self.webpackChunktailchat_web=self.webpackChunktailchat_web||[]).push([[497],{89925:(X,D,l)=>{l.d(D,{a:()=>e.a3});var e=l(93540)},84143:(X,D,l)=>{l.d(D,{a:()=>f});var e=l(75526),u=l(95268),E=l(14517),t=l(52983),A=l(98281),M=l(93540),Y=Object.defineProperty,k=Object.defineProperties,R=Object.getOwnPropertyDescriptors,Z=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,x=(n,m,C)=>m in n?Y(n,m,{enumerable:!0,configurable:!0,writable:!0,value:C}):n[m]=C,p=(n,m)=>{for(var C in m||(m={}))d.call(m,C)&&x(n,C,m[C]);if(Z)for(var C of Z(m))S.call(m,C)&&x(n,C,m[C]);return n},c=(n,m)=>k(n,R(m)),N=(n,m)=>{var C={};for(var v in n)d.call(n,v)&&m.indexOf(v)<0&&(C[v]=n[v]);if(n!=null&&Z)for(var v of Z(n))m.indexOf(v)<0&&S.call(n,v)&&(C[v]=n[v]);return C};function T(n="circle"){return n==="circle"?"circle":"default"}const f=t.memo(n=>{var m=n,{icon:C,iconClassName:v,title:Q,className:z}=m,h=N(m,["icon","iconClassName","title","className"]);const F=T(h.shape),K=t.createElement("span",{className:"anticon"},t.createElement(M.JO,{className:v,icon:C})),V=h.active?"bg-black bg-opacity-60":"bg-black bg-opacity-20 hover:bg-opacity-60",_=t.createElement(e.Z,c(p({className:(0,E.Z)("border-0 text-white text-opacity-80 hover:text-opacity-100",h.danger?"bg-red-600 bg-opacity-80 hover:bg-opacity-100":V,z)},h),{shape:F,icon:K}));return(0,A.YQu)(Q)&&!h.disabled?t.createElement(u.Z,{title:Q},_):_});f.displayName="IconBtn"},37034:(X,D,l)=>{l.d(D,{S:()=>x});var e=l(73246),u=l(52983),E=l(98281),t=Object.defineProperty,A=Object.defineProperties,M=Object.getOwnPropertyDescriptors,Y=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,Z=(p,c,N)=>c in p?t(p,c,{enumerable:!0,configurable:!0,writable:!0,value:N}):p[c]=N,d=(p,c)=>{for(var N in c||(c={}))k.call(c,N)&&Z(p,N,c[N]);if(Y)for(var N of Y(c))R.call(c,N)&&Z(p,N,c[N]);return p},S=(p,c)=>A(p,M(c));const x=u.memo(p=>{const{language:c,setLanguage:N}=(0,E.ZKp)(),T=(0,u.useCallback)(f=>{(0,E.lHp)((0,E.t)("\u5237\u65B0\u9875\u9762\u540E\u751F\u6548"),"info"),N(f)},[N]);return u.createElement(e.Z,S(d({style:{width:280},size:"large"},p),{value:c,onChange:T}),u.createElement(e.Z.Option,{value:"zh-CN"},"\u7B80\u4F53\u4E2D\u6587"),u.createElement(e.Z.Option,{value:"en-US"},"English"))});x.displayName="LanguageSelect"},7013:(X,D,l)=>{l.d(D,{a:()=>t});var e=l(52983),u=l(93540),E=l(89925);const t=e.memo(({content:A})=>e.createElement(E.a,{overlay:A},e.createElement(u.JO,{icon:"mdi:alert-circle-outline",className:"cursor-help"})));t.displayName="TipIcon"},84850:(X,D,l)=>{l.r(D),l.d(D,{default:()=>Oe});var e=l(52983),u=l(54782),E=l(93540),t=l(98281),A=l(5868),M=l(87450),Y=l(21848);function k(I){return new URLSearchParams(window.location.search).get(I)}const R=I=>{const[a,i]=(0,e.useState)(()=>k(I));return(0,e.useEffect)(()=>{const s=()=>{i(k(I))};return window.addEventListener("popstate",s),window.addEventListener("pushstate",s),window.addEventListener("replacestate",s),()=>{window.removeEventListener("popstate",s),window.removeEventListener("pushstate",s),window.removeEventListener("replacestate",s)}},[]),a};var Z=Object.defineProperty,d=Object.defineProperties,S=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,N=(I,a,i)=>a in I?Z(I,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):I[a]=i,T=(I,a)=>{for(var i in a||(a={}))p.call(a,i)&&N(I,i,a[i]);if(x)for(var i of x(a))c.call(a,i)&&N(I,i,a[i]);return I},f=(I,a)=>d(I,S(a));function n(){const I=(0,u.useNavigate)(),a=(0,u.useLocation)();return(0,e.useCallback)(s=>{I(f(T({},a),{pathname:s}))},[I,a])}var m=l(84143),C=l(84208),v=l(79546),Q=l(75526);const z=e.memo(()=>{var I;const[a,i]=(0,e.useState)((I=window.localStorage.getItem("serviceUrl"))!=null?I:"");return e.createElement(C.AB,{title:(0,t.t)("\u670D\u52A1\u7AEF\u5730\u5740")},e.createElement(v.Z,{placeholder:(0,t.t)("\u8BF7\u8F93\u5165\u670D\u52A1\u5668\u5730\u5740(\u793A\u4F8B: http://127.0.0.1:11000)"),value:a,onChange:s=>i(s.target.value)}),e.createElement("div",{className:"space-x-2 text-right mt-8"},e.createElement(Q.Z,{onClick:()=>{window.localStorage.removeItem("serviceUrl"),window.location.reload()}},(0,t.t)("\u91CD\u7F6E\u4E3A\u9ED8\u8BA4\u5730\u5740")),e.createElement(Q.Z,{type:"primary",disabled:!a,onClick:()=>{window.localStorage.setItem("serviceUrl",a),window.location.reload()}},(0,t.t)("\u786E\u8BA4\u4FEE\u6539\u5E76\u5237\u65B0\u9875\u9762"))))});z.displayName="ServiceUrlSettings";var h=l(37034),F=l(14517),K=Object.defineProperty,V=Object.defineProperties,_=Object.getOwnPropertyDescriptors,q=Object.getOwnPropertySymbols,me=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable,ee=(I,a,i)=>a in I?K(I,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):I[a]=i,je=(I,a)=>{for(var i in a||(a={}))me.call(a,i)&&ee(I,i,a[i]);if(q)for(var i of q(a))ce.call(a,i)&&ee(I,i,a[i]);return I},Ne=(I,a)=>V(I,_(a));const w=e.memo(I=>e.createElement("input",Ne(je({},I),{className:(0,F.Z)("appearance-none rounded-md relative block w-full px-4 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 text-base mobile:text-sm",I.className)}),I.children));w.displayName="EntryInput";var Ge=Object.defineProperty,de=Object.defineProperties,Ce=Object.getOwnPropertyDescriptors,Ie=Object.getOwnPropertySymbols,Pe=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable,ie=(I,a,i)=>a in I?Ge(I,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):I[a]=i,Ee=(I,a)=>{for(var i in a||(a={}))Pe.call(a,i)&&ie(I,i,a[i]);if(Ie)for(var i of Ie(a))pe.call(a,i)&&ie(I,i,a[i]);return I},Ae=(I,a)=>de(I,Ce(a));const U=e.memo(I=>e.createElement("button",Ae(Ee({},I),{className:(0,F.Z)("w-full py-2 px-4 border border-transparent text-sm font-medium text-white focus:outline-none disabled:opacity-50",I.className)}),I.children));U.displayName="SecondaryBtn";var Be=l(67434),Se=l(73352),xe=l.n(Se),ve=Object.defineProperty,be=Object.defineProperties,De=Object.getOwnPropertyDescriptors,te=Object.getOwnPropertySymbols,Ye=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable,ae=(I,a,i)=>a in I?ve(I,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):I[a]=i,Ze=(I,a)=>{for(var i in a||(a={}))Ye.call(a,i)&&ae(I,i,a[i]);if(te)for(var i of te(a))ye.call(a,i)&&ae(I,i,a[i]);return I},we=(I,a)=>be(I,De(a));const L=e.memo(I=>e.createElement("button",we(Ze({disabled:I.loading},xe()(I,["loading"])),{className:(0,F.Z)("w-full py-2 px-4 mb-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",I.className)}),I.loading&&e.createElement(Be.$,null),I.children));L.displayName="PrimaryBtn";var We=l(7975),Me=(I,a,i)=>new Promise((s,g)=>{var P=r=>{try{o(i.next(r))}catch(j){g(j)}},G=r=>{try{o(i.throw(r))}catch(j){g(j)}},o=r=>r.done?s(r.value):Promise.resolve(r.value).then(P,G);o((i=i.apply(I,a)).next())});const le=e.memo(()=>{const[I,a]=(0,e.useState)(""),[i,s]=(0,e.useState)(""),g=(0,u.useNavigate)(),P=R("redirect"),{pathname:G}=(0,u.useLocation)(),{serverName:o,disableGuestLogin:r,disableUserRegister:j}=(0,t.tR0)(B=>({serverName:B.serverName,disableGuestLogin:B.disableGuestLogin,disableUserRegister:B.disableUserRegister}));(0,e.useEffect)(()=>{(0,Y.gP)().then(()=>{g("/main")}).catch(()=>{})},[]);const[{loading:W,error:O},H]=(0,t.ilX)(()=>Me(void 0,null,function*(){yield(0,A.string)().email((0,t.t)("\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E")).required((0,t.t)("\u90AE\u7BB1\u4E0D\u80FD\u4E3A\u7A7A")).validate(I),yield(0,A.string)().min(6,(0,t.t)("\u5BC6\u7801\u4E0D\u80FD\u4F4E\u4E8E6\u4F4D")).required((0,t.t)("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A")).validate(i);const B=yield(0,t.fZz)(I,i);(0,Y.rU)(B),yield(0,M._H)(B.token),(0,t.YQu)(P)&&P!==G?g(decodeURIComponent(P)):g("/main")}),[I,i,P,G,g]),b=n();return e.createElement("div",{className:"w-96 text-white relative"},e.createElement("div",{className:"mb-4 text-2xl"},(0,t.t)("\u767B\u5F55 {{serverName}}",{serverName:o||"Tailchat"})),e.createElement("div",null,e.createElement("div",{className:"mb-4"},e.createElement("div",{className:"mb-2"},(0,t.t)("\u90AE\u7BB1")),e.createElement(w,{name:"login-email",placeholder:"name@example.com",type:"text",value:I,onChange:B=>a(B.target.value)})),e.createElement("div",{className:"mb-4"},e.createElement("div",{className:"mb-2"},(0,t.t)("\u5BC6\u7801")),e.createElement(w,{name:"login-password",type:"password",placeholder:"******",value:i,onChange:B=>s(B.target.value)})),W===!1&&O&&e.createElement("div",{className:"flex justify-between mb-4"},e.createElement("p",{className:"text-red-500 text-sm"},O.message),e.createElement("div",{className:"text-gray-200 cursor-pointer",onClick:()=>b("/entry/forget")},(0,t.t)("\u5FD8\u8BB0\u5BC6\u7801\uFF1F"))),e.createElement(L,{loading:W,onClick:H},(0,t.t)("\u767B\u5F55")),!j&&e.createElement(U,{disabled:W,onClick:()=>b("/entry/register")},(0,t.t)("\u6CE8\u518C\u8D26\u53F7"),e.createElement(E.JO,{icon:"mdi:arrow-right",className:"ml-1 inline"})),!r&&e.createElement(U,{disabled:W,onClick:()=>b("/entry/guest")},(0,t.t)("\u6E38\u5BA2\u8BBF\u95EE"),e.createElement(E.JO,{icon:"mdi:arrow-right",className:"ml-1 inline"})),We.pluginLoginAction.map(B=>{const{name:J,component:$}=B;return e.createElement($,{key:J})})),e.createElement("div",{className:"absolute bottom-4 left-0 space-x-2"},e.createElement(m.a,{icon:"mdi:cog",shape:"square",onClick:()=>(0,C.h7)(e.createElement(z,null))}),e.createElement(h.S,{size:"middle"})))});le.displayName="LoginView";const fe={entryLeft:"src-routes-Entry-index-module__entryLeft--vKV-n"},Re="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNjkiIGhlaWdodD0iNDI1IiB2aWV3Qm94PSIwIDAgMTY5IDQyNSI+DQogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgPHBhdGggZD0iTTAgMGgxNjl2NDI1SDB6Ii8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE1IiBjeT0iMTYiIHI9IjEwIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE1IiBjeT0iNDEiIHI9IjUiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTUiIGN5PSI2NiIgcj0iNSIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNSIgY3k9IjkxIiByPSI5IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE1IiBjeT0iMTE2IiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjQwIiBjeT0iMTYiIHI9IjUiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNDAiIGN5PSI0MSIgcj0iOCIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSI0MCIgY3k9IjY2IiByPSI2IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjQwIiBjeT0iOTEiIHI9IjUiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNDAiIGN5PSIxMTYiIHI9IjciIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNjUiIGN5PSIxNiIgcj0iMyIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSI2NSIgY3k9IjQxIiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjY1IiBjeT0iNjYiIHI9IjMiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNjUiIGN5PSI5MSIgcj0iMyIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSI2NSIgY3k9IjExNiIgcj0iNSIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSI5MCIgY3k9IjE2IiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjkwIiBjeT0iNDEiIHI9IjMiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iOTAiIGN5PSI2NiIgcj0iNSIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSI5MCIgY3k9IjkxIiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjkwIiBjeT0iMTE2IiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjExNSIgY3k9IjE2IiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjExNSIgY3k9IjQxIiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjExNSIgY3k9IjY2IiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjExNSIgY3k9IjkxIiByPSI3IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjExNSIgY3k9IjExNiIgcj0iNSIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNDAiIGN5PSIxNiIgcj0iMiIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNDAiIGN5PSI0MSIgcj0iMyIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNDAiIGN5PSI2NiIgcj0iMiIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNDAiIGN5PSI5MSIgcj0iNSIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNDAiIGN5PSIxMTYiIHI9IjMiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTY1IiBjeT0iNDEiIHI9IjIiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTY1IiBjeT0iNjYiIHI9IjMiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTUiIGN5PSIxNDEiIHI9IjciIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNDAiIGN5PSIxNDEiIHI9IjYiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNjUiIGN5PSIxNDEiIHI9IjMiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iOTAiIGN5PSIxNDEiIHI9IjUiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTE1IiBjeT0iMTQxIiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE0MCIgY3k9IjE0MSIgcj0iMiIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNjUiIGN5PSIxMTYiIHI9IjIiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTUiIGN5PSIxNjYiIHI9IjEwIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE1IiBjeT0iMTkxIiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE1IiBjeT0iMjE2IiByPSI3IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE1IiBjeT0iMjQxIiByPSI5IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE1IiBjeT0iMjY2IiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjQwIiBjeT0iMTY2IiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjQwIiBjeT0iMTkxIiByPSI4IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjQwIiBjeT0iMjE2IiByPSI2IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjQwIiBjeT0iMjQxIiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjQwIiBjeT0iMjY2IiByPSI3IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjY1IiBjeT0iMTY2IiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjY1IiBjeT0iMTkxIiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjY1IiBjeT0iMjE2IiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjY1IiBjeT0iMjQxIiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjY1IiBjeT0iMjY2IiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjkwIiBjeT0iMTY2IiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjkwIiBjeT0iMTkxIiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjkwIiBjeT0iMjE2IiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjkwIiBjeT0iMjQxIiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjkwIiBjeT0iMjY2IiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjExNSIgY3k9IjE2NiIgcj0iMyIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxMTUiIGN5PSIxOTEiIHI9IjUiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTE1IiBjeT0iMjE2IiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjExNSIgY3k9IjI0MSIgcj0iNyIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxMTUiIGN5PSIyNjYiIHI9IjUiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTQwIiBjeT0iMTkxIiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE0MCIgY3k9IjIxNiIgcj0iMiIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNDAiIGN5PSIyNDEiIHI9IjUiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTQwIiBjeT0iMjY2IiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE2NSIgY3k9IjE2NiIgcj0iMiIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNjUiIGN5PSIxOTEiIHI9IjIiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTUiIGN5PSIzOTEiIHI9IjUiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTUiIGN5PSI0MTYiIHI9IjciIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNDAiIGN5PSIzOTEiIHI9IjgiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNDAiIGN5PSI0MTYiIHI9IjYiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNjUiIGN5PSIzOTEiIHI9IjUiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNjUiIGN5PSI0MTYiIHI9IjMiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iOTAiIGN5PSIzOTEiIHI9IjMiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iOTAiIGN5PSI0MTYiIHI9IjUiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTE1IiBjeT0iMzkxIiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjExNSIgY3k9IjQxNiIgcj0iMyIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNDAiIGN5PSI0MTYiIHI9IjIiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTY1IiBjeT0iNDE2IiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE1IiBjeT0iMjkxIiByPSI3IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjQwIiBjeT0iMjkxIiByPSI2IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjY1IiBjeT0iMjkxIiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjkwIiBjeT0iMjkxIiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjExNSIgY3k9IjI5MSIgcj0iMyIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNDAiIGN5PSIyOTEiIHI9IjIiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTY1IiBjeT0iMjkxIiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE2NSIgY3k9IjI0MSIgcj0iMiIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNSIgY3k9IjMxNiIgcj0iOSIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNSIgY3k9IjM0MSIgcj0iNSIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSI0MCIgY3k9IjMxNiIgcj0iNSIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSI0MCIgY3k9IjM0MSIgcj0iNyIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSI2NSIgY3k9IjMxNiIgcj0iMyIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSI2NSIgY3k9IjM0MSIgcj0iNSIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSI5MCIgY3k9IjMxNiIgcj0iNSIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSI5MCIgY3k9IjM0MSIgcj0iMyIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxMTUiIGN5PSIzMTYiIHI9IjciIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTE1IiBjeT0iMzQxIiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE0MCIgY3k9IjMxNiIgcj0iNSIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNDAiIGN5PSIzNDEiIHI9IjMiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTUiIGN5PSIzNjYiIHI9IjciIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNDAiIGN5PSIzNjYiIHI9IjYiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNjUiIGN5PSIzNjYiIHI9IjMiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iOTAiIGN5PSIzNjYiIHI9IjUiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTQwIiBjeT0iMzY2IiByPSIyIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE2NSIgY3k9IjM2NiIgcj0iMyIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNjUiIGN5PSIzMTYiIHI9IjIiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICA8L2c+DQo8L3N2Zz4NCg==";var ke=l(7013),re=(I,a,i)=>new Promise((s,g)=>{var P=r=>{try{o(i.next(r))}catch(j){g(j)}},G=r=>{try{o(i.throw(r))}catch(j){g(j)}},o=r=>r.done?s(r.value):Promise.resolve(r.value).then(P,G);o((i=i.apply(I,a)).next())});const ne=e.memo(()=>{const[I,a]=(0,e.useState)(""),[i,s]=(0,e.useState)(""),[g,P]=(0,e.useState)(""),[G,o]=(0,e.useState)(""),[r,j]=(0,e.useState)(!1),[W,O]=(0,e.useState)(!1),H=(0,u.useNavigate)(),b=R("redirect"),[{loading:B,error:J},$]=(0,t.ilX)(()=>re(void 0,null,function*(){yield(0,A.string)().email((0,t.t)("\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E")).required((0,t.t)("\u90AE\u7BB1\u4E0D\u80FD\u4E3A\u7A7A")).max(40,(0,t.t)("\u90AE\u7BB1\u6700\u957F\u9650\u523640\u4E2A\u5B57\u7B26")).validate(I),yield(0,A.string)().min(6,(0,t.t)("\u5BC6\u7801\u4E0D\u80FD\u4F4E\u4E8E6\u4F4D")).required((0,t.t)("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A")).max(40,(0,t.t)("\u5BC6\u7801\u6700\u957F\u9650\u523640\u4E2A\u5B57\u7B26")).validate(g);const y=yield(0,t.YiW)({email:I,password:g,nickname:i,emailOTP:G});(0,Y.rU)(y),yield(0,M._H)(y.token),(0,t.YQu)(b)?H(decodeURIComponent(b)):H("/main")}),[I,i,g,G,b]),[{loading:Fe},Ue]=(0,t.CoE)(()=>re(void 0,null,function*(){yield t.o4J.EA.verifyEmail(I),(0,t.jiy)((0,t.t)("\u53D1\u9001\u6210\u529F, \u8BF7\u68C0\u67E5\u4F60\u7684\u90AE\u7BB1\u3002")),j(!0)}),[I]);(0,t.qoQ)([I,W],()=>{W||s(Te(I))});const He=n();return e.createElement("div",{className:"w-96 text-white"},e.createElement("div",{className:"mb-4 text-2xl"},(0,t.t)("\u6CE8\u518C\u8D26\u53F7")),e.createElement("div",null,e.createElement("div",{className:"mb-4"},e.createElement("div",{className:"mb-2"},(0,t.t)("\u90AE\u7BB1")),e.createElement(w,{name:"reg-email",placeholder:"name@example.com",type:"text",value:I,onChange:y=>a(y.target.value)})),(0,t.HiA)().emailVerification&&e.createElement(e.Fragment,null,!r&&e.createElement(L,{loading:Fe,onClick:Ue},(0,t.t)("\u5411\u90AE\u7BB1\u53D1\u9001\u6821\u9A8C\u7801")),e.createElement("div",{className:"mb-4"},e.createElement("div",{className:"mb-2"},(0,t.t)("\u90AE\u7BB1\u6821\u9A8C\u7801")),e.createElement(w,{name:"reg-email-otp",type:"text",placeholder:"6\u4F4D\u6821\u9A8C\u7801",value:G,onChange:y=>o(y.target.value)}))),e.createElement("div",{className:"mb-4 relative"},e.createElement("div",{className:"mb-2 flex items-center"},e.createElement("span",{className:"mr-1"},(0,t.t)("\u6635\u79F0")),e.createElement(ke.a,{content:(0,t.t)("\u540E\u7EED\u5728\u7528\u6237\u8BBE\u7F6E\u4E2D\u53EF\u4EE5\u968F\u65F6\u4FEE\u6539")})),e.createElement(w,{name:"reg-nickname",type:"text",disabled:!W,value:i,onChange:y=>s(y.target.value)}),e.createElement(E.JO,{className:"absolute bottom-1 right-1 w-8 h-8 p-2 rounded cursor-pointer bg-opacity-20 bg-black z-10",icon:W?"mdi:pencil-off":"mdi:pencil",onClick:()=>O(y=>!y)})),e.createElement("div",{className:"mb-4"},e.createElement("div",{className:"mb-2"},(0,t.t)("\u5BC6\u7801")),e.createElement(w,{name:"reg-password",type:"password",placeholder:"******",value:g,onChange:y=>P(y.target.value)})),J&&e.createElement("p",{className:"text-red-500 text-sm mb-4"},J.message),e.createElement(L,{loading:B,onClick:$},(0,t.t)("\u6CE8\u518C\u8D26\u53F7")),e.createElement(U,{className:"text-left",disabled:B,onClick:()=>He("/entry/login")},e.createElement(E.JO,{icon:"mdi:arrow-left",className:"mr-1 inline"}),(0,t.t)("\u8FD4\u56DE\u767B\u5F55"))))});ne.displayName="RegisterView";function Te(I){return I.split("@")[0]}var he=l(82335),Le=(I,a,i)=>new Promise((s,g)=>{var P=r=>{try{o(i.next(r))}catch(j){g(j)}},G=r=>{try{o(i.throw(r))}catch(j){g(j)}},o=r=>r.done?s(r.value):Promise.resolve(r.value).then(P,G);o((i=i.apply(I,a)).next())});const se=e.memo(()=>{const I=(0,u.useNavigate)(),a=n(),i=R("redirect"),[s,g]=(0,e.useState)(""),[{loading:P},G]=(0,t.CoE)(()=>Le(void 0,null,function*(){yield(0,A.string)().required((0,t.t)("\u6635\u79F0\u4E0D\u80FD\u4E3A\u7A7A")).max(16).validate(s);const o=yield(0,t.DW_)(s);(0,Y.rU)(o),yield(0,M._H)(o.token),(0,t.YQu)(i)?I(decodeURIComponent(i)):I("/main")}),[s,I,i]);return e.createElement("div",{className:"w-96 text-white"},e.createElement("div",{className:"mb-4 text-2xl"},(0,t.t)("\u521B\u5EFA\u8BBF\u5BA2")),e.createElement("div",null,e.createElement("div",{className:"mb-4"},e.createElement("div",{className:"mb-2"},(0,t.t)("\u6635\u79F0")),e.createElement(w,{placeholder:(0,t.t)("\u60F3\u8981\u8BA9\u5927\u5BB6\u5982\u4F55\u79F0\u547C\u4F60"),type:"text",value:s,onChange:o=>g(o.target.value)})),e.createElement(L,{loading:P,onClick:G},(0,t.t)("\u7ACB\u5373\u8FDB\u5165")),e.createElement(U,{className:"text-left",disabled:P,onClick:()=>a("/entry/login")},e.createElement(E.JO,{icon:"mdi:arrow-left",className:"mr-1 inline"}),(0,t.t)("\u8FD4\u56DE\u767B\u5F55"))))});se.displayName="GuestView";var ge=(I,a,i)=>new Promise((s,g)=>{var P=r=>{try{o(i.next(r))}catch(j){g(j)}},G=r=>{try{o(i.throw(r))}catch(j){g(j)}},o=r=>r.done?s(r.value):Promise.resolve(r.value).then(P,G);o((i=i.apply(I,a)).next())});const oe=e.memo(()=>{const[I,a]=(0,e.useState)(""),[i,s]=(0,e.useState)(""),[g,P]=(0,e.useState)(""),[G,o]=(0,e.useState)(!1),r=n(),[{loading:j},W]=(0,t.CoE)(()=>ge(void 0,null,function*(){yield(0,t.o9n)(I),o(!0),(0,t.lHp)(`\u5DF2\u53D1\u9001\u90AE\u4EF6\u5230 ${I}`,"success")}),[I]),[{loading:O},H]=(0,t.CoE)(()=>ge(void 0,null,function*(){yield(0,A.string)().email((0,t.t)("\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E")).required((0,t.t)("\u90AE\u7BB1\u4E0D\u80FD\u4E3A\u7A7A")).validate(I),yield(0,A.string)().min(6,(0,t.t)("\u5BC6\u7801\u4E0D\u80FD\u4F4E\u4E8E6\u4F4D")).required((0,t.t)("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A")).validate(i),yield(0,A.string)().length(6,(0,t.t)("OTP\u4E3A6\u4F4D\u6570\u5B57")).validate(g),yield(0,t.c0U)(I,i,g),(0,t.lHp)((0,t.t)("\u5BC6\u7801\u91CD\u7F6E\u6210\u529F\uFF0C\u73B0\u5728\u56DE\u5230\u767B\u5F55\u9875"),"success"),r("/entry/login")}),[I,i,g,r]);return e.createElement("div",{className:"w-96 text-white"},e.createElement("div",{className:"mb-4 text-2xl"},(0,t.t)("\u5FD8\u8BB0\u5BC6\u7801")),e.createElement("div",null,e.createElement("div",{className:"mb-4"},e.createElement("div",{className:"mb-2"},(0,t.t)("\u90AE\u7BB1")),e.createElement(w,{name:"forget-email",placeholder:"name@example.com",type:"text",disabled:G,value:I,onChange:b=>a(b.target.value)})),!G&&e.createElement(L,{loading:j,onClick:W},(0,t.t)("\u5411\u90AE\u7BB1\u53D1\u9001OTP")),G&&e.createElement(e.Fragment,null,e.createElement("div",{className:"mb-4"},e.createElement("div",{className:"mb-2"},(0,t.t)("OTP")),e.createElement(w,{name:"forget-otp",type:"text",value:g,onChange:b=>P(b.target.value)})),e.createElement("div",{className:"mb-4"},e.createElement("div",{className:"mb-2"},(0,t.t)("\u65B0\u5BC6\u7801")),e.createElement(w,{name:"forget-password",type:"password",placeholder:"******",value:i,onChange:b=>s(b.target.value)})),e.createElement(L,{loading:O,onClick:H},(0,t.t)("\u91CD\u8BBE\u5BC6\u7801"))),e.createElement(U,{disabled:O,onClick:()=>r("/entry/login")},e.createElement(E.JO,{icon:"mdi:arrow-left",className:"mr-1 inline"}),(0,t.t)("\u8FD4\u56DE\u767B\u5F55"))))});oe.displayName="ForgetPasswordView";const ue=e.memo(()=>((0,he.bw)("appEntryRenderStart"),e.createElement("div",{className:"h-full flex flex-row"},e.createElement("div",{className:(0,F.Z)(fe.entryLeft,"entry-left w-142 mobile:w-full pt-40 px-4 bg-gray-600 min-h-full flex justify-center bg-repeat-y z-10"),style:{backgroundImage:`url(${Re})`}},e.createElement(u.Routes,null,e.createElement(u.Route,{path:"/login",element:e.createElement(le,null)}),e.createElement(u.Route,{path:"/register",element:e.createElement(ne,null)}),e.createElement(u.Route,{path:"/guest",element:e.createElement(se,null)}),e.createElement(u.Route,{path:"/forget",element:e.createElement(oe,null)}),e.createElement(u.Route,{path:"/",element:e.createElement(u.Navigate,{to:"/entry/login",replace:!0})}))),e.createElement("div",{className:"flex-1 mobile:hidden tc-background"}))));ue.displayName="EntryRoute";const Oe=ue},21848:(X,D,l)=>{l.d(D,{JM:()=>Z,gP:()=>R,rU:()=>Y});var e=l(98281),u=l(14698),E=l.n(u),t=l(87450),A=(d,S,x)=>new Promise((p,c)=>{var N=n=>{try{f(x.next(n))}catch(m){c(m)}},T=n=>{try{f(x.throw(n))}catch(m){c(m)}},f=n=>n.done?p(n.value):Promise.resolve(n.value).then(N,T);f((x=x.apply(d,S)).next())});let M=null;function Y(d){M=d}function k(){return M}function R(){return A(this,null,function*(){let d=k();if(E()(d)){const S=yield(0,t.pT)();if(typeof S!="string")throw new Error("Token \u683C\u5F0F\u4E0D\u5408\u6CD5");if(console.debug("\u6B63\u5728\u5C1D\u8BD5\u4F7F\u7528Token\u767B\u5F55"),d=yield e.o4J.EA.loginWithToken(S),d===null)throw new Error("Token \u5185\u5BB9\u4E0D\u5408\u6CD5");Y(d)}return d})}function Z(d){if(typeof d!="string")return!0;const S=d.split("@")[1];return!!(!S||S.endsWith(".msgbyte.com"))}}}]);
