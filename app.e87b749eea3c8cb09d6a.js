(()=>{var ur={93540:(U,O,e)=>{"use strict";e.d(O,{wb:()=>a,qE:()=>de,OI:()=>Je,EW:()=>mt,v$:()=>ue,a3:()=>ie,y$:()=>Oe,JO:()=>nt,Ee:()=>pe,PJ:()=>yt,Po:()=>hn,_D:()=>Qe.createFastifyFormSchema,Yy:()=>W,_6:()=>Qe.fieldSchema,Yk:()=>Le,YE:()=>Kn,aG:()=>Qe.useFastifyFormContext});var o=e(52983),l=e(80686);const a=o.memo(c=>{const{showFullText:g="More",backgroundColor:I="white"}=c,[V,re]=(0,o.useState)(!1),[oe,k]=(0,o.useState)(!1),fe=(0,o.useRef)(null);(0,o.useEffect)(()=>{if(!fe.current)return;const at=new window.ResizeObserver(Te=>{if(Te[0]){const{height:ct}=Te[0].contentRect;ct>De&&(k(!1),re(!0),at.disconnect())}});return at.observe(fe.current),()=>{at.disconnect()}},[]);const De=(0,o.useMemo)(()=>oe?"none":c.maxHeight,[oe,c.maxHeight]),Ie=(0,l.Z)(()=>{re(!1),k(!0)});return o.createElement("div",{style:{maxHeight:De,overflow:"hidden",position:"relative"}},o.createElement("div",{ref:fe},c.children),V&&o.createElement("div",{style:{position:"absolute",left:0,right:0,bottom:0,textAlign:"center",cursor:"pointer",backgroundImage:`linear-gradient(rgba(0,0,0,0), ${I})`,padding:"4px 0"},onClick:Ie},g))});a.displayName="AutoFolder";var i=e(27037),D=e(68e3),M=e(95718),P=e.n(M),z=e(18445),L=e.n(z),Q=e(14698),F=e.n(Q),E=e(29787),j=e.n(E),p=e(3224),A=e.n(p),m=e(73352),x=e.n(m),h=e(76705),v=e.n(h),N=e(35880),T=e.n(N);const R=["#333333","#2c3e50","#8e44ad","#2980b9","#27ae60","#16a085","#f39c12","#d35400","#c0392b","#3498db","#9b59b6","#2ecc71","#1abc9c","#f1c40f","#e74c3c","#e67e22"];function W(c){if(!c||!v()(c))return"#ffffff";const g=T()(c);return R[g%R.length]}function B(c){return c*(1/16)+"rem"}function Y(c){return typeof c=="string"&&c!==""}var $=e(81715),te=Object.defineProperty,ye=Object.defineProperties,Pe=Object.getOwnPropertyDescriptors,ge=Object.getOwnPropertySymbols,ne=Object.prototype.hasOwnProperty,Ne=Object.prototype.propertyIsEnumerable,Se=(c,g,I)=>g in c?te(c,g,{enumerable:!0,configurable:!0,writable:!0,value:I}):c[g]=I,Ze=(c,g)=>{for(var I in g||(g={}))ne.call(g,I)&&Se(c,I,g[I]);if(ge)for(var I of ge(g))Ne.call(g,I)&&Se(c,I,g[I]);return c},We=(c,g)=>ye(c,Pe(g));let Ae=c=>c;const Fe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==",pe=o.memo(c=>o.createElement($.Z,We(Ze({fallback:Fe,preview:!1,loading:"lazy"},c),{src:c.src?Ae(c.src):void 0})));pe.displayName="Image";function Le(c){Ae=c}var K=Object.defineProperty,b=Object.defineProperties,H=Object.getOwnPropertyDescriptors,ve=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,Z=(c,g,I)=>g in c?K(c,g,{enumerable:!0,configurable:!0,writable:!0,value:I}):c[g]=I,_=(c,g)=>{for(var I in g||(g={}))G.call(g,I)&&Z(c,I,g[I]);if(ve)for(var I of ve(g))d.call(g,I)&&Z(c,I,g[I]);return c},q=(c,g)=>b(c,H(g)),ae=(c,g)=>{var I={};for(var V in c)G.call(c,V)&&g.indexOf(V)<0&&(I[V]=c[V]);if(c!=null&&ve)for(var V of ve(c))g.indexOf(V)<0&&d.call(c,V)&&(I[V]=c[V]);return I};const Me=o.memo(c=>{const g=c,{isOnline:I}=g,V=ae(g,["isOnline"]),re=Y(V.src)?Ae(V.src):void 0,oe=(0,o.useMemo)(()=>L()(P()(V.name)),[V.name]),k=(0,o.useMemo)(()=>j()(re)&&F()(V.icon)?W(V.name):void 0,[re,V.icon,V.name]),fe=(0,o.useMemo)(()=>{const Ie=q(_({userSelect:"none"},V.style),{backgroundColor:k,display:"flex",justifyContent:"center",alignItems:"center"});return A()(V.size)&&(Ie.width||(Ie.width=B(V.size)),Ie.height||(Ie.height=B(V.size)),typeof Ie.fontSize=="undefined"&&(Ie.fontSize=B(V.size*.4))),Ie},[V.style,V.size,k]),De=o.createElement(i.C,q(_({draggable:!1},x()(V,["size"])),{src:re,style:fe}),oe);if(typeof I=="boolean"){const Ie={bottom:0,top:"auto"};return I===!0?o.createElement(D.Z,{dot:!0,color:"green",style:Ie},De):o.createElement(D.Z,{dot:!0,color:"#999",style:Ie},De)}return De});Me.displayName="Avatar";const de=Me;de.Group=i.C.Group;var J=Object.defineProperty,ee=Object.getOwnPropertySymbols,ce=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable,we=(c,g,I)=>g in c?J(c,g,{enumerable:!0,configurable:!0,writable:!0,value:I}):c[g]=I,Xe=(c,g)=>{for(var I in g||(g={}))ce.call(g,I)&&we(c,I,g[I]);if(ee)for(var I of ee(g))Re.call(g,I)&&we(c,I,g[I]);return c};const Je=o.memo(c=>{const[g,I]=(0,o.useState)(!1),V=typeof c.src=="string";return o.createElement(o.Fragment,null,o.createElement("div",{style:{cursor:V?"pointer":"auto"},onClick:()=>I(!g)},o.createElement(de,Xe({},c))),V&&o.createElement("div",{style:{display:"none"}},o.createElement(pe,{preview:{visible:g,src:Ae(String(c.src)),onVisibleChange:re=>{I(re)}}})))});Je.displayName="AvatarWithPreview";var je=e(75283);const ue=o.memo(c=>{var g;return o.createElement(je.Z.Text,{className:c.className,style:c.style,copyable:(g=c.config)!=null?g:!0},c.children)});ue.displayName="CopyableText";var ze=e(89022),Bt=e.n(ze),et=Object.defineProperty,ft=Object.getOwnPropertySymbols,Pt=Object.prototype.hasOwnProperty,gt=Object.prototype.propertyIsEnumerable,Mt=(c,g,I)=>g in c?et(c,g,{enumerable:!0,configurable:!0,writable:!0,value:I}):c[g]=I,Nt=(c,g)=>{for(var I in g||(g={}))Pt.call(g,I)&&Mt(c,I,g[I]);if(ft)for(var I of ft(g))gt.call(g,I)&&Mt(c,I,g[I]);return c};const mt=o.memo(c=>{const{size:g=32,shape:I="circle"}=c,V=Bt()(c.items,4),re=V.length,oe=k=>{if(re===1)return{};if(re===2){if(k===0)return{width:"50%",overflow:"hidden",position:"absolute",left:0};if(k===1)return{width:"50%",overflow:"hidden",position:"absolute",right:0}}if(re===3){if(k===0)return{width:"50%",overflow:"hidden",position:"absolute",left:0};if(k===1)return{transform:"scale(50%)",transformOrigin:"100% 0 0"};if(k===2)return{transform:"scale(50%)",transformOrigin:"100% 100% 0"}}if(re===4){if(k===0)return{transform:"scale(50%)",transformOrigin:"0 0 0"};if(k===1)return{transform:"scale(50%)",transformOrigin:"100% 0 0"};if(k===2)return{transform:"scale(50%)",transformOrigin:"0 100% 0"};if(k===3)return{transform:"scale(50%)",transformOrigin:"100% 100% 0"}}return{}};return o.createElement("div",{className:`td-combined-avatar td-combined-avatar-${re}`,style:{width:B(g),height:B(g),borderRadius:I==="circle"?"50%":3}},V.map((k,fe)=>o.createElement(de,Nt({key:fe,className:"td-combined-avatar__item",style:oe(fe),size:g},k))),V.length>=2&&o.createElement("div",{className:"line1"}),V.length>=3&&o.createElement("div",{className:"line2"}))});mt.displayName="CombinedAvatar";var Ot=e(95268),Ct=Object.defineProperty,tt=Object.getOwnPropertySymbols,jt=Object.prototype.hasOwnProperty,pt=Object.prototype.propertyIsEnumerable,vt=(c,g,I)=>g in c?Ct(c,g,{enumerable:!0,configurable:!0,writable:!0,value:I}):c[g]=I,Ft=(c,g)=>{for(var I in g||(g={}))jt.call(g,I)&&vt(c,I,g[I]);if(tt)for(var I of tt(g))pt.call(g,I)&&vt(c,I,g[I]);return c};const ie=o.memo(c=>o.createElement(Ot.Z,Ft({mouseEnterDelay:1},c),c.children));ie.displayName="DelayTip";const me={highLight:"_-packages-design-components-Highlight-index-module__highLight--esAq-"},Oe=o.memo(c=>o.createElement("span",{className:me.highLight},c.children));Oe.displayName="Highlight";var ut=e(79555),wt=Object.defineProperty,Pn=Object.defineProperties,Nn=Object.getOwnPropertyDescriptors,Vt=Object.getOwnPropertySymbols,On=Object.prototype.hasOwnProperty,$t=Object.prototype.propertyIsEnumerable,_t=(c,g,I)=>g in c?wt(c,g,{enumerable:!0,configurable:!0,writable:!0,value:I}):c[g]=I,Cn=(c,g)=>{for(var I in g||(g={}))On.call(g,I)&&_t(c,I,g[I]);if(Vt)for(var I of Vt(g))$t.call(g,I)&&_t(c,I,g[I]);return c},Xt=(c,g)=>Pn(c,Nn(g));const jn={width:"1em",height:"1em"},kt=o.memo(c=>{const[g,I]=(0,o.useState)(!1);return o.createElement(o.Fragment,null,o.createElement(ut.JO,Xt(Cn({},c),{onLoad:()=>I(!0)})),!g&&o.createElement("span",{style:jn}))});kt.displayName="Icon";const nt=kt;nt.addIcon=ut.Ug,nt.addCollection=ut.Hc;const yt=o.memo(c=>{const{className:g,text:I}=c,[V,re]=(0,o.useState)(!1);return o.createElement("div",{className:g,style:{display:"flex",alignItems:"center"}},V?I:ke(I),o.createElement(nt,{style:{cursor:"pointer",marginLeft:4},icon:V?"mdi:eye-off-outline":"mdi:eye-outline",onClick:()=>re(oe=>!oe)}))});yt.displayName="SensitiveText";function ke(c){const g=c.length;return g>2?`${c[0]}****${c[g-1]}`:g===2?`${c[0]}*`:"**"}const it=o.memo(c=>{const g=(0,o.useRef)(null),I=(0,l.Z)(V=>{c.onResize&&c.onResize(V)});return(0,o.useEffect)(()=>{if(!g.current)return;const V=new ResizeObserver(re=>{re.forEach(oe=>{const{target:k,contentRect:fe}=oe;!k.parentElement||I({width:Math.round(fe.width),height:Math.round(fe.height)})})});return V.observe(g.current),()=>{V&&g.current&&(V.unobserve(g.current),V.disconnect())}},[]),o.createElement("div",{style:c.wrapperStyle,ref:g},c.children)});it.displayName="ResizeWatcher";var Tt=e(7744),qt=e(37459),en=e(14517),Tn=Object.defineProperty,tn=Object.defineProperties,Sn=Object.getOwnPropertyDescriptors,Qt=Object.getOwnPropertySymbols,nn=Object.prototype.hasOwnProperty,Ln=Object.prototype.propertyIsEnumerable,st=(c,g,I)=>g in c?Tn(c,g,{enumerable:!0,configurable:!0,writable:!0,value:I}):c[g]=I,rn=(c,g)=>{for(var I in g||(g={}))nn.call(g,I)&&st(c,I,g[I]);if(Qt)for(var I of Qt(g))Ln.call(g,I)&&st(c,I,g[I]);return c},St=(c,g)=>tn(c,Sn(g));const bt={x:0,y:0},Wt=o.forwardRef((c,g)=>{var I,V;const{scrollBehavior:re="auto"}=c,oe=(0,o.useRef)(null),k=(0,o.useRef)(null),fe=(0,o.useMemo)(()=>{var be;return((be=c.isLock)!=null?be:!1)?St(rn({},c.style),{overflow:"hidden"}):St(rn({},c.style),{overflow:"auto"})},[c.isLock]),De=(0,l.Z)(()=>oe.current?{x:oe.current.scrollLeft,y:oe.current.scrollTop}:bt),Ie=(0,l.Z)(()=>oe.current?{x:oe.current.clientWidth,y:oe.current.clientHeight}:bt);(0,o.useImperativeHandle)(g,()=>({scrollTo:be=>{var dt;(dt=oe.current)==null||dt.scrollTo({left:be.x,top:be.y,behavior:re})},scrollToBottom:()=>{var be;(be=oe.current)==null||be.scrollTo({left:De().x,top:oe.current.scrollHeight-Ie().y,behavior:re})}}));const[at,Te]=(0,o.useState)(!1),[ct,zt]=(0,o.useState)(!1),{run:Zn}=(0,Tt.Z)(be=>{Te(be)},{leading:!1,trailing:!0,wait:300}),{run:Jn}=(0,Tt.Z)(()=>{Te(!1),c.onScrollEnd&&c.onScrollEnd(De())},{leading:!1,trailing:!0,wait:300}),Hn=(0,l.Z)(()=>{Te(!0),Zn(!1)}),Vn=(0,l.Z)(()=>{zt(!0)}),$n=(0,l.Z)(()=>{zt(!1)}),Dn=(I=(0,qt.Z)(De()))!=null?I:bt,An=(0,l.Z)(()=>{const be=at||ct,dt=De(),_n={x:dt.x>Dn.x,y:dt.y>Dn.y};Te(!0),Jn(),c.onScroll&&c.onScroll(dt,{forward:_n,isUserScrolling:be,isMouseDown:ct})}),Jt=(0,l.Z)(()=>{c.onContainerResize&&c.onContainerResize({containerSize:Ie(),position:De()})});return o.createElement(it,{wrapperStyle:{height:"100%"},onResize:Jt},o.createElement("div",{key:"scroller",className:(0,en.Z)(c.className,"scroller",{[(V=c.scrollingClassName)!=null?V:"scrolling"]:at}),style:fe,ref:oe,onWheel:Hn,onMouseDown:Vn,onMouseUp:$n,onScroll:An},o.createElement("div",{className:"scroller-inner",key:"scroller-inner",style:c.innerStyle,ref:k},c.children)))});Wt.displayName="Scroller";var lt=e(52486),zn=Object.defineProperty,on=Object.getOwnPropertySymbols,sn=Object.prototype.hasOwnProperty,xn=Object.prototype.propertyIsEnumerable,Gt=(c,g,I)=>g in c?zn(c,g,{enumerable:!0,configurable:!0,writable:!0,value:I}):c[g]=I,Lt=(c,g)=>{for(var I in g||(g={}))sn.call(g,I)&&Gt(c,I,g[I]);if(on)for(var I of on(g))xn.call(g,I)&&Gt(c,I,g[I]);return c};const Un={overflow:"hidden"},Rn={height:"100%"},an={height:"100%"},Bn=c=>{const g=(0,o.useRef)(null),I=(0,o.useMemo)(()=>new Map,[]),V=(0,lt.Z)(),re=(0,o.useMemo)(()=>Lt(Lt({},Un),c.style),[c.style]),oe=(0,o.useMemo)(()=>Lt(Lt({},Rn),c.innerStyle),[c.innerStyle]);return(0,o.useEffect)(()=>{var k;(k=g.current)==null||k.scrollToBottom()},[]),o.createElement("div",{className:"virtual-chat-list",style:re},o.createElement(Wt,{ref:g,style:an,innerStyle:oe},c.items.map((k,fe)=>o.createElement("div",{key:c.getItemKey?c.getItemKey(k):fe,className:"virtual-chat-list__item",style:{height:I.get(k)}},o.createElement(it,{onResize:De=>{I.set(k,De.height),V()}},c.itemContent(k,fe))))))},Fn=o.memo(Bn);Fn.displayName="VirtualChatList";var Qe=e(80768),Ge=e(579),wn=e(75526),rt=e(79546);function le(c){return c===void 0||c===""?"":"error"}const un=o.memo(c=>{const{name:g,label:I,value:V,onChange:re,onBlur:oe,error:k,maxLength:fe,placeholder:De}=c;return o.createElement(Ge.Z.Item,{label:I,validateStatus:le(k),help:k},o.createElement(rt.Z,{name:g,size:"large",maxLength:fe,placeholder:De,value:V,onChange:Ie=>re(Ie.target.value),onBlur:oe}))});un.displayName="FastifyFormText";const ln=o.memo(c=>{const{name:g,label:I,value:V,onChange:re,onBlur:oe,error:k,maxLength:fe,placeholder:De}=c;return o.createElement(Ge.Z.Item,{label:I,validateStatus:le(k),help:k},o.createElement(rt.Z.TextArea,{name:g,rows:4,maxLength:fe,placeholder:De,value:V,onChange:Ie=>re(Ie.target.value),onBlur:oe}))});ln.displayName="FastifyFormTextArea";const cn=o.memo(c=>{const{name:g,label:I,value:V,onChange:re,onBlur:oe,error:k,maxLength:fe,placeholder:De}=c;return o.createElement(Ge.Z.Item,{label:I,validateStatus:le(k),help:k},o.createElement(rt.Z.Password,{name:g,type:"password",size:"large",maxLength:fe,placeholder:De,value:V,onChange:Ie=>re(Ie.target.value),onBlur:oe}))});cn.displayName="FastifyFormPassword";var dn=e(73246),fn=e(13546),Qn=e.n(fn);const bn=dn.Z.Option,Yt=o.memo(c=>{const{name:g,label:I,value:V,onChange:re,onBlur:oe,options:k}=c;return(0,o.useEffect)(()=>{(F()(V)||V==="")&&re(Qn()(k,[0,"value"]))},[]),o.createElement(Ge.Z.Item,{label:I},o.createElement(dn.Z,{size:"large",value:V,onChange:fe=>re(fe),onBlur:oe},k.map((fe,De)=>o.createElement(bn,{key:`${fe.value}${De}`,value:fe.value},fe.label))))});Yt.displayName="FastifyFormSelect";var ot=e(66990);const Et=o.memo(c=>{const{name:g,label:I,value:V,onChange:re,error:oe}=c;return o.createElement(Ge.Z.Item,{label:I,validateStatus:le(oe),help:oe},o.createElement(ot.Z,{name:g,checked:Boolean(V),onChange:k=>re(k.target.checked)},I))});Et.displayName="FastifyFormCheckbox";var Wn=Object.defineProperty,Kt=Object.getOwnPropertySymbols,ht=Object.prototype.hasOwnProperty,Gn=Object.prototype.propertyIsEnumerable,gn=(c,g,I)=>g in c?Wn(c,g,{enumerable:!0,configurable:!0,writable:!0,value:I}):c[g]=I,Mn=(c,g)=>{for(var I in g||(g={}))ht.call(g,I)&&gn(c,I,g[I]);if(Kt)for(var I of Kt(g))Gn.call(g,I)&&gn(c,I,g[I]);return c};const mn=o.memo(c=>{const{label:g}=c;return o.createElement(Ge.Z.Item,{label:g},o.createElement(Qe.CustomField,Mn({},c)))});mn.displayName="FastifyFormCustom";var Yn=Object.defineProperty,pn=Object.getOwnPropertySymbols,vn=Object.prototype.hasOwnProperty,Zt=Object.prototype.propertyIsEnumerable,yn=(c,g,I)=>g in c?Yn(c,g,{enumerable:!0,configurable:!0,writable:!0,value:I}):c[g]=I,En=(c,g)=>{for(var I in g||(g={}))vn.call(g,I)&&yn(c,I,g[I]);if(pn)for(var I of pn(g))Zt.call(g,I)&&yn(c,I,g[I]);return c};(0,Qe.regField)("text",un),(0,Qe.regField)("textarea",ln),(0,Qe.regField)("password",cn),(0,Qe.regField)("select",Yt),(0,Qe.regField)("checkbox",Et),(0,Qe.regField)("custom",mn);let he={submitLabel:"Submit"};function Kn(c){he=En(En({},he),c)}const Dt=o.memo(c=>{var g;const I=c.layout,V=(g=c.extraProps)==null?void 0:g.suffixElement,re=(0,o.useMemo)(()=>{var oe;return o.createElement(Ge.Z.Item,{wrapperCol:I==="vertical"?{xs:24}:{sm:24,md:{span:16,offset:8}}},o.createElement(wn.Z,{loading:c.loading,type:"primary",size:"large",htmlType:"button",style:{width:"100%"},onClick:()=>c.handleSubmit(),disabled:c.canSubmit===!1},(oe=c.submitLabel)!=null?oe:he.submitLabel))},[c.loading,c.handleSubmit,c.canSubmit,c.submitLabel,I]);return o.createElement(Ge.Z,{layout:I,labelCol:I==="vertical"?{xs:24}:{sm:24,md:8},wrapperCol:I==="vertical"?{xs:24}:{sm:24,md:16}},c.children,V,re)});Dt.displayName="WebFastifyFormContainer",(0,Qe.regFormContainer)(Dt);const hn=Qe.FastifyForm;hn.displayName="WebMetaForm"},72163:(U,O,e)=>{"use strict";e.d(O,{W:()=>j});var o=e(95326),l=e.n(o),a=e(13546),i=e.n(a),D=e(45563),M=e.n(D),P=e(19692),z=e(71205),L=e(49076),Q=(p,A,m)=>new Promise((x,h)=>{var v=R=>{try{T(m.next(R))}catch(W){h(W)}},N=R=>{try{T(m.throw(R))}catch(W){h(W)}},T=R=>R.done?x(R.value):Promise.resolve(R.value).then(v,N);T((m=m.apply(p,A)).next())});class F extends Error{}function E(){const p=l().create({baseURL:(0,L.qQ)()});return(0,L.A6)(A=>{p.defaults.baseURL=A()}),p.interceptors.request.use(A=>Q(this,null,function*(){return["post","get"].includes(String(A.method).toLowerCase())&&!A.headers["X-Token"]&&(A.headers["X-Token"]=yield(0,z.mx)()),A})),p.interceptors.response.use(A=>(A.data=i()(A.data,"data",A.data),A),A=>{var m;const x=(m=i()(A,"response.data"))!=null?m:{};let h=x.message;const v=x.code;if(x.type==="VALIDATION_ERROR"&&(h=(0,P.t)("\u8BF7\u6C42\u53C2\u6570\u6821\u9A8C\u5931\u8D25"),Array.isArray(x.data))){console.error(JSON.stringify(x.data));try{h+=`: ${x.data.map(N=>N.field).join(", ")}`}catch(N){}}if(M()(z.Jd)&&(0,z.Jd)(A)===!1)return{data:{result:!1,msg:h,code:v}};throw new F(h??A.message)}),p}const j=E()},62789:(U,O,e)=>{"use strict";e.d(O,{D6:()=>N,Ml:()=>R,U$:()=>W,ct:()=>T,pG:()=>h,r5:()=>v,r7:()=>x});var o=e(22149),l=e(19478),a=e(75135),i=e(77100),D=e(58787),M=e(31672),P=Object.defineProperty,z=Object.defineProperties,L=Object.getOwnPropertyDescriptors,Q=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,j=(B,Y,$)=>Y in B?P(B,Y,{enumerable:!0,configurable:!0,writable:!0,value:$}):B[Y]=$,p=(B,Y)=>{for(var $ in Y||(Y={}))F.call(Y,$)&&j(B,$,Y[$]);if(Q)for(var $ of Q(Y))E.call(Y,$)&&j(B,$,Y[$]);return B},A=(B,Y)=>z(B,L(Y)),m=(B,Y,$)=>new Promise((te,ye)=>{var Pe=Ne=>{try{ne($.next(Ne))}catch(Se){ye(Se)}},ge=Ne=>{try{ne($.throw(Ne))}catch(Se){ye(Se)}},ne=Ne=>Ne.done?te(Ne.value):Promise.resolve(Ne.value).then(Pe,ge);ne(($=$.apply(B,Y)).next())}),x=(B=>(B.user="user",B.converse="converse",B.baseGroupInfo="baseGroupInfo",B.groupInvite="groupInvite",B.pluginRegistry="pluginRegistry",B.userSettings="userSettings",B))(x||{});function h(B,Y=!1){return m(this,null,function*(){return yield M.E.fetchQuery(["user",B],()=>(0,i.fetchUserInfo)(B),{staleTime:Y?0:2*60*60*1e3})})}function v(B){return m(this,null,function*(){return yield M.E.fetchQuery(["converse",B],()=>(0,o.jW)(B))})}function N(B){return m(this,null,function*(){return yield M.E.fetchQuery(["baseGroupInfo",B],()=>(0,l.getGroupBasicInfo)(B))})}function T(B){return m(this,null,function*(){return yield M.E.fetchQuery(["groupInvite",B],()=>(0,l.findGroupInviteByCode)(B))})}function R(){return m(this,null,function*(){return yield M.E.fetchQuery(["pluginRegistry"],()=>Promise.all([(0,a.c0)().catch(()=>[]),(0,a.g3)().then(Y=>Y.map($=>{const te=A(p({},$),{url:(0,D.A)($.url)});return $.icon&&(te.icon=(0,D.A)($.icon)),$.documentUrl&&(te.documentUrl=(0,D.A)($.documentUrl)),te})).catch(()=>[]),(0,a.zd)().catch(()=>[])]).then(([Y,$,te])=>[...Y,...$,...te]),{staleTime:2*60*60*1e3})})}function W(){return m(this,null,function*(){return yield M.E.fetchQuery(["userSettings"],()=>(0,i.getUserSettings)(),{staleTime:10*60*1e3})})}},31672:(U,O,e)=>{"use strict";e.d(O,{E:()=>i,L:()=>D});var o=e(56523),l=e(52500),a=e(54284);const i=new o.S({defaultOptions:{queries:{staleTime:10*1e3}}}),D=(0,l.S)({storage:{getItem:M=>(0,a.cF)().get(M),setItem:(M,P)=>(0,a.cF)().set(M,P),removeItem:M=>(0,a.cF)().remove(M)}})},96393:(U,O,e)=>{"use strict";e.d(O,{w:()=>l});var o=e(31672);function l(a,i,D){const M=(...L)=>o.E.fetchQuery([a,JSON.stringify(L)],()=>i(...L),D),P=()=>o.E.refetchQueries([a]),z=()=>{o.E.removeQueries([a])};return M.refetch=P,M.clearCache=z,M}},99852:(U,O,e)=>{"use strict";e.d(O,{A:()=>M,J:()=>P});var o=e(52983),l=e(40160),a=e(66932),i=e.n(a);const D=new a.EventEmitter,M={on(z,L){D.on(z,L)},off(z,L){D.off(z,L)},emit(z,...L){D.emit(z,...L)}};function P(z,L){const Q=(0,l.y)(L);(0,o.useEffect)(()=>{const F=(...E)=>{Q.current(...E)};return M.on(z,F),()=>{M.off(z,F)}},[])}},96228:(U,O,e)=>{"use strict";e.d(O,{No:()=>m,S8:()=>x,tx:()=>A});var o=e(98281),l=e(62789),a=e(19692),i=e(77100),D=Object.defineProperty,M=Object.defineProperties,P=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,F=(h,v,N)=>v in h?D(h,v,{enumerable:!0,configurable:!0,writable:!0,value:N}):h[v]=N,E=(h,v)=>{for(var N in v||(v={}))L.call(v,N)&&F(h,N,v[N]);if(z)for(var N of z(v))Q.call(v,N)&&F(h,N,v[N]);return h},j=(h,v)=>M(h,P(v)),p=(h,v,N)=>new Promise((T,R)=>{var W=$=>{try{Y(N.next($))}catch(te){R(te)}},B=$=>{try{Y(N.throw($))}catch(te){R(te)}},Y=$=>$.done?T($.value):Promise.resolve($.value).then(W,B);Y((N=N.apply(h,v)).next())});function A(h,v){return p(this,null,function*(){const N=yield(0,l.r5)(h);if(N===null)throw new Error((0,a.t)("\u627E\u4E0D\u5230\u79C1\u4FE1\u4F1A\u8BDD"));if(!N.members.includes(v))throw new Error((0,a.t)("\u4F1A\u8BDD\u6CA1\u6709\u6743\u9650"));return yield(0,i.appendUserDMConverse)(h),N})}function m(h){return h.reduce((N,T)=>j(E({},N),{[T.id]:T.nickname}),{})}function x(h,v){return p(this,null,function*(){var N;if((0,o.YQu)(v.name))return v.name;const T=v.members.filter(te=>te!==h),R=yield Promise.all(T.map(te=>(0,l.pG)(te))),W=(0,o.vIP)().getState().user.friends,B=m(W),Y=R.map(te=>{var ye;return B[te._id]?B[te._id]:(ye=te.nickname)!=null?ye:""}),$=Y.length;return $===1?(N=Y[0])!=null?N:"":$===2?`${Y[0]}, ${Y[1]}`:`${Y[0]}, ${Y[1]} ...`})}},40160:(U,O,e)=>{"use strict";e.d(O,{y:()=>l});var o=e(52983);function l(a){const i=(0,o.useRef)(a);return i.current=a,i}},19692:(U,O,e)=>{"use strict";e.d(O,{$G:()=>A,G3:()=>E,Yt:()=>Q,lT:()=>p,m0:()=>F,t:()=>L,t4:()=>j});var o=e(21357),l=e(96605),a=e(23951),i=e(2773),D=e(74105),M=e(52983),P=e(35005),z=(m,x,h)=>new Promise((v,N)=>{var T=B=>{try{W(h.next(B))}catch(Y){N(Y)}},R=B=>{try{W(h.throw(B))}catch(Y){N(Y)}},W=B=>B.done?v(B.value):Promise.resolve(B.value).then(T,R);W((h=h.apply(m,x)).next())});o.ZP.use(D.lB).use(P.Z).use(l.Db).init({fallbackLng:D.X9,load:"currentOnly",backend:{loadPath:"/locales/{{lng}}/{{ns}}.json",allowMultiLoading:!1,addPath:(...m)=>{console.log("Lost translate:",...m)}},react:{hashTransKey(m){return`k${(0,i.kn)(m).toString(16)}`}}});const L=(m,x,h)=>{try{const v=`k${(0,i.kn)(m).toString(16)}`;let N=o.ZP.t(v,x,h);return N===v&&(N=m,console.info(`[i18n] \u7FFB\u8BD1\u7F3A\u5931: [${v}]${m}`)),N}catch(v){return console.error(v),m}};function Q(m){var x,h;const v=o.ZP.language;return(h=(x=m[v])!=null?x:m["zh-CN"])!=null?h:m["en-US"]}function F(m){return z(this,null,function*(){return new Promise((x,h)=>{o.ZP.changeLanguage(m,v=>{v?h(v):x()})})})}function E(){return o.ZP.language}function j(m){o.ZP.on("loaded",m)}function p(m){o.ZP.on("languageChanged",m)}function A(){const{t:m,ready:x}=(0,a.$)(),[h,v]=(0,M.useState)(()=>L);return(0,M.useEffect)(()=>{v(()=>(...N)=>L(...N))},[m]),{t:h,ready:x}}},74105:(U,O,e)=>{"use strict";e.d(O,{X9:()=>z,ZK:()=>F,lB:()=>j});var o=e(52983),l=e(14698),a=e.n(l),i=e(19692),D=e(54284),M=e(81281),P=(p,A,m)=>new Promise((x,h)=>{var v=R=>{try{T(m.next(R))}catch(W){h(W)}},N=R=>{try{T(m.throw(R))}catch(W){h(W)}},T=R=>R.done?x(R.value):Promise.resolve(R.value).then(v,N);T((m=m.apply(p,A)).next())});const z="en-US";function L(){return navigator.language?navigator.language.startsWith("zh")?"zh-CN":"en-US":z}function Q(){return P(this,null,function*(){return yield(0,D.cF)().get(M.Px,L())})}function F(){const[p,{save:A}]=(0,D.y$)(M.Px,z),m=(0,o.useRef)(),x=(0,o.useCallback)(v=>P(this,null,function*(){a()(m.current)&&(m.current=p),A(v),yield(0,i.m0)(v)}),[p,A]),h=(0,o.useMemo)(()=>a()(m.current)?!1:m.current!==p,[p]);return{language:p,setLanguage:x,isChanged:h}}function E(p){return P(this,null,function*(){yield(0,D.cF)().save(M.Px,p)})}const j={type:"languageDetector",async:!0,init:()=>{},detect:p=>P(void 0,null,function*(){try{const A=yield Q();p(A)}catch(A){p(z)}}),cacheUserLanguage(p){try{E(p)}catch(A){}}}},98281:(U,O,e)=>{"use strict";e.d(O,{eFs:()=>Gs,gvw:()=>Oe,$Ib:()=>An,QEo:()=>Je,AKk:()=>Mt,f4G:()=>be,Xpe:()=>Be.GroupPanelType,NtG:()=>at,g3S:()=>Ce,m$Z:()=>Dr.zt,q6$:()=>nr.q6,IE7:()=>vt,cCv:()=>cr,NDn:()=>zr,vAN:()=>Lr,rUo:()=>Qt,m8p:()=>Te.m8,FcZ:()=>Ys,GM2:()=>Be.applyGroupInvite,x9K:()=>Bt,Ntz:()=>R.Nt,_CB:()=>R._C,D3K:()=>R.D3,Kdd:()=>E,J3N:()=>Ur,ONy:()=>le,YXr:()=>b.checkTokenValid,xuY:()=>b.claimTemporaryUser,L1i:()=>Te.L1,sSU:()=>Be.createGroup,fiB:()=>Be.createGroupInviteCode,XAi:()=>Be.createGroupPanel,Tzh:()=>Fe,DW_:()=>b.createTemporaryUser,fA3:()=>to,u39:()=>Fs,L4o:()=>Be.deleteGroupInvite,J9q:()=>Be.deleteGroupPanel,$Zg:()=>en,K_u:()=>xr,Y4U:()=>Xn,DtN:()=>Ho,o9n:()=>b.forgetPassword,KJm:()=>$r,vMv:()=>Vr,TcU:()=>Be.getAllGroupInviteCode,D6C:()=>pe.D6,r5V:()=>pe.r5,ct2:()=>pe.ct,Mlq:()=>pe.Ml,pGV:()=>pe.pG,U$y:()=>pe.U$,S8F:()=>wt.S8,Q$5:()=>_r,HiA:()=>Sr,doy:()=>Be.getGroupBasicInfo,r3q:()=>Be.getGroupConfigWithInfo,G33:()=>T.G3,pZA:()=>sr,vIP:()=>js,qQ$:()=>A.qQ,cF2:()=>et.cF,hyC:()=>ht,TGs:()=>ws,jUY:()=>m,yGS:()=>h,yvY:()=>v,VxZ:()=>Qs,YQu:()=>H.YQ,Mo8:()=>Ts,YtP:()=>T.Yt,fZz:()=>b.loginWithEmail,ouS:()=>b.loginWithToken,o4J:()=>i,uRW:()=>Be.modifyGroupField,d89:()=>Be.modifyGroupPanel,jOv:()=>b.modifyUserField,MjZ:()=>b.modifyUserPassword,t4N:()=>T.t4,Awg:()=>Vs.A,XV6:()=>Be.quitGroup,peM:()=>qt,csP:()=>tr.cs,Kr1:()=>Bo,YiW:()=>b.registerWithEmail,tJD:()=>Rr,WOV:()=>nn,WY0:()=>j.W,c0U:()=>b.resetPassword,eGN:()=>b.searchUserWithUniqueName,bG5:()=>Tt,brB:()=>ye,J7p:()=>tr.J7,I5R:()=>ge,YAW:()=>A.YA,poP:()=>et.po,lx9:()=>B,OvJ:()=>tr.Ov,cUn:()=>Ps,Agn:()=>ne.A,Nvc:()=>Bs,wp$:()=>te,hJM:()=>Y,omK:()=>Rs,jiy:()=>$,lHp:()=>W,t:()=>T.t,AwB:()=>mn,cTq:()=>Hs,cGl:()=>Pt,TL5:()=>he.TL,CGy:()=>he.CG,r53:()=>yt,ilX:()=>nt,IxN:()=>Io,CoE:()=>kn,pHK:()=>so,aoI:()=>G,xzJ:()=>ve,xMc:()=>ut,tv4:()=>pt,hoD:()=>ts,FNv:()=>Dn,Wfz:()=>Xo,Y84:()=>rs,zX9:()=>er,TQq:()=>os.T,tR0:()=>In,PlN:()=>fs,iFL:()=>At,rE2:()=>dt,aaJ:()=>Qr,Tgq:()=>us,mWi:()=>gs,wY6:()=>is,Ew8:()=>br,EP:()=>cs,a_M:()=>ys,WHr:()=>vs,VM1:()=>Es,eT7:()=>Gr,Yzt:()=>Po,GLd:()=>ls,ZKp:()=>kr.ZK,kz6:()=>No,nWw:()=>Ye,GCv:()=>go,j$3:()=>jo,RxY:()=>To,coD:()=>So,JtK:()=>ne.J,cvI:()=>vr,y$C:()=>et.y$,$G7:()=>T.$G,wuX:()=>wr,ysv:()=>ct.y,IIz:()=>Ht,Pc$:()=>Fr,FDf:()=>qn,OqL:()=>yr,Flu:()=>pr,R8f:()=>mo,qoQ:()=>Lo,hIH:()=>lt,i83:()=>N});var o={};e.r(o),e.d(o,{addReaction:()=>Qt,deleteMessage:()=>en,fetchConverseLastMessages:()=>tn,fetchConverseMessage:()=>it,fetchNearbyMessage:()=>Sn,recallMessage:()=>qt,removeReaction:()=>nn,searchMessage:()=>Tn,sendMessage:()=>Tt});var l={};e.r(l),e.d(l,{acceptFriendRequest:()=>zr,addFriendRequest:()=>Lr,cancelFriendRequest:()=>Ur,denyFriendRequest:()=>xr,removeFriend:()=>Rr,setFriendNickname:()=>Vo});var a={};e.r(a),e.d(a,{clearInbox:()=>_o,setInboxAck:()=>$o});var i={};e.r(i),e.d(i,{Qr:()=>Te,r9:()=>l,ru:()=>Be,Ty:()=>a,yw:()=>o,EA:()=>b});var D=e(96319),M=e(39765),P=e(14698),z=e.n(P),L=e(86474),Q=e.n(L),F=(n,t,r)=>new Promise((s,u)=>{var y=f=>{try{C(r.next(f))}catch(w){u(w)}},S=f=>{try{C(r.throw(f))}catch(w){u(w)}},C=f=>f.done?s(f.value):Promise.resolve(f.value).then(y,S);C((r=r.apply(n,t)).next())});function E(n){const t=new M.ZP({size:1e3,storageBackend:n,defaultExpires:1e3*3600*24,enableCache:!0});return{set:(s,u)=>F(this,null,function*(){try{!!s&&typeof s=="string"&&!Q()(u)&&(yield t.save({key:s,data:u}))}catch(y){console.error(y)}return u}),setWithExpires:(s,u,y)=>F(this,null,function*(){try{!!s&&typeof s=="string"&&!Q()(u)&&(yield t.save({key:s,data:u,expires:y}))}catch(S){console.error(S)}return u}),get:(s,u)=>F(this,null,function*(){let y;try{y=yield t.load({key:s,autoSync:!0,syncInBackground:!1})}catch(S){S instanceof M.dR||console.log(`get key ${s} error:`,String(S)),y=z()(u)?null:u}return y}),remove:s=>F(this,null,function*(){yield t.remove({key:s})}),save:(s,u)=>F(this,null,function*(){try{!!s&&typeof s=="string"&&!Q()(u)&&(yield t.save({key:s,data:u,expires:null}))}catch(y){console.error(y)}return u})}}var j=e(72163),p=e(78989),A=e(49076);const m=typeof window!="undefined",x=typeof navigator!="undefined",h=!1,v=!0,N="nightly-202311071407";var T=e(19692),R=e(11318);const[W,B]=(0,R.Nt)("toasts");function Y(n){let t="";n instanceof Error?t=n.message:t=String(n),W(t,"error")}function $(n=(0,T.t)("\u64CD\u4F5C\u6210\u529F")){W(n,"success")}const[te,ye]=(0,R.Nt)("alert"),[Pe,ge]=(0,R.Nt)("global-loading",()=>()=>{});var ne=e(99852),Ne=e(80527),Se=(n,t,r)=>new Promise((s,u)=>{var y=f=>{try{C(r.next(f))}catch(w){u(w)}},S=f=>{try{C(r.throw(f))}catch(w){u(w)}},C=f=>f.done?s(f.value):Promise.resolve(f.value).then(y,S);C((r=r.apply(n,t)).next())});class Ze extends Error{constructor(){super(...arguments);this.name="SocketEventError"}}class We{constructor(t){this.socket=t,this.listener=[],this.closeFn=null,t.onAny((r,s)=>{const u=this.listener.filter(([y])=>y===r);if(u.length===0){console.warn(`[Socket IO] Unhandler event: ${r}`,s);return}u.forEach(([,y])=>{y(s)})})}get connected(){return this.socket.connected}request(t){return Se(this,arguments,function*(r,s={}){return new Promise((u,y)=>{this.socket.emit(r,s,S=>{S.result===!0?u(S.data):S.result===!1&&y(new Ze(`[${r}]: ${S.message}: 
data: ${JSON.stringify(s)}`))})})})}listen(t,r){this.listener.push([`notify:${t}`,r])}removeListener(t,r){const s=this.listener.findIndex(u=>u[0]===`notify:${t}`&&u[1]===r);s>=0&&this.listener.splice(s,1)}mockReconnect(){this.socket.disconnect(),W("reconnect after 5s"),setTimeout(()=>{this.socket.io.skipReconnect=!1,this.socket.io.reconnect()},5*1e3)}onReconnect(t){this.socket.io.on("reconnect",t)}disconnect(){this.socket.disconnect()}setupSocketStatusTip(){const t=this.socket,r=()=>{this.closeFn||(this.closeFn=Pe((0,T.t)("\u6B63\u5728\u91CD\u65B0\u94FE\u63A5")))},s=()=>{this.closeFn&&typeof this.closeFn=="function"&&(this.closeFn(),this.closeFn=null)};t.on("connect",()=>{console.log("\u8FDE\u63A5\u6210\u529F"),s(),ne.A.emit("updateNetworkStatus","connected")}),t.on("connecting",u=>{console.log("\u6B63\u5728\u8FDE\u63A5"),r(),ne.A.emit("updateNetworkStatus","reconnecting")}),t.on("disconnect",u=>{console.log("\u4E0E\u670D\u52A1\u5668\u7684\u94FE\u63A5\u5DF2\u65AD\u5F00"),Y((0,T.t)("\u4E0E\u670D\u52A1\u5668\u7684\u94FE\u63A5\u5DF2\u65AD\u5F00")),s(),ne.A.emit("updateNetworkStatus","disconnected")}),t.on("connect_error",u=>{console.log("\u8FDE\u63A5\u5931\u8D25"),Y((0,T.t)("\u8FDE\u63A5\u5931\u8D25")),s(),ne.A.emit("updateNetworkStatus","disconnected")}),t.io.on("reconnect",u=>{console.log("\u91CD\u8FDE\u6210\u529F"),s(),ne.A.emit("updateNetworkStatus","connected")}),t.io.on("reconnect_attempt",u=>{console.log("\u91CD\u8FDE\u4E2D..."),r(),ne.A.emit("updateNetworkStatus","reconnecting")}),t.io.on("reconnect_error",u=>{console.error("\u91CD\u8FDE\u5C1D\u8BD5\u5931\u8D25...",u),r(),ne.A.emit("updateNetworkStatus","reconnecting")}),t.io.on("reconnect_failed",()=>{console.error("\u91CD\u8FDE\u5931\u8D25..."),r(),ne.A.emit("updateNetworkStatus","disconnected")}),t.io.on("error",u=>{console.error("\u7F51\u7EDC\u51FA\u73B0\u5F02\u5E38",u),Y((0,T.t)("\u7F51\u7EDC\u51FA\u73B0\u5F02\u5E38")),s(),ne.A.emit("updateNetworkStatus","disconnected")})}}let Ae;function Fe(n){return z()(Ae)||Ae.close(),new Promise((t,r)=>{Ae=(0,p.io)((0,A.qQ)(),{transports:["websocket"],auth:{token:n},forceNew:!0,parser:Ne}),Ae.once("connect",()=>{const s=new We(Ae);s.setupSocketStatusTip(),t(s)}),Ae.once("error",()=>{r()}),h&&Ae.onAny((...s)=>{console.debug("Receive Notify:",s)})})}var pe=e(62789),Le=e(98258),K=e(43697),b=e(77100),H=e(518);function ve(n,t=!1){const{data:r}=(0,Le.a)(["user",n],()=>(0,H.YQ)(n)?(0,b.fetchUserInfo)(n):{},{staleTime:2*60*60*1e3,refetchOnMount:t?"always":!0});return r??{}}function G(n,t){const r=20*1e3,{data:s,isSuccess:u}=(0,Le.a)(["onlineStatus",n.join(",")],()=>(0,b.getUserOnlineStatus)(n),{staleTime:r});return u&&Array.isArray(s)&&typeof t=="function"&&s&&t(s),s??n.map(()=>!1)}var d=e(52983),Z=Object.defineProperty,_=Object.defineProperties,q=Object.getOwnPropertyDescriptors,ae=Object.getOwnPropertySymbols,Me=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,J=(n,t,r)=>t in n?Z(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ee=(n,t)=>{for(var r in t||(t={}))Me.call(t,r)&&J(n,r,t[r]);if(ae)for(var r of ae(t))de.call(t,r)&&J(n,r,t[r]);return n},ce=(n,t)=>_(n,q(t));class Re extends d.PureComponent{constructor(){super(...arguments);this.state={portals:[]},this.mount=(t,r)=>{this.setState(s=>({portals:[...s.portals,{key:t,children:r}]}))},this.update=(t,r)=>{this.setState(s=>({portals:s.portals.map(u=>u.key===t?ce(ee({},u),{children:r}):u)}))},this.unmount=t=>{this.setState(r=>({portals:r.portals.filter(s=>s.key!==t)}))}}render(){const{renderManagerView:t}=this.props;return this.state.portals.map(({key:r,children:s},u)=>d.createElement(d.Fragment,{key:r},t(s)))}}function we(n){const t=d.createContext(null);return t.displayName="PortalContext-"+n,t}class Xe extends d.Component{componentDidMount(){if(!this.props.manager)throw new Error("Looks like you forgot to wrap your root component with `PortalHost` component.\n");this._key=this.props.manager.mount(this.props.hostName,this.props.children)}componentDidUpdate(){this.props.manager.update(this.props.hostName,this._key,this.props.children)}componentWillUnmount(){this.props.manager.unmount(this.props.hostName,this._key)}render(){return null}}class Je{constructor(){this.listeners={}}emit(t,...r){if(!(t in this.listeners))return;const s=this.listeners[t];for(let u=0,y=s.length;u<y;u++){s[u].call(this,event);const S=s[u];typeof S=="function"&&S(...r)}}addListener(t,r){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(r)}removeListener(t,r){if(!(t in this.listeners))return;const s=this.listeners[t];for(let u=0,y=s.length;u<y;u++)if(s[u]===r)return s.splice(u,1),this.removeListener(t,r)}}const je="ADD_PORTAL",ue="REMOVE_PORTAL",ze=n=>d.createElement(d.Fragment,null,n);function Bt(n){const{hostName:t="default",eventEmitter:r=new Je,renderManagerView:s=ze}=n;let u=1e4;const y=Ee=>{const se=u++;return r.emit(je,t,Ee,se),se},S=Ee=>{r.emit(ue,t,Ee)},C=we(t),f=d.memo(Ee=>{const se=(0,d.useRef)(),qe=(0,d.useRef)(0),He=(0,d.useRef)([]),It=(0,d.useRef)(t);(0,d.useEffect)(()=>{It.current=t},[t]);const $e=(0,d.useCallback)((Ue,Ke,_e)=>{if(Ue!==It.current)return;const Rt=_e||qe.current++;return se.current?se.current.mount(Rt,Ke):He.current.push({type:"mount",key:Rt,children:Ke}),Rt},[]),Ut=(0,d.useCallback)((Ue,Ke,_e)=>{if(Ue===It.current)if(se.current)se.current.update(Ke,_e);else{const Rt={type:"mount",key:Ke,children:_e},Xr=He.current.findIndex(ar=>ar.type==="mount"||ar.type==="update"&&ar.key===Ke);Xr>-1?He.current[Xr]=Rt:He.current.push(Rt)}},[]),xe=(0,d.useCallback)((Ue,Ke)=>{Ue===It.current&&(se.current?se.current.unmount(Ke):He.current.push({type:"unmount",key:Ke}))},[]);return(0,d.useEffect)(()=>(r.addListener(je,$e),r.addListener(ue,xe),()=>{r.removeListener(je,$e),r.removeListener(ue,xe)}),[$e,xe]),(0,d.useEffect)(()=>{const Ue=He.current,Ke=se.current;for(;Ue.length&&Ke;){const _e=Ue.pop();if(!!_e)switch(_e.type){case"mount":Ke.mount(_e.key,_e.children);break;case"update":Ke.update(_e.key,_e.children);break;case"unmount":Ke.unmount(_e.key);break}}},[]),d.createElement(C.Provider,{value:{mount:$e,update:Ut,unmount:xe}},d.createElement(d.Fragment,null,Ee.children),d.createElement(Re,{ref:se,renderManagerView:s}))});f.displayName="PortalHost-"+t;const w=d.memo(Ee=>{const se=(0,d.useContext)(C);return z()(se)?(console.error("Not find PortalContext"),null):d.createElement(Xe,{hostName:t,manager:se},Ee.children)});return w.displayName="PortalRender-"+t,{add:y,remove:S,PortalHost:f,PortalRender:w}}var et=e(54284);const ft="alphaMode";function Pt(){const[n,{save:t}]=(0,et.y$)(ft,!1);return{isAlphaMode:n,setAlphaMode:t}}const gt=d.memo(n=>{const{isAlphaMode:t}=Pt();return t?d.createElement(d.Fragment,null,n.children):null});gt.displayName="AlphaContainer";const Mt=d.memo(n=>h?d.createElement(d.Fragment,null,n.children):null);Mt.displayName="DevContainer";var Nt=e(31672),mt=e(21974);const Ot=d.memo(n=>d.createElement(mt.S,{client:Nt.E,persistOptions:{persister:Nt.L}},n.children));Ot.displayName="CacheProvider";function Ct(n){if(n==="dark")return{isDarkMode:!0,extraSchemeName:null};if(n==="light")return{isDarkMode:!1,extraSchemeName:null};if(n==="auto")return{isDarkMode:window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches:!0,extraSchemeName:null};{let[t,r]=n.split("+");return(0,H.YQ)(r)||(r=t,t="dark"),{isDarkMode:t==="dark",extraSchemeName:`theme-${r}`}}}const tt=d.createContext({colorScheme:"dark",setColorScheme:()=>{}});tt.displayName="ColorSchemeContext";const jt=d.memo(n=>{const[t="dark",{save:r}]=(0,et.y$)("colorScheme","dark");return(0,d.useEffect)(()=>{ne.A.emit("loadColorScheme",t)},[t]),d.createElement(tt.Provider,{value:{colorScheme:t,setColorScheme:r}},n.children)});jt.displayName="ColorSchemeContextProvider";function pt(){const{colorScheme:n,setColorScheme:t}=(0,d.useContext)(tt),{isDarkMode:r,extraSchemeName:s}=Ct(n);return{colorScheme:n,setColorScheme:t,isDarkMode:r,extraSchemeName:s}}const vt=d.memo(n=>d.createElement(Ot,null,d.createElement(jt,null,n.children)));vt.displayName="TcProvider";var Ft=e(71607),ie=e.n(Ft);const me=d.createContext({replyMsg:null,setReplyMsg:ie()});me.displayName="ChatBoxContext";const Oe=d.memo(n=>{const[t,r]=(0,d.useState)(null);return d.createElement(me.Provider,{value:{replyMsg:t,setReplyMsg:r}},n.children)});Oe.displayName="ChatBoxContextProvider";function ut(){const n=(0,d.useContext)(me),t=(0,d.useCallback)(()=>{n.setReplyMsg(null)},[n.setReplyMsg]);return{hasContext:n.setReplyMsg!==ie(),replyMsg:n.replyMsg,setReplyMsg:n.setReplyMsg,clearReplyMsg:t}}var wt=e(96228);function Pn(){const n=(0,d.useRef)(!1),t=(0,d.useCallback)(()=>n.current,[]);return(0,d.useEffect)(()=>(n.current=!0,()=>{n.current=!1}),[]),t}var Nn=Object.defineProperty,Vt=Object.defineProperties,On=Object.getOwnPropertyDescriptors,$t=Object.getOwnPropertySymbols,_t=Object.prototype.hasOwnProperty,Cn=Object.prototype.propertyIsEnumerable,Xt=(n,t,r)=>t in n?Nn(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,jn=(n,t)=>{for(var r in t||(t={}))_t.call(t,r)&&Xt(n,r,t[r]);if($t)for(var r of $t(t))Cn.call(t,r)&&Xt(n,r,t[r]);return n},kt=(n,t)=>Vt(n,On(t));function nt(n,t=[],r={loading:!1}){const s=(0,d.useRef)(0),u=Pn(),[y,S]=(0,d.useState)(r),C=(0,d.useCallback)((...f)=>{const w=++s.current;return S(Ee=>kt(jn({},Ee),{loading:!0})),n(...f).then(Ee=>(u()&&w===s.current&&S({value:Ee,loading:!1}),Ee),Ee=>(u()&&w===s.current&&S({error:Ee,loading:!1}),Ee))},t);return[y,C]}function yt(n,t=[]){const[r,s]=nt(n,t,{loading:!0});return(0,d.useEffect)(()=>{s()},[s]),r}var ke=(n,t,r)=>new Promise((s,u)=>{var y=f=>{try{C(r.next(f))}catch(w){u(w)}},S=f=>{try{C(r.throw(f))}catch(w){u(w)}},C=f=>f.done?s(f.value):Promise.resolve(f.value).then(y,S);C((r=r.apply(n,t)).next())});function it(n,t){return ke(this,null,function*(){const{data:r}=yield j.W.get("/api/chat/message/fetchConverseMessage",{params:{converseId:n,startId:t}});return r})}function Tt(n){return ke(this,null,function*(){const{data:t}=yield j.W.post("/api/chat/message/sendMessage",n);return t})}function qt(n){return ke(this,null,function*(){const{data:t}=yield j.W.post("/api/chat/message/recallMessage",{messageId:n});return t})}function en(n){return ke(this,null,function*(){const{data:t}=yield j.W.post("/api/chat/message/deleteMessage",{messageId:n});return t})}function Tn(n,t,r){return ke(this,null,function*(){const{data:s}=yield j.W.post("/api/chat/message/searchMessage",{text:n,converseId:t,groupId:r});return s})}function tn(n){return ke(this,null,function*(){const{data:t}=yield j.W.post("/api/chat/message/fetchConverseLastMessages",{converseIds:n});return t})}function Sn(n){return ke(this,null,function*(){const{data:t}=yield j.W.post("/api/chat/message/fetchNearbyMessage",n);return t})}function Qt(n,t){return ke(this,null,function*(){const{data:r}=yield j.W.post("/api/chat/message/addReaction",{messageId:n,emoji:t});return r})}function nn(n,t){return ke(this,null,function*(){const{data:r}=yield j.W.post("/api/chat/message/removeReaction",{messageId:n,emoji:t});return r})}var Ln=e(2031),st=e(47393),rn=e(26226),St=e.n(rn);const bt={info:null,friends:[],friendRequests:[]},Wt=(0,st.oM)({name:"user",initialState:bt,reducers:{setUserInfo(n,t){n.info=t.payload},setUserInfoField(n,t){const{fieldName:r,fieldValue:s}=t.payload;n.info!==null&&St()(n.info,[r],s)},setUserInfoExtra(n,t){const{fieldName:r,fieldValue:s}=t.payload;n.info!==null&&St()(n.info,["extra",r],s)},setFriendList(n,t){n.friends=t.payload},setFriendRequests(n,t){n.friendRequests=t.payload},appendFriend(n,t){n.friends.some(r=>r===t.payload)||n.friends.push(t.payload)},removeFriend(n,t){const r=t.payload,s=n.friends.findIndex(u=>u.id===r);s>=0&&n.friends.splice(s,1)},appendFriendRequest(n,t){n.friendRequests.some(({_id:r})=>r===t.payload._id)||n.friendRequests.push(t.payload)},removeFriendRequest(n,t){const r=n.friendRequests.findIndex(({_id:s})=>s===t.payload);r>=0&&n.friendRequests.splice(r,1)},setFriendNickname(n,t){const{friendId:r,nickname:s}=t.payload,u=n.friends.find(y=>y.id===r);u&&(u.nickname=s)}}}),lt=Wt.actions,zn=Wt.reducer;var on=e(3010),sn=e.n(on),xn=e(40916),Gt=e.n(xn),Lt=e(77875),Un=e.n(Lt),Rn=Object.defineProperty,an=Object.getOwnPropertySymbols,Bn=Object.prototype.hasOwnProperty,Fn=Object.prototype.propertyIsEnumerable,Qe=(n,t,r)=>t in n?Rn(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ge=(n,t)=>{for(var r in t||(t={}))Bn.call(t,r)&&Qe(n,r,t[r]);if(an)for(var r of an(t))Fn.call(t,r)&&Qe(n,r,t[r]);return n};const wn={currentConverseId:null,converses:{},ack:{},inbox:[],lastMessageMap:{}},rt=(0,st.oM)({name:"chat",initialState:wn,reducers:{updateCurrentConverseId(n,t){n.currentConverseId=t.payload},setConverseInfo(n,t){const r=t.payload._id,s=n.converses[r]?Ge({},n.converses[r]):{messages:[],hasFetchedHistory:!1,hasMoreMessage:!0};n.converses[r]=Ge(Ge({},s),t.payload)},appendConverseMessage(n,t){var r;const{converseId:s,messages:u}=t.payload;if(!n.converses[s]){console.error("\u6CA1\u6709\u4F1A\u8BDD\u4FE1\u606F, \u8BF7\u5148\u8BBE\u7F6E\u4F1A\u8BDD\u4FE1\u606F");return}const y=Gt()(sn()([...n.converses[s].messages,...u],"_id"),"_id","asc");if(n.converses[s].messages=y,n.currentConverseId!==s){const S=(r=Un()(y.filter(C=>!(0,H.AJ)(C._id))))==null?void 0:r._id;(0,H.YQ)(S)&&(n.lastMessageMap[s]=S)}},appendLocalMessage(n,t){const{author:r,localMessageId:s,payload:u}=t.payload,{converseId:y,groupId:S,content:C,meta:f}=u;if(!n.converses[y]){console.error("\u6CA1\u6709\u4F1A\u8BDD\u4FE1\u606F, \u8BF7\u5148\u8BBE\u7F6E\u4F1A\u8BDD\u4FE1\u606F");return}const w={_id:s,author:r,groupId:S,converseId:y,content:C,meta:f,isLocal:!0},Ee=Gt()(sn()([...n.converses[y].messages,w],"_id"),"_id","asc");n.converses[y].messages=Ee},initialHistoryMessage(n,t){const{converseId:r,historyMessages:s}=t.payload;if(!n.converses[r]){console.error("\u6CA1\u6709\u4F1A\u8BDD\u4FE1\u606F, \u8BF7\u5148\u8BBE\u7F6E\u4F1A\u8BDD\u4FE1\u606F");return}rt.caseReducers.appendConverseMessage(n,rt.actions.appendConverseMessage({converseId:r,messages:[...s]})),s.length<50&&(n.converses[r].hasMoreMessage=!1),n.converses[r].hasFetchedHistory=!0},appendHistoryMessage(n,t){const{converseId:r,historyMessages:s}=t.payload;if(!n.converses[r]){console.error("\u6CA1\u6709\u4F1A\u8BDD\u4FE1\u606F, \u8BF7\u5148\u8BBE\u7F6E\u4F1A\u8BDD\u4FE1\u606F");return}rt.caseReducers.appendConverseMessage(n,rt.actions.appendConverseMessage({converseId:r,messages:[...s]})),s.length<50&&(n.converses[r].hasMoreMessage=!1),n.converses[r].hasFetchedHistory=!0},removeConverse(n,t){const{converseId:r}=t.payload;!n.converses[r]||delete n.converses[r]},clearAllConverses(n){n.converses={}},setConverseAck(n,t){const{converseId:r,lastMessageId:s}=t.payload;n.ack[r]=s},updateMessageInfo(n,t){var r;const{message:s}=t.payload,u=(r=t.payload.messageId)!=null?r:s._id,y=s.converseId;if(!y){console.warn("Not found converse id,",s);return}const S=n.converses[y];if(!S){console.warn("Not found converse,",y);return}const C=S.messages.findIndex(f=>f._id===u);C>=0&&(S.messages[C]=Ge(Ge({},S.messages[C]),s))},deleteMessageById(n,t){const{converseId:r,messageId:s}=t.payload,u=n.converses[r];if(!u){console.warn("Not found converse,",r);return}const y=u.messages.findIndex(S=>S._id===s);y>=0&&u.messages.splice(y,1)},setLastMessageMap(n,t){const r=t.payload;Array.isArray(r)&&r.forEach(s=>{n.lastMessageMap[s.converseId]=s.lastMessageId})},appendMessageReaction(n,t){const{converseId:r,messageId:s,reaction:u}=t.payload,y=n.converses[r];if(!y){console.warn("Not found converse,",r);return}const S=y.messages.find(C=>C._id===s);if(!S){console.warn("Not found message,",s);return}Array.isArray(S.reactions)||(S.reactions=[]),S.reactions.push(u)},removeMessageReaction(n,t){const{converseId:r,messageId:s,reaction:u}=t.payload,y=n.converses[r];if(!y){console.warn("Not found converse,",r);return}const S=y.messages.find(f=>f._id===s);if(!S){console.warn("Not found message,",s);return}Array.isArray(S.reactions)||(S.reactions=[]);const C=S.reactions.findIndex(f=>f.name===u.name&&f.author===u.author);S.reactions.splice(C,1)},setInboxList(n,t){const r=t.payload;n.inbox=r},appendInboxItem(n,t){n.inbox.push(t.payload)},setInboxItemAck(n,t){const r=t.payload,s=n.inbox.find(u=>u._id===r);s&&(s.readed=!0)}}}),le=rt.actions,un=rt.reducer;var ln=Object.defineProperty,cn=Object.defineProperties,dn=Object.getOwnPropertyDescriptors,fn=Object.getOwnPropertySymbols,Qn=Object.prototype.hasOwnProperty,bn=Object.prototype.propertyIsEnumerable,Yt=(n,t,r)=>t in n?ln(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ot=(n,t)=>{for(var r in t||(t={}))Qn.call(t,r)&&Yt(n,r,t[r]);if(fn)for(var r of fn(t))bn.call(t,r)&&Yt(n,r,t[r]);return n},Et=(n,t)=>cn(n,dn(t));const Wn={groups:{}},Kt=(0,st.oM)({name:"group",initialState:Wn,reducers:{appendGroups(n,t){const r=t.payload;for(const s of r)n.groups[s._id]=ot(ot({},n.groups[s._id]),s)},updateGroup(n,t){const r=t.payload,s=r._id;n.groups[s]&&(n.groups[s]=ot(ot({},n.groups[s]),r))},removeGroup(n,t){const r=t.payload;delete n.groups[r]},pinGroupPanel(n,t){const{groupId:r,panelId:s}=t.payload;n.groups[r]&&(n.groups[r]=Et(ot({},n.groups[r]),{pinnedPanelId:s}))},unpinGroupPanel(n,t){const{groupId:r}=t.payload;n.groups[r]&&(n.groups[r]=Et(ot({},n.groups[r]),{pinnedPanelId:void 0}))},updateGroupConfig(n,t){var r;const{groupId:s,configName:u,configValue:y}=t.payload,S=n.groups[s];S&&(n.groups[s]=Et(ot({},S),{config:Et(ot({},(r=S.config)!=null?r:{}),{[u]:y})}))}}}),ht=Kt.actions,Gn=Kt.reducer,gn={panelWinUrls:[]},Mn=(0,st.oM)({name:"ui",initialState:gn,reducers:{addPanelWindowUrl(n,t){const r=t.payload.url;n.panelWinUrls.push(r)},deletePanelWindowUrl(n,t){const r=t.payload.url,s=n.panelWinUrls.indexOf(r);n.panelWinUrls.splice(s,1)}}}),mn=Mn.actions,Yn=Mn.reducer,pn={networkStatus:"initial",reconnectNum:0},vn=(0,st.oM)({name:"global",initialState:pn,reducers:{setNetworkStatus(n,t){n.networkStatus=t.payload},incReconnectNum(n){n.reconnectNum+=1}}}),Zt=vn.actions,yn=vn.reducer,En=(0,Ln.UY)({global:yn,user:zn,chat:un,group:Gn,ui:Yn});var he=e(84966),Kn=e(13546),Dt=e.n(Kn),hn=e(61422),c=e.n(hn),g=e(49335),I=e.n(g),V=Object.defineProperty,re=Object.getOwnPropertySymbols,oe=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,fe=(n,t,r)=>t in n?V(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,De=(n,t)=>{for(var r in t||(t={}))oe.call(t,r)&&fe(n,r,t[r]);if(re)for(var r of re(t))k.call(t,r)&&fe(n,r,t[r]);return n};const Ie=["_id","content","author"];class at{constructor(t){this.payload=De({},t)}hasReply(){const t=Dt()(this.payload,["meta","reply"]);return z()(t)?!1:t}setReplyMsg(t){z()(t)||St()(this.payload,["meta","reply"],I()(t,Ie))}generatePayload(){return De({},this.payload)}}var Te=e(22149),ct=e(40160),zt=(n,t,r)=>new Promise((s,u)=>{var y=f=>{try{C(r.next(f))}catch(w){u(w)}},S=f=>{try{C(r.throw(f))}catch(w){u(w)}},C=f=>f.done?s(f.value):Promise.resolve(f.value).then(y,S);C((r=r.apply(n,t)).next())});const Zn=()=>c()("localMessage_");function Jn(){const n=(0,he.CG)(C=>{var f;return(f=C.user.info)==null?void 0:f._id}),t=(0,he.TL)(),{hasContext:r,replyMsg:s,clearReplyMsg:u}=ut(),y=(0,ct.y)(s);return er(C=>{if(C.content===""){Y((0,T.t)("\u65E0\u6CD5\u53D1\u9001\u7A7A\u6D88\u606F"));return}if(r===!0){const w=new at(C);z()(y.current)||(w.setReplyMsg(y.current),u()),C=w.generatePayload()}const f=Zn();t(le.appendLocalMessage({author:n,localMessageId:f,payload:C})),Tt(C).then(w=>{t(le.deleteMessageById({converseId:C.converseId,messageId:f})),t(le.appendConverseMessage({converseId:C.converseId,messages:[w]})),ne.A.emit("sendMessage",C)}).catch(w=>{Y(w),t(le.updateMessageInfo({messageId:f,message:{sendFailed:!0}}))})})}function Hn(n){var t,r;const{converseId:s,isGroup:u}=n,y=(0,he.CG)(xe=>xe.chat.converses[s]),S=(0,he.CG)(xe=>xe.global.reconnectNum),C=(t=y==null?void 0:y.hasMoreMessage)!=null?t:!0,f=(0,he.TL)(),w=(r=y==null?void 0:y.messages)!=null?r:[],Ee=(0,he.CG)(xe=>{var Ue;return(Ue=xe.user.info)==null?void 0:Ue._id});(0,d.useEffect)(()=>(f(le.updateCurrentConverseId(s)),()=>{f(le.updateCurrentConverseId(null))}),[s]);const{loading:se,error:qe}=yt(()=>zt(this,null,function*(){if(!!Ee)if(y){if(!y.hasFetchedHistory){const xe=z()(y.messages[0])?void 0:y.messages[0]._id,Ue=yield it(s,xe);f(le.initialHistoryMessage({converseId:s,historyMessages:Ue}))}}else{if(u)f(le.setConverseInfo({_id:s,name:"",type:Te.tv.Group,members:[]}));else{const Ue=yield(0,wt.tx)(s,Ee);f(le.setConverseInfo(Ue))}const xe=yield it(s);f(le.initialHistoryMessage({converseId:s,historyMessages:xe}))}}),[s,S,Ee]),[{loading:He},It]=kn(()=>zt(this,null,function*(){const xe=Dt()(w,[0,"_id"]);if(!(0,H.YQ)(xe)||C===!1)return;const Ue=yield it(s,xe);f(le.appendHistoryMessage({converseId:s,historyMessages:Ue}))}),[s,C,Dt()(w,[0,"_id"])]),$e=Ye(()=>zt(this,null,function*(){He||(yield It())})),Ut=Jn();return{messages:w,loading:se,error:qe,isLoadingMore:He,hasMoreMessage:C,handleFetchMoreMessage:$e,handleSendMessage:Ut}}function Vn(n){const t=d.createContext(n.defaultValue);t.displayName=n.displayName;function r(){return d.useContext(t)}return{Context:t,useContext:r}}const{Context:$n,useContext:Dn}=Vn({defaultValue:{},displayName:"ConverseMessageContext"}),An=d.memo(n=>{const{converseId:t,isGroup:r}=n,{messages:s,loading:u,error:y,isLoadingMore:S,hasMoreMessage:C,handleFetchMoreMessage:f,handleSendMessage:w}=Hn({converseId:t,isGroup:r});return d.createElement($n.Provider,{value:{messages:s,loading:u,error:y,isLoadingMore:S,hasMoreMessage:C,fetchMoreMessage:f,sendMessage:w}},n.children)});An.displayName="ConverseMessageProvider";const Jt=d.createContext({groupInfo:null});Jt.displayName="GroupInfoContext";const be=d.memo(n=>d.createElement(Jt.Provider,{value:{groupInfo:n.groupInfo}},n.children));be.displayName="GroupInfoContextProvider";function dt(){return(0,d.useContext)(Jt).groupInfo}var _n=e(13432);const cr=d.memo(n=>d.createElement(_n.c,null,n.children));cr.displayName="Trans";var kr=e(74105),qr=e(45563),dr=e.n(qr);function Ye(n){const t=(0,d.useRef)(n);t.current=(0,d.useMemo)(()=>n,[n]);const r=(0,d.useRef)();return r.current||(r.current=function(...s){return t.current.apply(this,s)}),r.current}const eo=(n=>(t,r)=>{const s=(0,d.useRef)(!1);n(()=>()=>{s.current=!1},[]),n(()=>{if(!s.current)s.current=!0;else return t()},r)})(d.useEffect);function to(n){function t(r,s){let u;try{u=n()}catch(se){console.error(se)}const y=se=>(s==null?void 0:s.serializer)?s==null?void 0:s.serializer(se):JSON.stringify(se),S=se=>(s==null?void 0:s.deserializer)?s==null?void 0:s.deserializer(se):JSON.parse(se);function C(){try{const se=u==null?void 0:u.getItem(r);if(se)return S(se)}catch(se){console.error(se)}return dr()(s==null?void 0:s.defaultValue)?s==null?void 0:s.defaultValue():s==null?void 0:s.defaultValue}const[f,w]=(0,d.useState)(()=>C());return eo(()=>{w(C())},[r]),[f,Ye(se=>{const qe=dr()(se)?se(f):se;if(w(qe),Q()(qe))u==null||u.removeItem(r);else try{u==null||u.setItem(r,y(qe))}catch(He){console.error(He)}})]}return t}var no=e(96393),ro=(n,t,r)=>new Promise((s,u)=>{var y=f=>{try{C(r.next(f))}catch(w){u(w)}},S=f=>{try{C(r.throw(f))}catch(w){u(w)}},C=f=>f.done?s(f.value):Promise.resolve(f.value).then(y,S);C((r=r.apply(n,t)).next())});const Xn=(0,no.w)("fetchAvailableServices",()=>ro(void 0,null,function*(){const{data:n}=yield j.W.get("/api/gateway/health");return n.services}));var oo=(n,t,r)=>new Promise((s,u)=>{var y=f=>{try{C(r.next(f))}catch(w){u(w)}},S=f=>{try{C(r.throw(f))}catch(w){u(w)}},C=f=>f.done?s(f.value):Promise.resolve(f.value).then(y,S);C((r=r.apply(n,t)).next())});function so(){const[{loading:n,value:t},r]=nt(()=>Xn());(0,d.useEffect)(()=>{r()},[]);const s=Ye(()=>oo(this,null,function*(){Xn.clearCache(),r()}));return{loading:n,availableServices:t,refetch:s}}var ao=(n,t,r)=>new Promise((s,u)=>{var y=f=>{try{C(r.next(f))}catch(w){u(w)}},S=f=>{try{C(r.throw(f))}catch(w){u(w)}},C=f=>f.done?s(f.value):Promise.resolve(f.value).then(y,S);C((r=r.apply(n,t)).next())});function kn(n,t=[]){const[{loading:r,value:s},u]=nt((...y)=>ao(this,null,function*(){try{return yield n(...y)}catch(S){Y(S),console.error("[useAsyncRequest] error:",S)}}),t);return[{loading:r,value:s},u]}var uo=e(92238),io=e.n(uo),lo=Object.defineProperty,fr=Object.getOwnPropertySymbols,co=Object.prototype.hasOwnProperty,fo=Object.prototype.propertyIsEnumerable,gr=(n,t,r)=>t in n?lo(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Mr=(n,t)=>{for(var r in t||(t={}))co.call(t,r)&&gr(n,r,t[r]);if(fr)for(var r of fr(t))fo.call(t,r)&&gr(n,r,t[r]);return n},mr=(n,t,r)=>new Promise((s,u)=>{var y=f=>{try{C(r.next(f))}catch(w){u(w)}},S=f=>{try{C(r.throw(f))}catch(w){u(w)}},C=f=>f.done?s(f.value):Promise.resolve(f.value).then(y,S);C((r=r.apply(n,t)).next())});function pr(){const n=(0,K.NL)(),{data:t,isLoading:r}=(0,Le.a)([pe.r7.userSettings],()=>(0,b.getUserSettings)(),{staleTime:10*60*1e3}),[{loading:s},u]=kn(y=>mr(this,null,function*(){n.setQueryData([pe.r7.userSettings],()=>Mr(Mr({},t),y));const S=yield(0,b.setUserSettings)(y);n.setQueryData([pe.r7.userSettings],()=>S),ne.A.emit("userSettingsUpdate",S)}),[n]);return{settings:t??{},setSettings:u,loading:r||s}}function vr(n,t){var r;const{settings:s,setSettings:u,loading:y}=pr();return{value:(r=s[n])!=null?r:t,setValue:S=>mr(this,null,function*(){return u({[n]:S})}),loading:y}}function yr(){const{value:n=[],setValue:t}=vr("messageNotificationMuteList",[]),r=Ye(S=>{t([...n,S])}),s=Ye(S=>{t(io()(n,S))}),u=Ye(S=>{n.includes(S)?s(S):r(S)}),y=Ye((S,C)=>C?n.includes(S)||n.includes(C):n.includes(S));return{mutedList:n,mute:r,unmute:s,toggleMute:u,checkIsMuted:y}}function go(){const{checkIsMuted:n}=yr();(0,ne.J)("receiveMessage",t=>{!t||n(t.converseId,t.groupId)||ne.A.emit("receiveUnmutedMessage",t)})}var Mo=(n,t,r)=>new Promise((s,u)=>{var y=f=>{try{C(r.next(f))}catch(w){u(w)}},S=f=>{try{C(r.throw(f))}catch(w){u(w)}},C=f=>f.done?s(f.value):Promise.resolve(f.value).then(y,S);C((r=r.apply(n,t)).next())});function qn(n=[]){const{value:t=[]}=yt(()=>Mo(this,null,function*(){return yield Promise.all(n.map(s=>(0,pe.pG)(s)))}),[n.join(",")]);return t}function mo(n){return qn(n).map(r=>r.nickname)}var po=Object.defineProperty,vo=Object.defineProperties,yo=Object.getOwnPropertyDescriptors,Er=Object.getOwnPropertySymbols,Eo=Object.prototype.hasOwnProperty,ho=Object.prototype.propertyIsEnumerable,hr=(n,t,r)=>t in n?po(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Do=(n,t)=>{for(var r in t||(t={}))Eo.call(t,r)&&hr(n,r,t[r]);if(Er)for(var r of Er(t))ho.call(t,r)&&hr(n,r,t[r]);return n},Ao=(n,t)=>vo(n,yo(t));function Io(n,t=[]){const[r,s]=nt(n,t,{loading:!0});(0,d.useEffect)(()=>{s()},[s]);const u=(0,d.useCallback)(()=>s(),[s]);return Ao(Do({},r),{refresh:u})}function _s(n,t=0){const r=useRef(!1),s=useRef(),u=useRef(n),y=useCallback(()=>r.current,[]),S=useCallback(()=>{r.current=!1,s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{r.current=!0,u.current()},t)},[t]),C=useCallback(()=>{r.current=null,s.current&&clearTimeout(s.current)},[]);return useEffect(()=>{u.current=n},[n]),useEffect(()=>(S(),C),[t]),[y,C,S]}function Xs(n,t=0,r=[]){const[s,u,y]=useTimeoutFn(n,t);return useEffect(y,r),[s,u]}function ks(n,t){const[r,s]=useState(n);useLayoutEffect(()=>{s(n)},[n]);const u=useCallback(()=>{t(r)},[r,t]);return[r,s,u]}const er=Ye;function Po(n,t,r){const s=r==null?void 0:r.immediate,u=(0,ct.y)(n),y=(0,d.useRef)();return(0,d.useEffect)(()=>{if(!(typeof t!="number"||t<0))return s&&u.current(),y.current=window.setInterval(()=>{u.current()},t),()=>{y.current&&window.clearInterval(y.current)}},[t]),(0,d.useCallback)(()=>{y.current&&window.clearInterval(y.current)},[])}function No(n,t){const[r,s]=(0,d.useState)(n);(0,d.useLayoutEffect)(()=>{s(n)},[n]);const u=er(y=>{s(y),t(y)});return[r,u]}function qs(n){const t=useRef();return useEffect(()=>{t.current=n}),t.current}const Oo=n=>{(0,d.useEffect)(n,[])},Co=n=>{const t=(0,d.useRef)(n);t.current=n,Oo(()=>()=>t.current())},jo=n=>{const t=(0,d.useRef)(0),[r,s]=(0,d.useState)(n),u=(0,d.useCallback)(y=>{cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{s(y)})},[]);return Co(()=>{cancelAnimationFrame(t.current)}),[r,u]};function To(n){const{dataSource:t,filterFn:r}=n,[s,u]=(0,d.useState)(""),y=s!=="",S=(0,d.useMemo)(()=>t.filter(C=>r(C,s)),[t,s]);return{searchText:s,setSearchText:u,isSearching:y,searchResult:S}}var Dr=e(99698);function So(n){const[t,r]=(0,d.useState)(n);return(0,d.useLayoutEffect)(()=>{(0,Dr.wU)(t,n)||r(n)},[n]),t}function Lo(n,t){const r=Ye(t);(0,d.useLayoutEffect)(()=>{r()},n)}var ea=e(31676),ta=e(85466),zo=Object.defineProperty,Ar=Object.getOwnPropertySymbols,xo=Object.prototype.hasOwnProperty,Uo=Object.prototype.propertyIsEnumerable,Ir=(n,t,r)=>t in n?zo(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Pr=(n,t)=>{for(var r in t||(t={}))xo.call(t,r)&&Ir(n,r,t[r]);if(Ar)for(var r of Ar(t))Uo.call(t,r)&&Ir(n,r,t[r]);return n};function na(n,t,{onChangeFound:r,onNoChangeFound:s}={}){const u=useRef(t);useEffect(()=>{if(!isDevelopment)return;const y=Object.keys(Pr(Pr({},u.current),t)),S={};y.forEach(C=>{u.current[C]!==t[C]&&(S[C]={from:u.current[C],to:t[C],changedKeys:t[C]&&typeof t[C]=="object"?Object.keys(u.current[C]).map(f=>_get(u.current,[C,f])===_get(t,[C,f])?"":f).filter(Boolean):void 0,isDeepEqual:_isEqual(u.current[C],t[C])})}),Object.keys(S).length?r?r({changesObj:S}):console.log("[why-did-you-update]",n,{changes:parse(stringify(S)),props:{from:u.current,to:t}}):s&&s(),u.current=t})}var tr=e(71205);const[Ro,Bo]=(0,R._C)();var Fo=e(36350),wo=e(61506),nr=e(81281),Qo=Object.defineProperty,Nr=Object.getOwnPropertySymbols,bo=Object.prototype.hasOwnProperty,Wo=Object.prototype.propertyIsEnumerable,Or=(n,t,r)=>t in n?Qo(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Go=(n,t)=>{for(var r in t||(t={}))bo.call(t,r)&&Or(n,r,t[r]);if(Nr)for(var r of Nr(t))Wo.call(t,r)&&Or(n,r,t[r]);return n};const In=(0,Fo.create)()((0,wo.tJ)(n=>Go({},nr.Xb),{name:"globalConfigStore"}));var Yo=Object.defineProperty,Cr=Object.getOwnPropertySymbols,Ko=Object.prototype.hasOwnProperty,Zo=Object.prototype.propertyIsEnumerable,jr=(n,t,r)=>t in n?Yo(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Tr=(n,t)=>{for(var r in t||(t={}))Ko.call(t,r)&&jr(n,r,t[r]);if(Cr)for(var r of Cr(t))Zo.call(t,r)&&jr(n,r,t[r]);return n},Jo=(n,t,r)=>new Promise((s,u)=>{var y=f=>{try{C(r.next(f))}catch(w){u(w)}},S=f=>{try{C(r.throw(f))}catch(w){u(w)}},C=f=>f.done?s(f.value):Promise.resolve(f.value).then(y,S);C((r=r.apply(n,t)).next())});function Sr(){return In.getState()}function Ho(){return Jo(this,null,function*(){const{data:n}=yield j.W.get("/api/config/client");return In.setState(Tr(Tr({},nr.Xb),n)),n})}var xt=(n,t,r)=>new Promise((s,u)=>{var y=f=>{try{C(r.next(f))}catch(w){u(w)}},S=f=>{try{C(r.throw(f))}catch(w){u(w)}},C=f=>f.done?s(f.value):Promise.resolve(f.value).then(y,S);C((r=r.apply(n,t)).next())});function Lr(n){return xt(this,null,function*(){const{data:t}=yield j.W.post("/api/friend/request/add",{to:n});return t})}function zr(n){return xt(this,null,function*(){yield j.W.post("/api/friend/request/accept",{requestId:n})})}function xr(n){return xt(this,null,function*(){yield j.W.post("/api/friend/request/deny",{requestId:n})})}function Ur(n){return xt(this,null,function*(){yield j.W.post("/api/friend/request/cancel",{requestId:n})})}function Rr(n){return xt(this,null,function*(){yield j.W.post("/api/friend/removeFriend",{friendUserId:n})})}function Vo(n,t){return xt(this,null,function*(){yield j.W.post("/api/friend/setFriendNickname",{targetId:n,nickname:t})})}var Be=e(19478),ra=e(75135),Br=(n,t,r)=>new Promise((s,u)=>{var y=f=>{try{C(r.next(f))}catch(w){u(w)}},S=f=>{try{C(r.throw(f))}catch(w){u(w)}},C=f=>f.done?s(f.value):Promise.resolve(f.value).then(y,S);C((r=r.apply(n,t)).next())});function $o(n){return Br(this,null,function*(){yield j.W.post("/api/chat/inbox/ack",{inboxItemIds:n})})}function _o(){return Br(this,null,function*(){yield j.W.post("/api/chat/inbox/clear")})}function Xo(){const n=(0,he.CG)(s=>s.chat.converses),t=(0,he.CG)(s=>s.chat.lastMessageMap),r=(0,d.useMemo)(()=>Object.entries(n).filter(([,s])=>[Te.tv.DM,Te.tv.Multi].includes(s.type)).map(([,s])=>s),[n]);return(0,d.useMemo)(()=>r.sort((s,u)=>{var y,S;return((y=t[s._id])!=null?y:"")<((S=t[u._id])!=null?S:"")?1:-1}),[r,t])}var ko=e(77837),qo=e.n(ko);const es=qo()((n,t)=>{(0,Te.g3)(n,t)},1e3,{leading:!0,trailing:!0});function ts(n){const t=(0,he.TL)(),r=(0,he.CG)(C=>C.chat.lastMessageMap[n]),s=(0,d.useRef)("");s.current=(0,he.CG)(C=>{var f;return(f=C.chat.ack[n])!=null?f:""});const u=Ye((C,f)=>{(0,H.AJ)(f)||(0,H.YQ)(s.current)&&f<=s.current||(t(le.setConverseAck({converseId:C,lastMessageId:f})),es(C,f),s.current=f)}),y=Ye(C=>{u(n,C)}),S=Ye(()=>{y(r)});return{updateConverseAck:y,markConverseAllAck:S}}function Fr(){return(0,he.CG)(n=>n.user.info)}function Ht(){var n;return(n=Fr())==null?void 0:n._id}var ns=(n,t,r)=>new Promise((s,u)=>{var y=f=>{try{C(r.next(f))}catch(w){u(w)}},S=f=>{try{C(r.throw(f))}catch(w){u(w)}},C=f=>f.done?s(f.value):Promise.resolve(f.value).then(y,S);C((r=r.apply(n,t)).next())});function rs(n){const t=Ht(),r=(0,he.CG)(u=>u.user.friends),{value:s=""}=yt(()=>ns(this,null,function*(){return(0,H.YQ)(t)?(0,wt.S8)(t,n):""}),[t,n.name,n.members.join(","),r]);return s}var os=e(95850);function wr(n){const t=(0,he.CG)(s=>s.chat.ack),r=(0,he.CG)(s=>s.chat.lastMessageMap);return n.map(s=>t[s]===void 0&&r[s]!==void 0?!0:r[s]>t[s])}var ss=e(6494),as=e.n(ss);function At(n){var t;return(t=(0,he.CG)(r=>r.group.groups[n]))!=null?t:null}function Qr(n){var t;const r=At(n),s=(t=r==null?void 0:r.members)!=null?t:[];return(0,d.useMemo)(()=>s.map(y=>y.userId),[s])}function us(n){const t=Qr(n),r=qn(t);return as()(r)}function br(n){const t=At(n);return(0,d.useMemo)(()=>{var r;return(r=t==null?void 0:t.panels)!=null?r:[]},[t])}function is(n,t){const r=br(n);return(0,d.useMemo)(()=>{var s;return(s=r.find(u=>u.id===t))!=null?s:null},[n,t,r])}function ls(n,t){const r=At(n),s=Ht();return(0,H.YQ)(t)?(r==null?void 0:r.owner)===t:typeof s=="string"&&(r==null?void 0:r.owner)===s}function cs(n){return wr([n])[0]}function ds(n){return n.type===Be.GroupPanelType.TEXT}function fs(n){const t=At(n),r=(0,he.CG)(y=>y.chat.lastMessageMap),s=(0,he.TL)();return{markGroupAllAck:Ye(()=>{var y;const S=((y=t==null?void 0:t.panels)!=null?y:[]).filter(ds);for(const C of S){const f=C.id,w=r[f];f&&w&&(s(le.setConverseAck({converseId:f,lastMessageId:w})),(0,Te.g3)(f,w))}})}}function gs(n,t){const r=(0,he.CG)(s=>{var u,y;return(y=(u=s.group.groups[n])==null?void 0:u.members.find(S=>S.userId===t))==null?void 0:y.muteUntil});return!r||new Date(r).valueOf()<new Date().valueOf()?!1:r}var Ms=e(90292),rr=e.n(Ms),ms=e(62923),or=e.n(ms);function Wr(n){var t,r;const s=At(n),u=Ht();if(!s||!u)return[];if(s.owner===u)return sr().map(w=>w.key);const y=s.members,S=s.roles,C=(r=(t=y.find(w=>w.userId===u))==null?void 0:t.roles)!=null?r:[],f=rr()([...or()(C.map(w=>{var Ee,se;return(se=(Ee=S.find(qe=>String(qe._id)===w))==null?void 0:Ee.permissions)!=null?se:[]})),...s.fallbackPermissions]);return(0,d.useDebugValue)({groupRoles:S,userRoles:C,userPermissions:f,fallbackPermissions:s.fallbackPermissions}),f}function ps(n,t){var r,s,u,y,S;const C=At(n),f=Ht();if(!C||!f)return[];const w=C.panels.find($e=>$e.id===t);if(!w)return[];const Ee=(r=w.fallbackPermissions)!=null?r:[],se=(s=w.permissionMap)!=null?s:{},qe=(u=se[f])!=null?u:[],He=(S=(y=C.members.find($e=>$e.userId===f))==null?void 0:y.roles)!=null?S:[];return rr()([...or()(He.map($e=>{var Ut;return(Ut=se[$e])!=null?Ut:[]})),...qe,...Ee])}function vs(n,t){const r=Wr(n),s=(0,d.useMemo)(()=>t.map(u=>r.includes(u)),[r.join(","),t.join(",")]);return(0,d.useDebugValue)({groupId:n,userPermissions:r,checkedPermissions:t,result:s}),s}function ys(n,t,r){const s=Wr(n),u=ps(n,t),y=rr()([...s,...u]),S=(0,d.useMemo)(()=>r.map(C=>y.includes(C)),[y.join(","),r.join(",")]);return(0,d.useDebugValue)({groupId:n,panelId:t,fullPermissions:y,checkedPermissions:r,result:S}),S}function Gr(){return(0,he.CG)(n=>{var t;return(t=n.chat.inbox)!=null?t:[]})}function Es(n){var t;return(t=Gr().find(s=>s._id===n))!=null?t:null}var hs=Object.defineProperty,Yr=Object.getOwnPropertySymbols,Ds=Object.prototype.hasOwnProperty,As=Object.prototype.propertyIsEnumerable,Kr=(n,t,r)=>t in n?hs(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Zr=(n,t)=>{for(var r in t||(t={}))Ds.call(t,r)&&Kr(n,r,t[r]);if(Yr)for(var r of Yr(t))As.call(t,r)&&Kr(n,r,t[r]);return n},Is=(n,t,r)=>new Promise((s,u)=>{var y=f=>{try{C(r.next(f))}catch(w){u(w)}},S=f=>{try{C(r.throw(f))}catch(w){u(w)}},C=f=>f.done?s(f.value):Promise.resolve(f.value).then(y,S);C((r=r.apply(n,t)).next())});function Ps(n,t){t.dispatch(Zt.setNetworkStatus("initial")),Jr(n,t),Ns(n,t),n.onReconnect(()=>{console.warn("\u56E0\u4E3A\u65AD\u7EBF\u91CD\u8FDE\u89E6\u53D1\u91CD\u65B0\u540C\u6B65\u8FDC\u7A0B\u6570\u636E"),Jr(n,t),t.dispatch(le.clearAllConverses()),t.dispatch(Zt.incReconnectNum())}),ne.A.on("updateNetworkStatus",r=>{t.dispatch(Zt.setNetworkStatus(r))})}function Jr(n,t){console.log("\u521D\u59CB\u5316Redux\u4E0A\u4E0B\u6587...");const r=n.request("chat.converse.findAndJoinRoom").catch(s=>{throw console.error(s),W((0,T.t)("\u65E0\u6CD5\u52A0\u5165\u623F\u95F4, \u60A8\u5C06\u65E0\u6CD5\u83B7\u53D6\u5230\u6700\u65B0\u7684\u4FE1\u606F, \u8BF7\u5237\u65B0\u9875\u9762\u540E\u91CD\u8BD5"),"error"),new Error("findAndJoinRoom failed")});Promise.all([r,(0,Te.LB)()]).then(([{dmConverseIds:s,textPanelIds:u},y])=>{y.forEach(C=>{t.dispatch(le.setConverseAck({converseId:C.converseId,lastMessageId:C.lastMessageId}))});const S=[...s,...u];tn(S).then(C=>{t.dispatch(le.setLastMessageMap(C))})}),n.request("friend.getAllFriends").then(s=>{t.dispatch(lt.setFriendList(s))}),n.request("friend.request.allRelated").then(s=>{t.dispatch(lt.setFriendRequests(s))}),n.request("user.dmlist.getAllConverse").then(s=>{(s??[]).forEach(u=>Is(this,null,function*(){try{const y=yield(0,pe.r5)(u);t.dispatch(le.setConverseInfo(y))}catch(y){console.error(y)}}))}),n.request("group.getUserGroups").then(s=>{t.dispatch(ht.appendGroups(s))}),n.request("chat.inbox.all").then(s=>{t.dispatch(le.setInboxList(s))})}function Ns(n,t){n.listen("friend.add",({userId:r})=>{if(typeof r!="string"){console.error("\u9519\u8BEF\u7684\u4FE1\u606F",r);return}t.dispatch(lt.appendFriend({id:r}))}),n.listen("friend.request.add",r=>{t.dispatch(lt.appendFriendRequest(r))}),n.listen("friend.request.remove",({requestId:r})=>{t.dispatch(lt.removeFriendRequest(r))}),n.listen("chat.message.add",r=>{const s=r.converseId,u=t.getState().chat.converses[s],y=()=>{t.dispatch(le.appendConverseMessage({converseId:s,messages:[r]}))};u?y():r.groupId?t.dispatch(le.setLastMessageMap([{converseId:s,lastMessageId:r._id}])):(0,pe.r5)(s).then(S=>{[Te.tv.DM,Te.tv.Multi].includes(S.type)&&(0,b.appendUserDMConverse)(S._id),t.dispatch(le.setConverseInfo(S)),y()}),ne.A.emit("receiveMessage",r)}),n.listen("chat.message.update",r=>{t.dispatch(le.updateMessageInfo({message:r}))}),n.listen("chat.message.delete",({converseId:r,messageId:s})=>{t.dispatch(le.deleteMessageById({converseId:r,messageId:s}))}),n.listen("chat.message.addReaction",({converseId:r,messageId:s,reaction:u})=>{t.dispatch(le.appendMessageReaction({converseId:r,messageId:s,reaction:u}))}),n.listen("chat.message.removeReaction",({converseId:r,messageId:s,reaction:u})=>{t.dispatch(le.removeMessageReaction({converseId:r,messageId:s,reaction:u}))}),n.listen("chat.converse.updateDMConverse",r=>{t.dispatch(le.setConverseInfo(r))}),n.listen("group.add",r=>{t.dispatch(ht.appendGroups([r]))}),n.listen("group.updateInfo",r=>{t.dispatch(ht.updateGroup(r))}),n.listen("group.remove",({groupId:r})=>{t.dispatch(ht.removeGroup(r))}),n.listen("chat.inbox.append",r=>{t.dispatch(le.appendInboxItem(r))}),n.listen("chat.inbox.updated",()=>{n.request("chat.inbox.all").then(r=>{t.dispatch(le.setInboxList(r))})}),n.listen("config.updateClientConfig",r=>{In.setState(s=>Zr(Zr({},s),r))}),Ro.forEach(({eventName:r,eventFn:s})=>{n.listen(r,s)})}function Os(){return(0,st.xC)({reducer:En,middleware:t=>t({serializableCheck:!1}),devTools:!1})}const Cs=Os();function js(){return Cs}function Ts(n,t){return or()(n.map((r,s)=>s===0?[r]:[t,r]))}var Ss=e(35708),Ve=e.n(Ss),Ls=e(79201),zs=e.n(Ls),xs=e(58104),Us=e.n(xs),oa=e(57570);Ve().extend(zs()),Ve().extend(Us()),Ve().locale("zh-cn"),(0,T.lT)(n=>{if(n==="en-US"){Ve().locale("en");return}Ve().locale("zh-cn")});function Hr(n){return Ve()(n).isSame(Ve()(),"d")}function sa(n){const t=dayjs(n);return Hr(t)?t.fromNow():t.format("YYYY-MM-DD HH:mm:ss")}function Rs(n){const t=Ve()(n);return Hr(t)?Vr(t):$r(t)}function Bs(n,t){return Math.abs(n.valueOf()-t.valueOf())>15*60*1e3}function Vr(n){return Ve()(n).format("HH:mm")}function $r(n){return Ve()(n).format("YYYY-MM-DD HH:mm:ss")}function aa(n){return dayjs(n).toNow()}function Fs(n){return Ve()(n).fromNow()}function ws(n){return Ve().duration(n,"ms").humanize()}function Qs(n){if(typeof n!="string")return!1;try{return JSON.parse(n),!0}catch(t){return!1}}var bs=e(51208),Ws=(n,t,r)=>new Promise((s,u)=>{var y=f=>{try{C(r.next(f))}catch(w){u(w)}},S=f=>{try{C(r.throw(f))}catch(w){u(w)}},C=f=>f.done?s(f.value):Promise.resolve(f.value).then(y,S);C((r=r.apply(n,t)).next())});const Gs=Symbol("AllPermission"),Ce={core:{viewPanel:"core.viewPanel",message:"core.message",invite:"core.invite",unlimitedInvite:"core.unlimitedInvite",editInvite:"core.editInvite",groupDetail:"core.groupDetail",groupConfig:"core.groupConfig",manageUser:"core.manageUser",managePanel:"core.managePanel",manageInvite:"core.manageInvite",manageRoles:"core.manageRoles",deleteMessage:"core.deleteMessage"}},sr=()=>[{key:Ce.core.viewPanel,title:(0,T.t)("\u67E5\u770B\u9762\u677F"),desc:(0,T.t)("\u5141\u8BB8\u6210\u5458\u67E5\u770B\u9762\u677F"),default:!0,panel:!0},{key:Ce.core.message,title:(0,T.t)("\u53D1\u9001\u6D88\u606F"),desc:(0,T.t)("\u5141\u8BB8\u6210\u5458\u5728\u6587\u5B57\u9891\u9053\u53D1\u9001\u6D88\u606F"),default:!0,panel:[bs.Xp.TEXT]},{key:Ce.core.invite,title:(0,T.t)("\u9080\u8BF7\u94FE\u63A5"),desc:(0,T.t)("\u5141\u8BB8\u6210\u5458\u521B\u5EFA\u9080\u8BF7\u94FE\u63A5"),default:!1},{key:Ce.core.unlimitedInvite,title:(0,T.t)("\u4E0D\u9650\u65F6\u9080\u8BF7\u94FE\u63A5"),desc:(0,T.t)("\u5141\u8BB8\u6210\u5458\u521B\u5EFA\u4E0D\u9650\u65F6\u9080\u8BF7\u94FE\u63A5"),default:!1,required:[Ce.core.invite]},{key:Ce.core.editInvite,title:(0,T.t)("\u7F16\u8F91\u9080\u8BF7\u94FE\u63A5"),desc:(0,T.t)("\u5141\u8BB8\u6210\u5458\u7F16\u8F91\u9080\u8BF7\u94FE\u63A5"),default:!1,required:[Ce.core.unlimitedInvite]},{key:Ce.core.groupDetail,title:(0,T.t)("\u67E5\u770B\u7FA4\u7EC4\u8BE6\u60C5"),desc:(0,T.t)("\u5141\u8BB8\u6210\u5458\u67E5\u770B\u7FA4\u7EC4\u8BE6\u60C5"),default:!1},{key:Ce.core.groupConfig,title:(0,T.t)("\u4FEE\u6539\u7FA4\u7EC4\u914D\u7F6E"),desc:(0,T.t)("\u5141\u8BB8\u6210\u5458\u4FEE\u6539\u7FA4\u7EC4\u914D\u7F6E"),default:!1,required:[Ce.core.groupDetail]},{key:Ce.core.manageUser,title:(0,T.t)("\u5141\u8BB8\u7BA1\u7406\u7528\u6237"),desc:(0,T.t)("\u5141\u8BB8\u6210\u5458\u7BA1\u7406\u7528\u6237\uFF0C\u5982\u7981\u8A00\u3001\u79FB\u9664\u7528\u6237\u7B49\u64CD\u4F5C"),default:!1,required:[Ce.core.groupDetail]},{key:Ce.core.managePanel,title:(0,T.t)("\u5141\u8BB8\u7BA1\u7406\u9891\u9053"),desc:(0,T.t)("\u5141\u8BB8\u6210\u5458\u67E5\u770B\u7BA1\u7406\u9891\u9053"),default:!1,required:[Ce.core.groupDetail]},{key:Ce.core.manageInvite,title:(0,T.t)("\u5141\u8BB8\u7BA1\u7406\u9080\u8BF7\u94FE\u63A5"),desc:(0,T.t)("\u5141\u8BB8\u6210\u5458\u7BA1\u7406\u9080\u8BF7\u94FE\u63A5"),default:!1,required:[Ce.core.groupDetail]},{key:Ce.core.manageRoles,title:(0,T.t)("\u5141\u8BB8\u7BA1\u7406\u8EAB\u4EFD\u7EC4"),desc:(0,T.t)("\u5141\u8BB8\u6210\u5458\u7BA1\u7406\u8EAB\u4EFD\u7EC4"),default:!1,required:[Ce.core.groupDetail]},{key:Ce.core.deleteMessage,title:(0,T.t)("\u5220\u9664\u6D88\u606F"),desc:(0,T.t)("\u5141\u8BB8\u5220\u9664\u7528\u6237\u4FE1\u606F"),default:!1,required:[Ce.core.groupDetail]}];function _r(){return sr().filter(n=>n.default===!0).map(n=>n.key)}function Ys(n){return Ws(this,null,function*(){yield Be.modifyGroupField(n,"fallbackPermissions",_r())})}var Ks=e(85848),Zs=e.n(Ks),Js=(n,t,r)=>new Promise((s,u)=>{var y=f=>{try{C(r.next(f))}catch(w){u(w)}},S=f=>{try{C(r.throw(f))}catch(w){u(w)}},C=f=>f.done?s(f.value):Promise.resolve(f.value).then(y,S);C((r=r.apply(n,t)).next())});function Hs(n){return Js(this,arguments,function*(t,r={}){const s=new FormData;s.append("file",t);const u=Sr().uploadFileLimit;if(t.size>u)throw Y(`${(0,T.t)("\u4E0A\u4F20\u5931\u8D25, \u652F\u6301\u7684\u6587\u4EF6\u6700\u5927\u5927\u5C0F\u4E3A:")} ${Zs()(u,{base:2})}`),new Error("File Too Large");try{const{data:y}=yield j.W.post("/upload",s,{onUploadProgress(S){S.lengthComputable&&typeof r.onProgress=="function"&&r.onProgress(S.loaded/S.total,S)}});return y}catch(y){throw W(`${(0,T.t)("\u4E0A\u4F20\u5931\u8D25")}: ${(0,T.t)("\u53EF\u80FD\u662F\u6587\u4EF6\u4F53\u79EF\u8FC7\u5927")}`,"error"),console.error(`${(0,T.t)("\u4E0A\u4F20\u5931\u8D25")}: ${Dt()(y,"message")}`),y}})}var Vs=e(58787)},11318:(U,O,e)=>{"use strict";e.d(O,{D3:()=>F,MG:()=>P,Nt:()=>M,_C:()=>Q,g9:()=>L});var o=e(45563),l=e.n(o),a=e(85466),i=e.n(a),D=(E,j,p)=>new Promise((A,m)=>{var x=N=>{try{v(p.next(N))}catch(T){m(T)}},h=N=>{try{v(p.throw(N))}catch(T){m(T)}},v=N=>N.done?A(N.value):Promise.resolve(N.value).then(x,h);v((p=p.apply(E,j)).next())});function M(E,j){let p;return[(...h)=>{if(!p){if(l()(j))return j(...h);throw new Error(`${E} not regist`)}return p(...h)},h=>{p=h},()=>{p=j}]}function P(E,j){const[p,A]=M(E,j),m=[];return[p,v=>{A(v),m.forEach(N=>N(v))},v=>{m.push(v)}]}function z(E,j){const[p,A]=M(E,j);let m=null,x;function h(R){return m!==null&&_isEqual(R,x)}const v=(...R)=>{if(h(R))return m;{const W=p(...R);return m=W??null,x=R,W}},N=()=>{m=null};return[v,R=>{A(R),N()},N]}function L(E,j){const[p,A]=M(E,j);let m=null,x;function h(R){return m!==null&&i()(R,x)}const v=(...R)=>D(this,null,function*(){if(h(R))return m;{const W=yield p(...R);return m=W??null,x=R,W}}),N=()=>{m=null};return[v,R=>{A(R),N()},N]}function Q(){const E=[];return[E,p=>{E.push(p)}]}function F(){const E={};return[E,(p,A)=>{E[p]&&console.warn("[buildRegMap] \u91CD\u590D\u6CE8\u518C:",p),E[p]=A}]}},71205:(U,O,e)=>{"use strict";e.d(O,{J7:()=>a,Jd:()=>l,Ov:()=>D,cs:()=>M,mx:()=>i});var o=e(11318);const[l,a]=(0,o.Nt)("requestErrorHook",()=>!0),[i,D,M]=(0,o.g9)("requestTokenGetter")},49076:(U,O,e)=>{"use strict";e.d(O,{A6:()=>i,YA:()=>a,qQ:()=>l});var o=e(11318);const[l,a,i]=(0,o.MG)("serverUrl",()=>window.location.origin)},54284:(U,O,e)=>{"use strict";e.d(O,{cF:()=>a,po:()=>i,y$:()=>M});var o=e(11318),l=e(52983);const[a,i]=(0,o.Nt)("storage"),D=new Map;function M(P,z){var L;const[Q,F]=(0,l.useState)((L=D.get(P))!=null?L:z);(0,l.useLayoutEffect)(()=>{a().get(P).then(p=>{F(p??z),D.set(P,p??z)})},[P]);const E=(0,l.useCallback)(p=>{F(p),a().set(P,p),D.set(P,p)},[P]),j=(0,l.useCallback)(p=>{F(p),a().save(P,p),D.set(P,p)},[P]);return[Q,{set:E,save:j}]}},22149:(U,O,e)=>{"use strict";e.d(O,{L1:()=>i,LB:()=>z,g3:()=>P,jW:()=>M,m8:()=>D,tv:()=>a});var o=e(72163),l=(L,Q,F)=>new Promise((E,j)=>{var p=x=>{try{m(F.next(x))}catch(h){j(h)}},A=x=>{try{m(F.throw(x))}catch(h){j(h)}},m=x=>x.done?E(x.value):Promise.resolve(x.value).then(p,A);m((F=F.apply(L,Q)).next())}),a=(L=>(L.DM="DM",L.Multi="Multi",L.Group="Group",L))(a||{});function i(L){return l(this,null,function*(){const{data:Q}=yield o.W.post("/api/chat/converse/createDMConverse",{memberIds:L});return Q})}function D(L,Q){return l(this,null,function*(){const{data:F}=yield o.W.post("/api/chat/converse/appendDMConverseMembers",{converseId:L,memberIds:Q});return F})}function M(L){return l(this,null,function*(){const{data:Q}=yield o.W.get("/api/chat/converse/findConverseInfo",{params:{converseId:L}});return Q})}function P(L,Q){return l(this,null,function*(){yield o.W.post("/api/chat/ack/update",{converseId:L,lastMessageId:Q})})}function z(){return l(this,null,function*(){const{data:L}=yield o.W.get("/api/chat/ack/all");return Array.isArray(L)?L:[]})}},19478:(U,O,e)=>{"use strict";e.r(O),e.d(O,{GroupPanelType:()=>l.Xp,appendGroupMemberRoles:()=>T,applyGroupInvite:()=>te,createGroup:()=>A,createGroupInviteCode:()=>W,createGroupPanel:()=>Pe,createGroupRole:()=>Ne,deleteGroupInvite:()=>ye,deleteGroupMember:()=>Fe,deleteGroupPanel:()=>ne,deleteGroupRole:()=>Se,editGroupInvite:()=>B,findGroupInviteByCode:()=>$,getAllGroupInviteCode:()=>Y,getGroupBasicInfo:()=>m,getGroupConfigWithInfo:()=>p,getGroupPanelExtraData:()=>pe,groupConfigNames:()=>j,isMember:()=>N,modifyGroupConfig:()=>h,modifyGroupField:()=>x,modifyGroupPanel:()=>ge,muteGroupMember:()=>Ae,quitGroup:()=>v,removeGroupMemberRoles:()=>R,saveGroupPanelExtraData:()=>Le,updateGroupRoleName:()=>Ze,updateGroupRolePermission:()=>We});var o=e(72163),l=e(51208),a=Object.defineProperty,i=Object.defineProperties,D=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,L=(K,b,H)=>b in K?a(K,b,{enumerable:!0,configurable:!0,writable:!0,value:H}):K[b]=H,Q=(K,b)=>{for(var H in b||(b={}))P.call(b,H)&&L(K,H,b[H]);if(M)for(var H of M(b))z.call(b,H)&&L(K,H,b[H]);return K},F=(K,b)=>i(K,D(b)),E=(K,b,H)=>new Promise((ve,G)=>{var d=q=>{try{_(H.next(q))}catch(ae){G(ae)}},Z=q=>{try{_(H.throw(q))}catch(ae){G(ae)}},_=q=>q.done?ve(q.value):Promise.resolve(q.value).then(d,Z);_((H=H.apply(K,b)).next())});const j=["hideGroupMemberDiscriminator","disableCreateConverseFromGroup","groupBackgroundImage"];function p(K){var b,H,ve;const G=(b=K==null?void 0:K.config)!=null?b:{};return F(Q({},G),{hideGroupMemberDiscriminator:(H=G.hideGroupMemberDiscriminator)!=null?H:!1,disableCreateConverseFromGroup:(ve=G.disableCreateConverseFromGroup)!=null?ve:!1})}function A(K,b){return E(this,null,function*(){const{data:H}=yield o.W.post("/api/group/createGroup",{name:K,panels:b});return H})}function m(K){return E(this,null,function*(){const{data:b}=yield o.W.get("/api/group/getGroupBasicInfo",{params:{groupId:K}});return b})}function x(K,b,H){return E(this,null,function*(){yield o.W.post("/api/group/updateGroupField",{groupId:K,fieldName:b,fieldValue:H})})}function h(K,b,H){return E(this,null,function*(){yield o.W.post("/api/group/updateGroupConfig",{groupId:K,configName:b,configValue:H})})}function v(K){return E(this,null,function*(){yield o.W.post("/api/group/quitGroup",{groupId:K})})}function N(K){return E(this,null,function*(){const{data:b}=yield o.W.post("/api/group/isMember",{groupId:K});return b})}function T(K,b,H){return E(this,null,function*(){yield o.W.post("/api/group/appendGroupMemberRoles",{groupId:K,memberIds:b,roles:H})})}function R(K,b,H){return E(this,null,function*(){yield o.W.post("/api/group/removeGroupMemberRoles",{groupId:K,memberIds:b,roles:H})})}function W(K,b){return E(this,null,function*(){const{data:H}=yield o.W.post("/api/group/invite/createGroupInvite",{groupId:K,inviteType:b});return H})}function B(K,b,H,ve){return E(this,null,function*(){yield o.W.post("/api/group/invite/editGroupInvite",{groupId:K,code:b,expiredAt:H,usageLimit:ve})})}function Y(K){return E(this,null,function*(){const{data:b}=yield o.W.get("/api/group/invite/getAllGroupInviteCode",{params:{groupId:K}});return b})}function $(K){return E(this,null,function*(){const{data:b}=yield o.W.get("/api/group/invite/findInviteByCode",{params:{code:K}});return b})}function te(K){return E(this,null,function*(){yield o.W.post("/api/group/invite/applyInvite",{code:K})})}function ye(K,b){return E(this,null,function*(){yield o.W.post("/api/group/invite/deleteInvite",{groupId:K,inviteId:b})})}function Pe(K,b){return E(this,null,function*(){yield o.W.post("/api/group/createGroupPanel",F(Q({},b),{groupId:K}))})}function ge(K,b,H){return E(this,null,function*(){yield o.W.post("/api/group/modifyGroupPanel",F(Q({},H),{groupId:K,panelId:b}))})}function ne(K,b){return E(this,null,function*(){yield o.W.post("/api/group/deleteGroupPanel",{groupId:K,panelId:b})})}function Ne(K,b,H){return E(this,null,function*(){yield o.W.post("/api/group/createGroupRole",{groupId:K,roleName:b,permissions:H})})}function Se(K,b){return E(this,null,function*(){yield o.W.post("/api/group/deleteGroupRole",{groupId:K,roleId:b})})}function Ze(K,b,H){return E(this,null,function*(){yield o.W.post("/api/group/updateGroupRoleName",{groupId:K,roleId:b,roleName:H})})}function We(K,b,H){return E(this,null,function*(){yield o.W.post("/api/group/updateGroupRolePermission",{groupId:K,roleId:b,permissions:H})})}function Ae(K,b,H){return E(this,null,function*(){yield o.W.post("/api/group/muteGroupMember",{groupId:K,memberId:b,muteMs:H})})}function Fe(K,b){return E(this,null,function*(){yield o.W.post("/api/group/deleteGroupMember",{groupId:K,memberId:b})})}function pe(K,b,H){return E(this,null,function*(){var ve;const{data:G}=yield o.W.post("/api/group/extra/getPanelData",{groupId:K,panelId:b,name:H});return(ve=G.data)!=null?ve:null})}function Le(K,b,H,ve){return E(this,null,function*(){yield o.W.post("/api/group/extra/savePanelData",{groupId:K,panelId:b,name:H,data:typeof ve=="string"?ve:JSON.stringify(ve)})})}},75135:(U,O,e)=>{"use strict";e.d(O,{c0:()=>a,g3:()=>i,zd:()=>D});var o=e(72163),l=(M,P,z)=>new Promise((L,Q)=>{var F=p=>{try{j(z.next(p))}catch(A){Q(A)}},E=p=>{try{j(z.throw(p))}catch(A){Q(A)}},j=p=>p.done?L(p.value):Promise.resolve(p.value).then(F,E);j((z=z.apply(M,P)).next())});function a(){return l(this,null,function*(){const{data:M}=yield o.W.get("/api/plugin/registry/list");return M})}function i(){return l(this,null,function*(){const{data:M}=yield o.W.get("/registry-be.json");return M})}function D(){return l(this,null,function*(){const{data:M}=yield o.W.get("/registry.json",{baseURL:""});return M})}},77100:(U,O,e)=>{"use strict";e.r(O),e.d(O,{appendUserDMConverse:()=>Fe,checkTokenValid:()=>ve,claimTemporaryUser:()=>ne,createTemporaryUser:()=>ge,fetchUserInfo:()=>Ze,forgetPassword:()=>ye,getUserOnlineStatus:()=>Ae,getUserSettings:()=>b,loginWithEmail:()=>R,loginWithToken:()=>W,modifyUserExtra:()=>K,modifyUserField:()=>Le,modifyUserPassword:()=>te,pickUserBaseInfo:()=>N,registerWithEmail:()=>$,removeUserDMConverse:()=>pe,resetPassword:()=>Pe,searchUserWithUniqueName:()=>Ne,setUserSettings:()=>H,verifyEmail:()=>B,verifyEmailWithOTP:()=>Y});var o=e(72163),l=e(96393),a=e(99852),i=e(81281),D=e(11286),M=e.n(D),P=e(62923),z=e.n(P),L=(G,d,Z)=>new Promise((_,q)=>{var ae=J=>{try{de(Z.next(J))}catch(ee){q(ee)}},Me=J=>{try{de(Z.throw(J))}catch(ee){q(ee)}},de=J=>J.done?_(J.value):Promise.resolve(J.value).then(ae,Me);de((Z=Z.apply(G,d)).next())});function Q(G,d=200){let Z=[],_=null;function q(){return L(this,null,function*(){_=null;const ae=[...Z];Z=[];try{const Me=yield G(ae.map(de=>de.params));ae.forEach((de,J)=>{de.resolve(Me[J])})}catch(Me){ae.forEach(de=>{de.reject(Me)})}})}return ae=>(_||(_=window.setTimeout(()=>{q()},d)),new Promise((Me,de)=>{Z.push({params:ae,resolve:Me,reject:de})}))}function F(G,d,Z=100){return _=>L(this,null,function*(){const q=M()(_,Z);if(d==="serial"){const ae=[];for(const Me of q){const de=yield G(Me);Array.isArray(de)?ae.push(...de):console.warn("[createAutoSplitRequest] fn should be return array")}return ae}else if(d==="parallel"){const ae=yield Promise.all(q.map(Me=>G(Me)));return z()(ae)}return[]})}var E=e(49335),j=e.n(E),p=e(90292),A=e.n(p),m=e(54142),x=e.n(m),h=e(19692),v=(G,d,Z)=>new Promise((_,q)=>{var ae=J=>{try{de(Z.next(J))}catch(ee){q(ee)}},Me=J=>{try{de(Z.throw(J))}catch(ee){q(ee)}},de=J=>J.done?_(J.value):Promise.resolve(J.value).then(ae,Me);de((Z=Z.apply(G,d)).next())});function N(G){return j()(G,["_id","email","nickname","discriminator","avatar","temporary","emailVerified","banned"])}const T={[i.q6]:()=>({_id:i.q6,email:"admin@msgbyte.com",nickname:(0,h.t)("\u7CFB\u7EDF"),discriminator:"0000",avatar:null,temporary:!1,emailVerified:!1,banned:!1})};function R(G,d){return v(this,null,function*(){const{data:Z}=yield o.W.post("/api/user/login",{email:G,password:d});return a.A.emit("loginSuccess",N(Z)),Z})}function W(G){return v(this,null,function*(){const{data:d}=yield o.W.post("/api/user/resolveToken",{token:G});return a.A.emit("loginSuccess",N(d)),d})}function B(G){return v(this,null,function*(){const{data:d}=yield o.W.post("/api/user/verifyEmail",{email:G});return d})}function Y(G){return v(this,null,function*(){const{data:d}=yield o.W.post("/api/user/verifyEmailWithOTP",{emailOTP:G});return d})}function $(G){return v(this,arguments,function*({email:d,password:Z,nickname:_,emailOTP:q}){const{data:ae}=yield o.W.post("/api/user/register",{email:d,nickname:_,password:Z,emailOTP:q});return ae})}function te(G,d){return v(this,null,function*(){yield o.W.post("/api/user/modifyPassword",{oldPassword:G,newPassword:d})})}function ye(G){return v(this,null,function*(){yield o.W.post("/api/user/forgetPassword",{email:G})})}function Pe(G,d,Z){return v(this,null,function*(){yield o.W.post("/api/user/resetPassword",{email:G,password:d,otp:Z})})}function ge(G){return v(this,null,function*(){const{data:d}=yield o.W.post("/api/user/createTemporaryUser",{nickname:G});return d})}function ne(G,d,Z,_){return v(this,null,function*(){const{data:q}=yield o.W.post("/api/user/claimTemporaryUser",{userId:G,email:d,password:Z,emailOTP:_});return q})}function Ne(G){return v(this,null,function*(){const{data:d}=yield o.W.post("/api/user/searchUserWithUniqueName",{uniqueName:G});return d})}const Se=Q(F(G=>v(void 0,null,function*(){const{data:d}=yield o.W.post("/api/user/getUserInfoList",{userIds:G});return d}),"serial",1e3));function Ze(G){return v(this,null,function*(){return T[G]&&typeof T[G]=="function"?T[G]():yield Se(G)})}const We=Q(F(G=>v(void 0,null,function*(){const d=A()(z()(G)),{data:Z}=yield o.W.post("/api/gateway/checkUserOnline",{userIds:d}),_=x()(d,Z);return G.map(q=>q.map(ae=>{var Me;return(Me=_[ae])!=null?Me:!1}))}),"serial",1e3));function Ae(G){return v(this,null,function*(){return We(G)})}function Fe(G){return v(this,null,function*(){const{data:d}=yield o.W.post("/api/user/dmlist/addConverse",{converseId:G});return d})}function pe(G){return v(this,null,function*(){const{data:d}=yield o.W.post("/api/user/dmlist/removeConverse",{converseId:G});return d})}function Le(G,d){return v(this,null,function*(){const{data:Z}=yield o.W.post("/api/user/updateUserField",{fieldName:G,fieldValue:d});return Z})}function K(G,d){return v(this,null,function*(){const{data:Z}=yield o.W.post("/api/user/updateUserExtra",{fieldName:G,fieldValue:d});return Z})}function b(){return v(this,null,function*(){const{data:G}=yield o.W.get("/api/user/getUserSettings");return a.A.emit("userSettingsUpdate",G),G})}function H(G){return v(this,null,function*(){const{data:d}=yield o.W.post("/api/user/setUserSettings",{settings:G});return d})}const ve=(0,l.w)("tokenValid",G=>v(void 0,null,function*(){const{data:d}=yield o.W.post("/api/user/checkTokenValid",{token:G});return d}))},84966:(U,O,e)=>{"use strict";e.d(O,{CG:()=>l,TL:()=>a});var o=e(99698);function l(D,M){return(0,o.v9)(D,M)}const a=o.I0;function i(){return useStore()}},95850:(U,O,e)=>{"use strict";e.d(O,{T:()=>D,x:()=>M});var o=e(52983),l=e(96228),a=e(518),i=e(84966);function D(P){const z=(0,i.CG)(L=>{var Q;return(Q=L.user.friends.find(F=>F.id===P))==null?void 0:Q.nickname});return(0,a.YQ)(z)?z:null}function M(){const P=(0,i.CG)(L=>L.user.friends);return(0,o.useMemo)(()=>(0,l.No)(P),[P])}},81281:(U,O,e)=>{"use strict";e.d(O,{Px:()=>l,Xb:()=>i,q6:()=>a});const o=/^([0-9a-zA-Z]{1,2}|[\u4e00-\u9eff]|[\u3040-\u309F]|[\u30A0-\u30FF]){1,8}$/,l="i18n:language",a="000000000000000000000000",i={uploadFileLimit:1*1024*1024,emailVerification:!1,serverName:"Tailchat",disableUserRegister:!1,disableGuestLogin:!1,disableCreateGroup:!1,disablePluginStore:!1,disableAddFriend:!1,disableTelemetry:!1,announcement:!1}},518:(U,O,e)=>{"use strict";e.d(O,{AJ:()=>F,YQ:()=>Q});var o=e(76705),l=e.n(o),a=e(66659),i=e.n(a);function D(E){return typeof E=="string"&&E.length>0}function M(E){return urlRegex({exact:!0}).test(E)}const P=E=>_isString(E)&&E.startsWith("blob:"),z=E=>{var j;return(j=E.match(urlRegex()))!=null?j:[]};function L(E){return!!E&&E!=="0"&&E!=="false"}function Q(E){return typeof E=="string"&&E!==""}function F(E){return typeof E!="string"?!1:E.startsWith("localMessage_")}},58787:(U,O,e)=>{"use strict";e.d(O,{A:()=>l});var o=e(49076);function l(a){return String(a).replace("{BACKEND}",(0,o.qQ)()).replace("%7BBACKEND%7D",(0,o.qQ)())}},70877:(U,O,e)=>{"use strict";e.d(O,{_:()=>i,c:()=>a});var o=e(52983),l=e(54782);let a=()=>{throw new Error("route navigate not init")};const i=o.memo(()=>(a=(0,l.useNavigate)(),null));i.displayName="AppRouterApi"},67706:(U,O,e)=>{"use strict";e.d(O,{S:()=>M});var o=e(75526),l=e(52983),a=e(98281),i=e(6739);const D={error:void 0,info:{componentStack:""}};class M extends l.Component{constructor(){super(...arguments);this.state=D,this.reset=()=>{this.setState(D)}}componentDidCatch(z,L){this.setState({error:z,info:L})}render(){const{message:z,description:L,children:Q}=this.props,{error:F,info:E}=this.state,j=E&&E.componentStack?E.componentStack:null,p=typeof z=="undefined"?(F||"").toString():z,A=typeof L=="undefined"?j:L;return F?l.createElement(i.t,{text:l.createElement(l.Fragment,null,l.createElement("h3",null,(0,a.t)("\u9875\u9762\u51FA\u73B0\u4E86\u4E00\u4E9B\u95EE\u9898")),l.createElement("p",{title:A??""},p),l.createElement(o.Z,{size:"small",onClick:this.reset},(0,a.t)("\u91CD\u8BD5")))}):Q}}},13893:(U,O,e)=>{"use strict";e.d(O,{L:()=>E,A:()=>j.A});var o=e(52983),l=e(52081),a=Object.defineProperty,i=Object.defineProperties,D=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,L=(p,A,m)=>A in p?a(p,A,{enumerable:!0,configurable:!0,writable:!0,value:m}):p[A]=m,Q=(p,A)=>{for(var m in A||(A={}))P.call(A,m)&&L(p,m,A[m]);if(M)for(var m of M(A))z.call(A,m)&&L(p,m,A[m]);return p},F=(p,A)=>i(p,D(A));const E=p=>{const A=(0,l.P)(m=>m.cachedComponents);return o.createElement(o.Fragment,null,p.children,o.createElement("div",{className:"keep-alive-overlay-host"},Object.entries(A).map(([m,x])=>{const{visible:h,element:v,rect:N}=x;return o.createElement("div",{id:`cache-${m}`,style:F(Q({display:h?"block":"none"},N),{position:"fixed"}),key:m},v)})))};E.displayName="KeepAliveOverlayHost";var j=e(74312)},52081:(U,O,e)=>{"use strict";e.d(O,{P:()=>a});var o=e(36350),l=e(50748);const a=(0,o.create)()((0,l.immer)(i=>({cachedComponents:{},mount:(D,M)=>{i(P=>{const z=P.cachedComponents;if(z[D]){P.cachedComponents[D].visible=!0;return}z[D]={visible:!0,element:M,rect:{left:0,top:0,width:0,height:0}}})},show:D=>{i(M=>{!M.cachedComponents[D]||(M.cachedComponents[D].visible=!0)})},hide:D=>{i(M=>{!M.cachedComponents[D]||(M.cachedComponents[D].visible=!1)})},updateRect:(D,M)=>{i(P=>{!P.cachedComponents[D]||(P.cachedComponents[D].rect=M)})}})))},74312:(U,O,e)=>{"use strict";e.d(O,{A:()=>E});var o=e(52983),l=e(52081),a=e(73352),i=e.n(a),D=e(22398),M=Object.defineProperty,P=Object.getOwnPropertySymbols,z=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,Q=(j,p,A)=>p in j?M(j,p,{enumerable:!0,configurable:!0,writable:!0,value:A}):j[p]=A,F=(j,p)=>{for(var A in p||(p={}))z.call(p,A)&&Q(j,A,p[A]);if(P)for(var A of P(p))L.call(p,A)&&Q(j,A,p[A]);return j};function E(j,p){return A=>{const m=(0,o.useRef)(null),x=i()(A,["className","style"]),{mount:h,hide:v,updateRect:N}=(0,l.P)(),T=(0,o.useMemo)(()=>typeof p.cacheId=="function"?p.cacheId(x):p.cacheId,[x]);return(0,o.useEffect)(()=>(h(T,o.createElement(j,F({key:T},x))),()=>{v(T)}),[T]),(0,o.useEffect)(()=>{if(!m.current)return;const R=new ResizeObserver(te=>{te.forEach(ye=>{const{target:Pe}=ye;if(!Pe.parentElement)return;const ge=Pe.getBoundingClientRect();N(T,{left:ge.left,top:ge.top,width:ge.width,height:ge.height})})});R.observe(m.current);const W=(0,D.g$)(m.current);function B(te){if(m.current&&W.includes(te.target)){const ye=m.current.getBoundingClientRect();N(T,{left:ye.left,top:ye.top,width:ye.width,height:ye.height})}}const{start:Y,end:$}=(0,D.SQ)(B);return window.addEventListener("transitionend",$),window.addEventListener("transitionstart",Y),()=>{m.current&&(R.unobserve(m.current),window.removeEventListener("transitionend",$),window.removeEventListener("transitionstart",Y))}},[T]),o.createElement("div",{id:`withKeepAlive${T}`,ref:m,className:A.className,style:A.style})}}},80474:(U,O,e)=>{"use strict";e.d(O,{P:()=>x});var o=e(52983),l=e(2697),a=e(23463),i=e(38887),D=e(98281),M=e(170),P=e(61422),z=e.n(P),L=Object.defineProperty,Q=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,j=(h,v,N)=>v in h?L(h,v,{enumerable:!0,configurable:!0,writable:!0,value:N}):h[v]=N,p=(h,v)=>{for(var N in v||(v={}))F.call(v,N)&&j(h,N,v[N]);if(Q)for(var N of Q(v))E.call(v,N)&&j(h,N,v[N]);return h};function A(h,v){const N=new Date().valueOf();return h.then(T=>{const R=new Date().valueOf();return console.debug(`[Loadable] load ${v} usage: ${R-N}ms`),T})}function m(h){const v=z()("Loadable");return M.ZP.loading({content:(0,D.t)("\u52A0\u8F7D\u4E2D..."),key:v,duration:0}),h.then(N=>(M.ZP.destroy(v),N))}function x(h,v){return(0,l.ZP)(N=>{let T=h(N);return(0,D.YQu)(v==null?void 0:v.componentName)&&(T=A(T,String(v==null?void 0:v.componentName))),(v==null?void 0:v.showLoading)===!0&&(T=m(T)),(0,a.Z)(T,200,{delayRejection:!1})},p({fallback:o.createElement(i.T,null)},v))}},18300:(U,O,e)=>{"use strict";e.d(O,{g:()=>i});var o=e(14517),l=e(52983),a=e(38887);const i=l.memo(D=>{const{spinning:M=!1,className:P,style:z,tip:L}=D;return l.createElement("div",{className:(0,o.Z)("relative",P),style:z},l.createElement("div",{className:(0,o.Z)("absolute inset-0 z-10 bg-white bg-opacity-20 flex justify-center items-center transition-opacity duration-100",{"opacity-0 pointer-events-none":!M,"opacity-100":M})},l.createElement(a.T,{tip:L})),D.children)});i.displayName="Loading"},38887:(U,O,e)=>{"use strict";e.d(O,{T:()=>i});var o=e(52983),l=e(98281),a=e(67434);const i=o.memo(D=>{var M;return o.createElement("div",null,o.createElement(a.$,null),(M=D.tip)!=null?M:(0,l.t)("\u52A0\u8F7D\u4E2D..."))});i.displayName="LoadingSpinner"},84208:(U,O,e)=>{"use strict";e.d(O,{AB:()=>G,Mr:()=>pe,VW:()=>b,_5:()=>K,aW:()=>H,h7:()=>Le,vR:()=>ve});var o=e(52983),l=e(45563),a=e.n(l),i=e(14698),D=e.n(i),M=e(77875),P=e.n(M),z=e(69966),L=e.n(z),Q=e(76705),F=e.n(Q),E=e(71607),j=e.n(E),p=e(442),A=e(75526),m=e(75283),x=e(93540),h=e(29603),v=e(14517),N=e(89935),T=e(22398),R=e(67706),W=e(98281),B=Object.defineProperty,Y=Object.defineProperties,$=Object.getOwnPropertyDescriptors,te=Object.getOwnPropertySymbols,ye=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable,ge=(d,Z,_)=>Z in d?B(d,Z,{enumerable:!0,configurable:!0,writable:!0,value:_}):d[Z]=_,ne=(d,Z)=>{for(var _ in Z||(Z={}))ye.call(Z,_)&&ge(d,_,Z[_]);if(te)for(var _ of te(Z))Pe.call(Z,_)&&ge(d,_,Z[_]);return d},Ne=(d,Z)=>Y(d,$(Z)),Se=(d,Z,_)=>new Promise((q,ae)=>{var Me=ee=>{try{J(_.next(ee))}catch(ce){ae(ce)}},de=ee=>{try{J(_.throw(ee))}catch(ce){ae(ce)}},J=ee=>ee.done?q(ee.value):Promise.resolve(ee.value).then(Me,de);J((_=_.apply(d,Z)).next())});const Ze=(d,Z)=>d.addEventListener("transitionend",Z,!1),We=o.createContext({closeModal:j()}),Ae=o.memo(d=>{const{visible:Z,onChangeVisible:_,closable:q=!1,maskClosable:ae=!0}=d,[Me,de]=(0,o.useState)(!0),J=(0,o.useCallback)(()=>{de(!1)},[]),ee=(0,o.useCallback)(()=>{ae!==!1&&J()},[ae,J]);return Z===!1?null:o.createElement(h.Z,{in:Me,classNames:"modal-anim",timeout:200,addEndListener:Ze,onExited:()=>{Me===!1&&a()(_)&&_(!1)},appear:!0},o.createElement("div",{className:"absolute left-0 right-0 top-0 bottom-0 bg-black bg-opacity-60 flex justify-center items-center z-10",onClick:ee,"data-tc-role":"modal-mask"},o.createElement(We.Provider,{value:{closeModal:J}},o.createElement("div",{className:"modal-inner bg-content-light dark:bg-content-dark rounded overflow-auto relative z-10",style:{maxHeight:"80vh",maxWidth:"80vw"},onClick:T.UW,"data-tc-role":"modal"},q===!0&&o.createElement(x.JO,{className:"absolute right-2.5 top-3.5 text-xl z-10 cursor-pointer",icon:"mdi:close",onClick:J}),o.createElement(R.S,null,d.children)))))});Ae.displayName="Modal";const Fe=[];function pe(d){D()(d)&&(d=P()(Fe)),typeof d=="number"&&(L()(Fe,d),(0,p.i6)(d))}function Le(d,Z){const _=(0,p.rk)(o.createElement(Ae,Ne(ne({},Z),{visible:!0,onChangeVisible:q=>Se(this,null,function*(){q===!1&&(typeof(Z==null?void 0:Z.onCloseModal)=="function"&&(yield Z.onCloseModal()),pe(_))})}),d));return Fe.push(_),_}function K(d){var Z;const _=Le(o.createElement(G,{title:(Z=d.title)!=null?Z:(0,W.t)("\u786E\u8BA4\u64CD\u4F5C")},o.createElement("h3",{className:"text-center pb-6"},d.content),o.createElement("div",{className:"space-x-2 text-right"},o.createElement(A.Z,{onClick:()=>{var q;(q=d.onCancel)==null||q.call(d),pe(_)}},(0,W.t)("\u53D6\u6D88")),o.createElement(A.Z,{type:"primary",onClick:()=>{d.onConfirm(),pe(_)}},(0,W.t)("\u786E\u8BA4")))),{onCloseModal:d.onCancel})}function b(d){var Z,_;K({onConfirm:d.onConfirm,onCancel:d.onCancel,title:(Z=d.title)!=null?Z:(0,W.t)("\u786E\u8BA4\u8981\u8FDB\u884C\u8BE5\u64CD\u4F5C\u4E48?"),content:(_=d.content)!=null?_:(0,W.t)("\u8BE5\u64CD\u4F5C\u65E0\u6CD5\u88AB\u64A4\u56DE")})}function H(d){return new Promise(Z=>{b(Ne(ne({},d),{onConfirm:()=>Z(!0),onCancel:()=>Z(!1)}))})}function ve(){const{closeModal:d}=(0,o.useContext)(We);return{closeModal:d}}const G=o.memo(d=>{const Z=(0,N.d)(),_=F()(d.title)?o.createElement(m.Z.Title,{level:4,className:"text-center mb-4"},d.title):null;return o.createElement("div",{className:(0,v.Z)("tc-modal","p-4",d.className),style:ne({minWidth:Z?290:420},d.style)},_,d.children)});G.displayName="ModalWrapper"},442:(U,O,e)=>{"use strict";e.d(O,{$2:()=>i,i6:()=>P,rk:()=>M});var o=e(52983),l=e(98281);const a=new l.QEo,{PortalHost:i,PortalRender:D,add:M,remove:P}=(0,l.x9K)({hostName:"default",eventEmitter:a,renderManagerView:z=>o.createElement("div",{className:"z-10"},z)})},6739:(U,O,e)=>{"use strict";e.d(O,{t:()=>D});var o=e(52983);const l="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQo8cGF0aCBkPSJNMjE1Ljc1MSAxMzMuOTM4TDIxNS41NzcgMTM0LjA3N0wyMTUuNDM4IDEzNC4yNTFDMjEzLjg0OCAxMzYuMjM4IDIxMS4yNSAxMzkuMDA0IDIwOC40NDggMTQxLjI1M0MyMDcuMDQ5IDE0Mi4zNzYgMjA1LjY0MiAxNDMuMzM1IDIwNC4zMiAxNDQuMDA2QzIwMi45NzcgMTQ0LjY4NyAyMDEuODU5IDE0NSAyMDEgMTQ1QzE5OC43NTcgMTQ1IDE5Ny4zNTMgMTQ0LjQ3MiAxOTYuMjgzIDE0My43MzFDMTk1LjE0IDE0Mi45MzkgMTk0LjIzOSAxNDEuODE4IDE5My4xIDE0MC4zQzE5Mi4xNDYgMTM5LjAyNyAxOTAuNDUxIDEzNy42MjcgMTg4LjUxMSAxMzYuMzAyQzE4Ni41MjIgMTM0Ljk0MyAxODQuMTA2IDEzMy41NSAxODEuNTU0IDEzMi4zMjNDMTc5LjAwNSAxMzEuMDk3IDE3Ni4yODEgMTMwLjAxNiAxNzMuNjc1IDEyOS4zMDVDMTcxLjEwMiAxMjguNjAyIDE2OC40OTIgMTI4LjIxNyAxNjYuMjM2IDEyOC41MThDMTU5LjU1OCAxMjkuNDA4IDE1NS45NTQgMTI5LjM3NiAxNTQuMDEgMTI5LjA3MkMxNTMuMDU0IDEyOC45MjMgMTUyLjU5OCAxMjguNzIxIDE1Mi4zOTkgMTI4LjYwNUMxNTIuMjQ4IDEyOC41MTcgMTUyLjIxMSAxMjguNDYxIDE1Mi4xNjYgMTI4LjM5NEwxNTIuMTY0IDEyOC4zOTFMMTUxLjg5MSAxMjcuOThMMTUxLjQ1OCAxMjcuNzQ0QzE1MS4xMjQgMTI3LjU2MiAxNTAuNjY1IDEyNy4wMzggMTUwLjMyNyAxMjUuNTdDMTUwIDEyNC4xNDkgMTQ5Ljg4NyAxMjIuMjg0IDE0OS44NSAxMjAuMDY2QzE0OS44MzYgMTE5LjI1OCAxNDkuODM0IDExOC40MDIgMTQ5LjgzMSAxMTcuNTE2QzE0OS44MjEgMTEzLjg3MyAxNDkuODA5IDEwOS43MjYgMTQ5LjAxMSAxMDYuMzA4QzE0OS4wMjUgMTA1LjY0MiAxNDguOTMgMTA0Ljc1NiAxNDguNDM2IDEwMy45OUMxNDguMTA1IDEwMy40NzcgMTQ3LjU4OSAxMDMuMDE1IDE0Ni44NzMgMTAyLjc5M0MxNDYuMTg3IDEwMi41ODEgMTQ1LjUxMyAxMDIuNjUxIDE0NC45NDIgMTAyLjgyMUMxNDMuODY0IDEwMy4xNDIgMTQyLjczMyAxMDMuOTQ1IDE0MS41MjYgMTA1LjA3QzE0MC4yNzMgMTA2LjIzNyAxMzguNzYgMTA3LjkyMyAxMzYuOTI1IDExMC4yNjdDMTI5LjU3IDExOS42NjUgMTIwLjY4OSAxMzcuMTUyIDExNy4xODggMTQ0LjY1NEwxMTcuMTMgMTQ0Ljc3N0wxMTcuMDkgMTQ0LjkwNkMxMTYuNzUgMTQ1Ljk5OCAxMTYuMzAyIDE0Ny4yODggMTE1LjggMTQ4LjcyOUMxMTQuNjkgMTUxLjkyMSAxMTMuMzIxIDE1NS44NTYgMTEyLjMwNyAxNjAuMDI4QzExMC44MTEgMTY2LjE4MiAxMDkuOTU1IDE3My4yNjggMTExLjU0OCAxODAuNDM0QzExNC4yMSAxOTIuNDE3IDEyMy4zODQgMjAzLjU4OCAxMzAuODg1IDIxMC4zMDJDMTMwLjE1OSAyMTUuMjQ1IDEyNy45MiAyMTkuNzUxIDEyNC45NzMgMjI0LjY0OUMxMjQuMTEgMjI2LjA4NCAxMjMuMTggMjI3LjU2MSAxMjIuMjE2IDIyOS4wOUMxMTkuNzMzIDIzMy4wMzQgMTE3LjAzMSAyMzcuMzI0IDExNC43MDEgMjQyLjEyN0MxMTAuNjMgMjUwLjUxNyAxMDYuNjg3IDI1OC40MzUgMTAyLjkxIDI2Ni4wMTlDOTIuMTYxNyAyODcuNjAxIDgyLjc2MSAzMDYuNDc3IDc1LjYyMzggMzI1LjgwN0M2My41Mjk1IDM1OC41NjMgNjAuNDcxMiAzOTQuMzgzIDYyLjUxNDYgNDExLjI0MUM2NC41NzE5IDQyOC4yMTQgNzUuMzQ5OCA0NTQuNDExIDEwMy4xMDYgNDY4LjI4OUMxMjQuMTEgNDc4Ljc5MSAxNDEuNjEzIDQ4MS40NzQgMTQ4Ljc0OSA0ODEuNTA4QzE1NS4zOTYgNDg3LjI0OSAxNzIuOTE4IDQ5Ny40NzUgMTk1LjkxNSA0OTcuNUMyMTAuMzE3IDQ5OC43MDkgMjI5LjQwNCA0OTMuOTE4IDIzNy4xMiA0OTEuNDAxTDIzNy4yMzQgNDkxLjM2NEwyMzcuMzQzIDQ5MS4zMTRMMzA4LjI5NyA0NTguMzM1QzMxMy45MjQgNDU2LjA1NiAzMjMuMjYyIDQ1My4xNDQgMzMyLjkzMSA0NTEuODMyQzM0Mi43MTYgNDUwLjUwNCAzNTIuMzk0IDQ1MC44NzkgMzU4Ljk5MiA0NTQuNzI4QzM2Ny45MDEgNDU5LjkyNCAzNzEuNDg5IDQ2My4yNTIgMzczLjU1OCA0NjYuMTZDMzc0LjYwNiA0NjcuNjMyIDM3NS4zMDcgNDY5LjA1NCAzNzYuMTMxIDQ3MC43NDlMMzc2LjE4MyA0NzAuODU2QzM3Ni45ODkgNDcyLjUxNiAzNzcuOTAzIDQ3NC4zOTUgMzc5LjMyMSA0NzYuNTg3QzM4Mi4yNzkgNDgxLjE1OCAzODYuNjc0IDQ4NC44MDMgMzkxLjg1OSA0ODYuMDFDMzk3LjEzNyA0ODcuMjM5IDQwMi45MTUgNDg1Ljg2NyA0MDguMzM4IDQ4MC45ODdDNDEyLjk1OSA0NzYuODI3IDQxMy44NzggNDcxLjUwOSA0MTMuMjMyIDQ2Ni43NzlDNDEyLjYxNCA0NjIuMjYgNDEwLjU2NSA0NTguMTI4IDQwOC43OTUgNDU1LjU3NkM0MDYuMjYyIDQ0OC41NDcgMzk1LjkxMiA0MzIuODcyIDM3My40MiA0MjEuMjI0QzM2MS42NjYgNDE1LjEzNyAzNDYuMDc3IDQxNC44MjYgMzMxLjY1MSA0MTYuNzNDMzE3LjE1OCA0MTguNjQyIDMwMy40NyA0MjIuODQxIDI5NS4yNTQgNDI2LjE0NEwyOTUuMTczIDQyNi4xNzdMMjk1LjA5NiA0MjYuMjE2QzI4MC45NzEgNDMzLjM3OCAyNjMuOTExIDQ0MC43MjYgMjQ4LjYzMyA0NDYuNTk2QzIzMy4zMDMgNDUyLjQ4NSAyMTkuOTQgNDU2LjgxOCAyMTMuMTQ4IDQ1OC4wMzFDMjEyLjUzNiA0NTguMTQxIDIxMS45NjMgNDU4LjI1NSAyMTEuMzk1IDQ1OC4zNjdDMjA5LjUyNSA0NTguNzM5IDIwNy43MTggNDU5LjA5OSAyMDQuNzgxIDQ1OS4yMzdDMjAxLjI3OCA0NTkuNDAyIDE5Ni4xODcgNDU5LjI0MiAxODcuNzcyIDQ1OC4zMDdDMTkwLjQwMyA0NTAuNDk0IDE5MS4zNDQgNDQwLjE0OSAxOTEuNDk4IDQzNS41ODlDMTkyLjAwMyA0MjYuNDcyIDE5MS40OTkgNDE5Ljk1NyAxOTAuNzI0IDQxNS4yMzhDMTkwLjA5NCA0MTEuNDA4IDE4OS4yOCA0MDguNzU5IDE4OC43NDQgNDA3LjAxNUMxODguNjIgNDA2LjYxMyAxODguNTExIDQwNi4yNTkgMTg4LjQyMyA0MDUuOTUxQzE4Ni41NDEgMzk5LjM2MiAxNzcuNDQyIDM2OS41MSAxNzIuNDE1IDM1NS40MTVDMTcwLjk5NiAzNDkuODU4IDE2OS4yNzYgMzQ0LjAxNyAxNjcuNDU0IDMzNy44MzFDMTYzLjYyMSAzMjQuODE4IDE1OS4zNCAzMTAuMjggMTU2LjQ3MSAyOTMuNjZDMTU1Ljk1MyAyOTAuNjYxIDE1NS40NTEgMjg3LjkwNCAxNTQuOTc4IDI4NS4zMDRDMTUyLjgwMyAyNzMuMzY1IDE1MS4yMjkgMjY0LjcyIDE1MS41IDI1MS4wNEMxNTEuNjg1IDI0MS42NyAxNTIuNDk2IDIzMi43NSAxNTMuNzM3IDIyNy40NTdDMTU0LjM1NyAyMjQuODE0IDE1NS4wMTMgMjIzLjQ3MyAxNTUuNjM4IDIyMi43MjlDMTU2LjE0OCAyMjIuMTIxIDE1Ni43NDYgMjIxLjc4MSAxNTcuNzI2IDIyMS41MDlDMTcyLjYzNSAyMjEuOTk5IDE4Ny42ODUgMjIxLjk4NiAyMDIuMiAyMTEuMUMyMDguMTY1IDIwNi42MjYgMjEyLjY3IDE5OS43NiAyMTUuODc0IDE5My4xNjFDMjE5LjA5IDE4Ni41MzcgMjIxLjA5MSAxNzkuOTgyIDIyMS45NTYgMTc1LjkxNkwyMjEuOTcxIDE3NS44NDdMMjIxLjk4MSAxNzUuNzc2QzIyMi45NzUgMTY4LjY1IDIyNSAxNTIuNDY3IDIyNSAxNDUuNUMyMjUgMTQyLjAxIDIyNC43NDQgMTM5LjUgMjI0LjQgMTM3Ljc1MUMyMjQuMjI4IDEzNi44NzggMjI0LjAyOSAxMzYuMTY2IDIyMy44MTQgMTM1LjYwNEMyMjMuNjI0IDEzNS4xMDggMjIzLjM0NyAxMzQuNTE4IDIyMi45MTQgMTM0LjA4NkMyMjEuNTk3IDEzMi43NjggMjIwLjAxNSAxMzIuNDggMjE4LjY4MSAxMzIuNjdDMjE3LjQzNSAxMzIuODQ3IDIxNi4zODUgMTMzLjQzMSAyMTUuNzUxIDEzMy45MzhaIiBmaWxsPSIjNDIzQzNDIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjQiLz4NCjxwYXRoIGQ9Ik0zOTYuMjkzIDE4OS44MjJMMzk2LjMwMSAxODkuODE2TDM5Ni4zMDkgMTg5LjgxQzQwMC44MDcgMTg2LjU1NCA0MDQuODk0IDE4Mi41ODIgNDA4LjU3NSAxNzcuOTA4QzQxMi40MTggMTczLjEzIDQxNS42MDEgMTY3LjQ1OSA0MTguMTQxIDE2MC45MjNDNDIxLjQ0MyAxNTIuNDMxIDQyMi42NDEgMTQzLjg1OSA0MjEuNzA4IDEzNS4yM0M0MjAuODY1IDEyNi42NjQgNDE4LjEyMiAxMTguNTY2IDQxMy41IDExMC45NTJDNDA4LjkxNyAxMDMuMjU3IDQwMi41OTUgOTYuMjY1IDM5NC41NzggODkuOTY2QzM4Ni42NjEgODMuNTk3MSAzNzcuMzI0IDc4LjMzNDEgMzY2LjU5MSA3NC4xNjE2QzM1OS43NjggNzEuNTA5NCAzNTIuNDAyIDY5Ljc4MjggMzQ0LjUwMyA2OC45NzFMMzQ0LjQ5NiA2OC45NzAzQzMzNi42NDQgNjguMTg5MSAzMjkuMDE4IDY4LjYzNjYgMzIxLjYyNyA3MC4zMjE1QzMxNC4yMTUgNzEuOTMxMyAzMDcuNDM0IDc0Ljk5MjQgMzAxLjI5OSA3OS40OTYyTDMwMS4yOTEgNzkuNTAyN0wzMDEuMjgyIDc5LjUwOTJDMjk1LjEyNSA4NC4xMzM2IDI5MC41MjMgOTAuNDQxNCAyODcuNDQ5IDk4LjM0ODNDMjg1LjI4NiAxMDMuOTEzIDI4NC4xNDIgMTA4Ljk3NiAyODQuMTExIDExMy41MDZMMjg0LjExMSAxMTMuNTI2TDI4NC4xMTIgMTEzLjU0N0MyODQuMTcyIDExNy45MDkgMjg0LjYyOSAxMjEuNzI5IDI4NS41MTYgMTI0Ljk3NkwyODUuNTI3IDEyNS4wMTZMMjg1LjU0IDEyNS4wNTZDMjg2LjUxOCAxMjguMTI1IDI4Ny42IDEzMC42MjYgMjg4LjgyMyAxMzIuNDdMMjg4Ljg0NSAxMzIuNTA0TDI4OC44NjggMTMyLjUzN0MyODkuNDI2IDEzMy4zMDggMjg5Ljg2NSAxMzMuOTExIDI5MC4xODUgMTM0LjM0NEMyOTAuMzcyIDEzNC41OTYgMjkwLjU1MSAxMzQuODM3IDI5MC42OTYgMTM1LjAyQzI5MS4yMTggMTM1Ljk3OCAyOTEuODU4IDEzNi44MyAyOTIuNjY3IDEzNy40NDNMMjkyLjY5NCAxMzcuNDY0TDI5Mi43MjEgMTM3LjQ4M0MyOTMuNDgxIDEzOC4wMjEgMjk0LjI5IDEzOC40NTkgMjk1LjE0NiAxMzguNzkyQzI5Ny41NzQgMTM5LjczNSAzMDAuMDExIDEzOS42MzggMzAyLjMgMTM4LjQ1NEMzMDQuNTQ4IDEzNy4zNjggMzA2LjE5MSAxMzUuNjk0IDMwNy4wNjkgMTMzLjQzNUMzMDguMzY4IDEzMC4wOTUgMzA3LjQ5OCAxMjYuNjMyIDMwNS4xODMgMTIzLjI5MkMzMDUuMDc4IDEyMy4xMDcgMzA0Ljk1NSAxMjIuOTIzIDMwNC44NzMgMTIyLjgwMUwzMDQuODYzIDEyMi43ODVDMzA0LjcwNyAxMjIuNTUzIDMwNC41IDEyMi4yNTIgMzA0LjI0MyAxMjEuODg1QzMwMy45MTkgMTIxLjIyNiAzMDMuNTc0IDEyMC4xOTYgMzAzLjI0NiAxMTguNzE1QzMwMi45NTMgMTE3LjE2MiAzMDIuODA4IDExNS4yNTcgMzAyLjgzMyAxMTIuOThDMzAyLjk3MyAxMTAuODA1IDMwMy42MDggMTA4LjE4NyAzMDQuODA5IDEwNS4wOTdDMzA2LjExNCAxMDEuNzM5IDMwOC4yMDkgOTguNzA1OCAzMTEuMTM4IDk1Ljk5NDFDMzE0LjE5OSA5My4yNzYxIDMxNy42MDcgOTEuMTI1OSAzMjEuMzcgODkuNTM4NUwzMjEuMzcxIDg5LjUzODFDMzI1LjI1MyA4Ny44OTc5IDMyOS4yOTUgODYuOTQyMSAzMzMuNTA2IDg2LjY2ODlDMzM3Ljc2MyA4Ni40MzIgMzQxLjcwMSA4Ny4wMzM0IDM0NS4zNDUgODguNDVDMzUwLjc5OSA5MC41NzA1IDM1NS41MTcgOTMuNTEzOSAzNTkuNTE4IDk3LjI3NDNMMzU5LjUyNyA5Ny4yODI1QzM2My42MjQgMTAxLjA4NiAzNjYuNzI1IDEwNS40MDMgMzY4Ljg1MiAxMTAuMjM3TDM2OC44NTcgMTEwLjI0OEwzNjguODYyIDExMC4yNTlDMzcxLjA3NiAxMTUuMTMyIDM3Mi4yNzcgMTIwLjQzNyAzNzIuNDUgMTI2LjE5NEMzNzIuNjIyIDEzMS45MDQgMzcxLjU2MyAxMzcuNzQxIDM2OS4yMzggMTQzLjcyM0MzNjYuNDkgMTUwLjc5MSAzNjMuNTY5IDE1Ni41MTcgMzYwLjQ5MiAxNjAuOTQyQzM1Ny4zODEgMTY1LjQxNSAzNTQuMTI0IDE2OS4wMzkgMzUwLjczMiAxNzEuODQ0TDM1MC43MTkgMTcxLjg1NkwzNTAuNzA1IDE3MS44NjdDMzQ3LjM2MyAxNzQuNzM0IDM0My44ODUgMTc2Ljk4OCAzNDAuMjczIDE3OC42NDdMMzQwLjI1OCAxNzguNjUzTDM0MC4yNDMgMTc4LjY2MUMzMzYuNTc1IDE4MC40MTkgMzMyLjgzNiAxODIuMSAzMjkuMDI3IDE4My43MDZDMzI1LjMwNSAxODUuMTI0IDMyMS43MDcgMTg2Ljc0NiAzMTguMjMzIDE4OC41NjlMMzE4LjIxNyAxODguNTc4TDMxOC4yMDEgMTg4LjU4N0MzMTQuNzcyIDE5MC40NyAzMTEuNTQyIDE5Mi42MzkgMzA4LjUxMiAxOTUuMDkzQzMwNS40NTMgMTk3LjU3MSAzMDIuNjc1IDIwMC40MTQgMzAwLjE3OCAyMDMuNjE3TDMwMC4xNjQgMjAzLjYzNUwzMDAuMTUgMjAzLjY1NEMyOTcuNzE1IDIwNi45MzEgMjk1LjcwNyAyMTAuNjE3IDI5NC4xMTggMjE0LjcwMkMyOTMuNjI5IDIxNS45NjIgMjkzLjI1NCAyMTcuMDU5IDI5My4wMDkgMjE3Ljk3OEMyOTIuNzg2IDIxOC44MTcgMjkyLjY1MiAyMTkuMjUgMjkyLjU5NyAyMTkuMzkyTDI5Mi41NjEgMjE5LjQ4NUwyOTIuNTM0IDIxOS41ODFDMjkxLjg4NSAyMjEuOTE2IDI5Mi4xNzMgMjI0LjIyNyAyOTMuMzE1IDIyNi40MTZMMjkzLjMzMiAyMjYuNDQ4TDI5My4zNSAyMjYuNDhDMjk0LjU2MSAyMjguNjA1IDI5Ni40MjggMjMwLjExOCAyOTguODEzIDIzMS4wNDVMMjk4LjkwNiAyMzEuMDgxTDI5OS4wMDIgMjMxLjEwOEMzMDEuMzAxIDIzMS43NDcgMzAzLjU1NiAyMzEuNTE0IDMwNS42NTggMjMwLjQwNkMzMDcuODIzIDIyOS4yNzQgMzA5LjM5NiAyMjcuNTgyIDMxMC4yNjIgMjI1LjM1NEwzMTEuNjM4IDIyMS44MTVDMzEzLjAyNiAyMTguMjQ1IDMxNC40NjQgMjE1LjU1OSAzMTUuOTIgMjEzLjY3OEMzMTcuMzYyIDIxMS44MTUgMzE5LjA2OCAyMTAuNCAzMjEuMDQyIDIwOS40MDRDMzIzLjA3MSAyMDguMzggMzI1LjU0NyAyMDcuNjE0IDMyOC41MDQgMjA3LjEzOEMzMzEuNTU2IDIwNi42NDggMzM1LjI1MyAyMDYuMTk5IDMzOS42MDQgMjA1Ljc5M0MzNDMuNjY5IDIwNS40NTcgMzQ4LjA2MSAyMDUuMDQ4IDM1Mi43ODIgMjA0LjU2NkwzNTIuNzk5IDIwNC41NjRMMzUyLjgxNiAyMDQuNTYyQzM1Ny42MjcgMjAzLjk4NiAzNjIuNDc3IDIwMy4xNzEgMzY3LjM2NSAyMDIuMTE5TDM2Ny4zOCAyMDIuMTE2TDM2Ny4zOTYgMjAyLjExM0MzNzIuMzU4IDIwMC45NjMgMzc3LjI2IDE5OS40MzMgMzgyLjEwMiAxOTcuNTIzTDM4Mi4xMDMgMTk3LjUyMkMzODcuMTI3IDE5NS41MzUgMzkxLjg1OCAxOTIuOTY4IDM5Ni4yOTMgMTg5LjgyMlpNMzAxLjExMyAyNzcuOTMyQzMwMy44OTIgMjc2LjcwOSAzMDYuMzY5IDI3NC45ODggMzA4LjUzNyAyNzIuNzgyQzMxMC44MzEgMjcwLjU3MiAzMTIuNTcgMjY3LjkzMSAzMTMuNzU1IDI2NC44ODNDMzE0LjkwOSAyNjEuOTE0IDMxNS4zOSAyNTguODM1IDMxNS4xOTEgMjU1LjY2NUMzMTUuMDgxIDI1Mi41NjUgMzE0LjM5NiAyNDkuNjUgMzEzLjEyNCAyNDYuOTRDMzExLjg2MiAyNDQuMjUzIDMxMC4xMjIgMjQxLjgzIDMwNy45MjIgMjM5LjY3MkMzMDUuNjg2IDIzNy40NzkgMzAzLjA4MSAyMzUuODA2IDMwMC4xMjUgMjM0LjY1NkMyOTcuMTY4IDIzMy41MDcgMjk0LjExNyAyMzIuOTgxIDI5MC45ODcgMjMzLjA4OEMyODcuOTA3IDIzMy4xOTMgMjg0Ljk4NyAyMzMuODA2IDI4Mi4yNDIgMjM0LjkzNUMyNzkuNDY0IDIzNi4wNzcgMjc2Ljk4MyAyMzcuNzcyIDI3NC44MDQgMjM5Ljk5NEMyNzIuNjExIDI0Mi4yMyAyNzAuOTM4IDI0NC44MzUgMjY5Ljc4OCAyNDcuNzkyQzI2OC42MDggMjUwLjgyNyAyNjguMDYyIDI1My45MjEgMjY4LjE2OSAyNTcuMDZDMjY4LjI3NSAyNjAuMTYyIDI2OC45MzkgMjYzLjExNCAyNzAuMTY2IDI2NS45MDFDMjcxLjM5MyAyNjguNjg5IDI3My4xMjEgMjcxLjE3MiAyNzUuMzM3IDI3My4zNDZDMjc3LjU3MyAyNzUuNTM4IDI4MC4xNzggMjc3LjIxMSAyODMuMTM1IDI3OC4zNjFDMjg2LjA5MSAyNzkuNTEgMjg5LjE0MiAyODAuMDM2IDI5Mi4yNzIgMjc5LjkyOUMyOTUuMzc0IDI3OS44MjMgMjk4LjMyNiAyNzkuMTU5IDMwMS4xMTMgMjc3LjkzMloiIGZpbGw9IiMyOTJBMkUiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iNCIvPg0KPC9zdmc+DQo=";var a=e(98281),i=e(14517);const D=o.memo(M=>{var P;return o.createElement("div",{className:(0,i.Z)("text-center w-full",M.className),style:M.style},o.createElement("img",{className:"w-32 h-32 m-auto mb-2",src:l}),o.createElement("div",null,(P=M.text)!=null?P:(0,a.t)("\u51FA\u73B0\u4E86\u4E00\u4E9B\u95EE\u9898")))});D.displayName="Problem"},67434:(U,O,e)=>{"use strict";e.d(O,{$:()=>a});var o=e(93540),l=e(52983);const a=l.memo(()=>l.createElement(o.JO,{className:"animate-spin mr-3 inline",icon:"mdi:loading"}));a.displayName="Spinner"},45305:(U,O,e)=>{"use strict";e.d(O,{Ll:()=>m,_W:()=>v,rQ:()=>x,tP:()=>h});var o=e(52983),l=e(98281),a=e(13893),i=e(18300),D=Object.defineProperty,M=Object.defineProperties,P=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,F=(N,T,R)=>T in N?D(N,T,{enumerable:!0,configurable:!0,writable:!0,value:R}):N[T]=R,E=(N,T)=>{for(var R in T||(T={}))L.call(T,R)&&F(N,R,T[R]);if(z)for(var R of z(T))Q.call(T,R)&&F(N,R,T[R]);return N},j=(N,T)=>M(N,P(T));const p=o.memo(N=>{const T=(0,o.useRef)(null),[R,W]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{var B;const Y=()=>{W(!1)};return(B=T.current)==null||B.addEventListener("load",Y),()=>{var $;($=T.current)==null||$.removeEventListener("load",Y)}},[]),o.createElement(i.g,{spinning:R,className:"w-full h-full",tip:(0,l.t)("\u52A0\u8F7D\u7F51\u9875\u4E2D...")},o.createElement("iframe",j(E({},N),{ref:T})))});p.displayName="DefaultWebviewKernel";const[A,m,x]=(0,l.Ntz)("webviewKernelComponent",()=>p),h=N=>{const T=(0,o.useMemo)(()=>A(),[]);return o.createElement(T,{className:"w-full h-full",src:N.url})};h.displayName="Webview";const v=(0,a.A)(h,{cacheId:N=>N.url});v.displayName="WebviewKeepAlive"},50842:(U,O,e)=>{"use strict";e.d(O,{A:()=>a,b:()=>i});var o=e(52983);const l=o.createContext("");l.displayName="GroupIdContext";const a=l.Provider;function i(){return(0,o.useContext)(l)}},85478:(U,O,e)=>{"use strict";e.d(O,{D:()=>a,x:()=>l});var o=e(52983);const l=o.createContext(null);l.displayName="GroupPanelContext";function a(){return(0,o.useContext)(l)}},96857:(U,O,e)=>{"use strict";e.d(O,{Z:()=>a,i:()=>i});var o=e(52983);const l=o.createContext({});l.displayName="SocketContext";const a=o.memo(D=>o.createElement(l.Provider,{value:D.socket},D.children));a.displayName="SocketContextProvider";function i(){return(0,o.useContext)(l)}},89935:(U,O,e)=>{"use strict";e.d(O,{d:()=>i});var o=e(98281),l=e(52983);const a=(D=1/0,M=1/0)=>{const[P,z]=(0,o.j$3)({width:o.jUY?window.innerWidth:D,height:o.jUY?window.innerHeight:M});return(0,l.useEffect)(()=>{if(o.jUY){const L=()=>{z({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",L),()=>{window.removeEventListener("resize",L)}}},[]),P};function i(){const{width:D}=a();return D<768}},81070:(U,O,e)=>{"use strict";var o=e(170),l=e(18370),a=e(52983),i=e(98281),D=e(22398),M=e(87450),P=e(13546),z=e.n(P),L=e(82335),Q=e(89408),F=e(93540),E=(J,ee,ce)=>new Promise((Re,we)=>{var Xe=ue=>{try{je(ce.next(ue))}catch(ze){we(ze)}},Je=ue=>{try{je(ce.throw(ue))}catch(ze){we(ze)}},je=ue=>ue.done?Re(ue.value):Promise.resolve(ue.value).then(Xe,Je);je((ce=ce.apply(J,ee)).next())});(0,L.CN)("init"),(0,Q.S)("init"),i.yGS&&e.e(528).then(e.bind(e,7528)).then(({start:J})=>J());const j=(0,i.Kdd)(window.localStorage);(0,i.poP)(()=>j),(0,i.OvJ)(()=>E(void 0,null,function*(){return yield(0,M.pT)()}));const p=window.localStorage.getItem("serviceUrl");p?(0,i.YAW)(()=>p):(0,i.YAW)(()=>String("https://ssdcc.online:11443")),(0,i.lx9)((J,ee="info")=>{o.ZP.open({type:ee,duration:3,content:a.createElement("span",{"data-testid":"toast"},String(J))})}),(0,i.brB)(J=>{l.Z.confirm({content:J.message,onOk:()=>E(void 0,null,function*(){typeof J.onConfirm=="function"&&(yield J.onConfirm())}),getContainer:D.Gr})}),(0,i.I5R)(J=>o.ZP.loading(J,0)),(0,F.Yk)(i.Awg),(0,i.t4N)(()=>{(0,F.YE)({submitLabel:(0,i.t)("\u63D0\u4EA4")})});const A=(()=>{let J;return()=>{J||window.location.pathname.startsWith("/entry")||window.location.pathname.startsWith("/invite")||(console.warn("\u8D26\u53F7\u6388\u6743\u5DF2\u8FC7\u671F, 2\u79D2\u540E\u81EA\u52A8\u8DF3\u8F6C\u5230\u767B\u5F55\u9875"),(0,i.lHp)((0,i.t)("\u8D26\u53F7\u6388\u6743\u5DF2\u8FC7\u671F, 2\u79D2\u540E\u81EA\u52A8\u8DF3\u8F6C\u5230\u767B\u5F55\u9875"),"warning"),J=window.setTimeout(()=>{window.clearTimeout(J),window.location.href="/entry/login"},2e3))}})();(0,i.J7p)(J=>z()(J,"response.data.code")===401?(A(),!1):!0),(0,i.DtN)().then(J=>{i.yvY&&!J.disableTelemetry&&fetch(`https://tianji.moonrailgun.com/telemetry/clnzoxcy10001vy2ohi4obbi0/blank.gif?name=tailchat&url=${window.location.origin}&v=${i.i83}`).catch(()=>{})}).catch(J=>{(0,i.hJM)((0,i.t)("\u5168\u5C40\u914D\u7F6E\u52A0\u8F7D\u5931\u8D25")),console.error("\u5168\u5C40\u914D\u7F6E\u52A0\u8F7D\u5931\u8D25",J)}),i.yGS===!0&&(window.DEBUG={request:i.WY0,version:i.i83,measure:L.L8});var m=e(78520),x=e(10330),h=e(54782),v=e(14517),N=e(80474),T=e(13474),R=e(94343),W=e(38887),B=e(7975),Y=e(442),$=e(30547),te=e.n($),ye=e(70877),Pe=e(98992),ge=e(21940),ne=e(67706),Ne=e(83824),Se=(J,ee,ce)=>new Promise((Re,we)=>{var Xe=ue=>{try{je(ce.next(ue))}catch(ze){we(ze)}},Je=ue=>{try{je(ce.throw(ue))}catch(ze){we(ze)}},je=ue=>ue.done?Re(ue.value):Promise.resolve(ue.value).then(Xe,Je);je((ce=ce.apply(J,ee)).next())});const Ze=te()()?x.UT:x.VK,We=(0,N.P)(()=>Promise.all([e.e(697),e.e(674),e.e(108),e.e(899),e.e(260),e.e(660),e.e(258),e.e(179)]).then(e.bind(e,5995))),Ae=(0,N.P)(()=>e.e(497).then(e.bind(e,84850))),Fe=(0,N.P)(()=>Promise.all([e.e(697),e.e(108),e.e(660),e.e(258),e.e(212)]).then(e.bind(e,85603))),pe=(0,N.P)(()=>e.e(152).then(e.bind(e,49002))),Le=a.memo(J=>{const{value:ee}=(0,i.r53)(()=>Se(void 0,null,function*(){return(0,i.G33)()==="zh-CN"?e.e(579).then(e.bind(e,42342)).then(Re=>Re.default):Ne.Z}),[]);return a.createElement(T.ZP,{getPopupContainer:D.Gr,locale:ee},J.children)});Le.displayName="TcAntdProvider";const K=a.memo(J=>a.createElement(a.Suspense,{fallback:a.createElement(W.T,null)},a.createElement(Ze,null,a.createElement(i.IE7,null,a.createElement(Pe.W,{backend:ge.PD},a.createElement(Le,null,J.children))))));K.displayName="AppProvider";const b=a.memo(J=>{const{isDarkMode:ee,extraSchemeName:ce}=(0,i.tv4)();return a.createElement("div",{id:"tailchat-app",className:(0,v.Z)("tailchat-app","absolute inset-0 select-none overflow-hidden",{dark:ee},ce),onContextMenu:D.PF},J.children)});b.displayName="AppContainer";const H=a.memo(()=>{const{language:J}=(0,i.ZKp)(),{serverName:ee,serverEntryImage:ce}=(0,i.tR0)(Re=>({serverName:Re.serverName,serverEntryImage:Re.serverEntryImage}));return a.createElement(R.q,null,a.createElement("meta",{httpEquiv:"Content-Language",content:J}),a.createElement("title",null,ee),ce&&a.createElement("style",{type:"text/css"},`
              #tailchat-app {
                --tc-background-image: url(${(0,i.Awg)(ce)});
              }
            `))});H.displayName="AppHeader";const ve=a.memo(()=>((0,L.bw)("appRenderStart"),(0,a.useEffect)(()=>{i.Agn.emit("appLoaded")},[]),a.createElement(K,null,a.createElement(H,null),a.createElement(b,null,a.createElement(ye._,null),a.createElement(ne.S,null,a.createElement(h.Routes,null,a.createElement(h.Route,{path:"/entry/*",element:a.createElement(Y.$2,null,a.createElement(Ae,null))}),a.createElement(h.Route,{path:"/main/*",element:a.createElement(We,null)}),a.createElement(h.Route,{path:"/panel/*",element:a.createElement(Fe,null)}),a.createElement(h.Route,{path:"/invite/:inviteCode",element:a.createElement(pe,null)}),a.createElement(h.Route,{path:"/plugin/*",element:a.createElement(Y.$2,null,a.createElement(h.Routes,null,B.pluginRootRoute.map((J,ee)=>{var ce;return a.createElement(h.Route,{key:J.name,path:(ce=J.path)!=null?ce:`/fallback${ee}`,element:a.createElement(J.component)})})))}),a.createElement(h.Route,{path:"/*",element:a.createElement(h.Navigate,{to:"/entry",replace:!0})})))))));ve.displayName="App";var G=e(45165),d=e(99631),Z=(J,ee,ce)=>new Promise((Re,we)=>{var Xe=ue=>{try{je(ce.next(ue))}catch(ze){we(ze)}},Je=ue=>{try{je(ce.throw(ue))}catch(ze){we(ze)}},je=ue=>ue.done?Re(ue.value):Promise.resolve(ue.value).then(Xe,Je);je((ce=ce.apply(J,ee)).next())});function _(){return Z(this,null,function*(){q(),ae(),yield d.E.initPlugins()})}function q(){(0,G.vf)("react",()=>Promise.resolve().then(e.t.bind(e,52983,19))),(0,G.vf)("react-router",()=>Promise.resolve().then(e.bind(e,54782))),(0,G.vf)("axios",()=>Promise.resolve().then(e.t.bind(e,95326,23))),(0,G.vf)("styled-components",()=>Promise.all([e.e(899),e.e(236)]).then(e.bind(e,56899))),(0,G.vf)("zustand",()=>Promise.resolve().then(e.bind(e,36350))),(0,G.vf)("zustand/middleware/immer",()=>Promise.resolve().then(e.bind(e,50748)))}function ae(){(0,G.h7)("@capital/common",()=>Promise.resolve().then(e.bind(e,7975))),(0,G.h7)("@capital/component",()=>Promise.all([e.e(697),e.e(674),e.e(660),e.e(817)]).then(e.bind(e,31175)))}var Me=e(77569),de=e(10430);(0,Me.Fv)(),(0,L.CN)("initPluginsStart"),_().then(()=>{(0,L.CN)("initPluginsEnd"),(0,Q.S)("loaded"),(0,m.s)(document.querySelector("#app")).render(a.createElement(a.StrictMode,null,a.createElement(ve,null)))}).catch(()=>{(0,i.hJM)((0,i.t)("MiniStar \u5E94\u7528\u521D\u59CB\u5316\u5931\u8D25"))})},72824:(U,O,e)=>{"use strict";e.d(O,{Y:()=>i});var o=e(6494),l=e.n(o);const a=["nightly.paw.msgbyte.com"].includes(location.host),i=l()([{label:"Web Panel Plugin","label.zh-CN":"\u7F51\u9875\u9762\u677F\u63D2\u4EF6",name:"com.msgbyte.webview",url:"/plugins/com.msgbyte.webview/index.js",version:"0.0.0",author:"msgbyte",description:"Provides groups with the ability to create web panels","description.zh-CN":"\u4E3A\u7FA4\u7EC4\u63D0\u4F9B\u521B\u5EFA\u7F51\u9875\u9762\u677F\u7684\u529F\u80FD",documentUrl:"/plugins/com.msgbyte.webview/README.md",requireRestart:!1},{label:"BBCode Mmessage Interpreter","label.zh-CN":"BBCode \u6D88\u606F\u89E3\u91CA\u5668",name:"com.msgbyte.bbcode",url:"/plugins/com.msgbyte.bbcode/index.js",version:"0.0.0",author:"msgbyte",description:"A plugin for supporting bbcode syntax to interpret rich text messages","description.zh-CN":"\u4E00\u4E2A\u7528\u4E8E\u652F\u6301bbcode\u8BED\u6CD5\u89E3\u91CA\u5BCC\u6587\u672C\u6D88\u606F\u7684\u63D2\u4EF6",requireRestart:!0},{label:"Message notification plugin","label.zh-CN":"\u6D88\u606F\u901A\u77E5\u63D2\u4EF6",name:"com.msgbyte.notify",url:"/plugins/com.msgbyte.notify/index.js",version:"0.0.0",author:"msgbyte",description:"Ability to add notifications to apps","description.zh-CN":"\u4E3A\u5E94\u7528\u589E\u52A0\u901A\u77E5\u7684\u80FD\u529B",requireRestart:!0},{label:"Intro plugin","label.zh-CN":"\u521D\u59CB\u5F15\u5BFC\u63D2\u4EF6",name:"com.msgbyte.intro",url:"/plugins/com.msgbyte.intro/index.js",version:"0.0.0",author:"msgbyte",description:"Turn on the ability to introduce the app for the first time for the app","description.zh-CN":"\u4E3A\u5E94\u7528\u9996\u6B21\u6253\u5F00\u4ECB\u7ECD\u5E94\u7528\u7684\u80FD\u529B",requireRestart:!0},{label:"Markdown Panel","label.zh-CN":"Markdown \u9762\u677F",name:"com.msgbyte.mdpanel",url:"/plugins/com.msgbyte.mdpanel/index.js",version:"0.0.0",author:"moonrailgun",description:"Add markdown panel support","description.zh-CN":"\u589E\u52A0 Markdown \u9762\u677F\u652F\u6301",requireRestart:!0},{label:"Identity and Access Management","label.zh-CN":"IAM \u63D2\u4EF6",name:"com.msgbyte.iam",url:"{BACKEND}/plugins/com.msgbyte.iam/index.js",documentUrl:"https://tailchat.msgbyte.com/docs/advanced-usage/plugins/com.msgbyte.iam",version:"0.0.0",author:"moonrailgun",description:"Provide Tailchat with the function of conveniently accessing external account systems","description.zh-CN":"\u4E3ATailchat\u63D0\u4F9B\u65B9\u4FBF\u7684\u63A5\u5165\u5916\u90E8\u8D26\u6237\u7CFB\u7EDF\u7684\u529F\u80FD",requireRestart:!0},{label:"Offline Icons","label.zh-CN":"\u79BB\u7EBF\u56FE\u6807",name:"com.msgbyte.offline-icons",url:"/plugins/com.msgbyte.offline-icons/index.js",version:"0.0.0",author:"moonrailgun",description:"Add prefetched icons which need run in intranet environment","description.zh-CN":"\u589E\u52A0\u9884\u83B7\u53D6\u7684\u56FE\u6807\uFF0C\u9002\u7528\u4E8E\u5185\u7F51\u73AF\u5883",requireRestart:!0},{label:"Discover","label.zh-CN":"\u53D1\u73B0\u7FA4\u7EC4",name:"com.msgbyte.discover",url:"{BACKEND}/plugins/com.msgbyte.discover/index.js",version:"0.0.0",author:"moonrailgun",description:"Add Discover panel which can help user found groups","description.zh-CN":"\u589E\u52A0\u4E00\u4E2A\u53D1\u73B0\u9762\u677F\uFF0C\u7528\u4E8E\u63A2\u7D22\u516C\u5F00\u7684\u7FA4\u7EC4",requireRestart:!0},{label:"Agora","label.zh-CN":"\u58F0\u7F51\u97F3\u89C6\u9891",name:"com.msgbyte.agora",url:"{BACKEND}/plugins/com.msgbyte.agora/index.js",icon:"{BACKEND}/plugins/com.msgbyte.agora/assets/icon.png",version:"0.0.0",author:"moonrailgun",description:"Add the Agora audio and video communication feature to Tailchat","description.zh-CN":"\u4E3ATailchat\u589E\u52A0\u58F0\u7F51\u97F3\u89C6\u9891\u901A\u4FE1\u529F\u80FD",requireRestart:!1},{label:"SSDC\u89C6\u9891\u6D88\u606F\u652F\u6301\u63D2\u4EF6",name:"cn.ssdcc.tailchat.video",url:"https://ssdc_c.gitee.io/tailchatplugins/cn.ssdcc.tailchat.video/index.js",version:"0.0.0",author:"ssdcc",description:"\u63D0\u4F9B\u89C6\u9891\u6D88\u606F\u80FD\u529B",requireRestart:!0},a&&{label:"Posthog",name:"com.msgbyte.posthog",url:"/plugins/com.msgbyte.posthog/index.js",icon:"/plugins/com.msgbyte.posthog/assets/icon.png",version:"0.0.0",author:"moonrailgun",description:"Posthog Statistics","description.zh-CN":"Posthog \u6570\u636E\u7EDF\u8BA1",requireRestart:!0},a&&{label:"Sentry",name:"com.msgbyte.sentry",url:"/plugins/com.msgbyte.sentry/index.js",icon:"/plugins/com.msgbyte.sentry/assets/icon.png",version:"0.0.0",author:"moonrailgun",description:"Sentry error handling","description.zh-CN":"Sentry \u9519\u8BEF\u5904\u7406",requireRestart:!0},a&&{label:"User Location","label.zh-CN":"\u7528\u6237\u5730\u7406\u4F4D\u7F6E",name:"com.msgbyte.user.location",url:"/plugins/com.msgbyte.user.location/index.js",version:"0.0.0",author:"moonrailgun",description:"Add geographic location records for user information","description.zh-CN":"\u4E3A\u7528\u6237\u4FE1\u606F\u589E\u52A0\u5730\u7406\u4F4D\u7F6E\u8BB0\u5F55",requireRestart:!0},a&&{label:"AI Assistant",name:"com.msgbyte.ai-assistant",url:"/plugins/com.msgbyte.ai-assistant/index.js",icon:"/plugins/com.msgbyte.ai-assistant/assets/icon.png",version:"0.0.0",author:"moonrailgun",description:"Add chatgpt into Tailchat",requireRestart:!0}])},7975:(U,O,e)=>{"use strict";e.r(O),e.d(O,{Loadable:()=>ze.P,ModalWrapper:()=>ue.AB,appendUrlSearch:()=>gt.no,closeModal:()=>ue.Mr,createFastFormSchema:()=>tt._D,createPluginRequest:()=>vt,dataUrlToFile:()=>Pt.Bo,fetchAvailableServices:()=>a.Y4U,fieldSchema:()=>tt._6,getCachedBaseGroupInfo:()=>a.D6C,getCachedConverseInfo:()=>a.r5V,getCachedUserInfo:()=>a.pGV,getCachedUserSettings:()=>a.U$y,getGlobalState:()=>et.MO,getJWTUserInfo:()=>ft.Yt,getLanguage:()=>a.G33,getMessageRender:()=>m,getMessageTextDecorators:()=>T,getServiceUrl:()=>a.qQ$,getServiceWorkerRegistration:()=>Mt.Op,getTextColorHex:()=>tt.Yy,isDevelopment:()=>a.yGS,isValidStr:()=>a.YQu,joinArray:()=>a.Mo8,localTrans:()=>a.YtP,loginWithToken:()=>a.ouS,messageInterpreter:()=>p,navigate:()=>Ot.c,openConfirmModal:()=>ue._5,openModal:()=>ue.h7,openReconfirmModal:()=>ue.VW,parseUrlStr:()=>a.Awg,pluginCardItemMap:()=>q,pluginChatInputActions:()=>R,pluginChatInputButtons:()=>B,pluginChatInputPasteHandler:()=>ce,pluginColorScheme:()=>$,pluginCustomPanel:()=>Q,pluginGroupConfigItems:()=>Me,pluginGroupPanel:()=>E,pluginGroupPanelBadges:()=>pe,pluginGroupTextPanelExtraMenus:()=>K,pluginInboxItemMap:()=>Z,pluginInspectServices:()=>ye,pluginLoginAction:()=>J,pluginMessageExtraParsers:()=>ge,pluginPanelActions:()=>Ze,pluginPermission:()=>Ae,pluginRootRoute:()=>Ne,pluginSettings:()=>G,pluginUserExtraInfo:()=>H,postMessageEvent:()=>Nt.S,postRequest:()=>Ft,regChatInputAction:()=>W,regChatInputButton:()=>Y,regChatInputPasteHandler:()=>Re,regCustomPanel:()=>F,regGroupPanel:()=>j,regGroupPanelBadge:()=>Le,regInspectService:()=>Pe,regLoginAction:()=>ee,regMessageExtraParser:()=>ne,regMessageInterpreter:()=>A,regMessageRender:()=>x,regMessageTextDecorators:()=>N,regPluginCardItem:()=>ae,regPluginColorScheme:()=>te,regPluginGroupConfigItem:()=>de,regPluginGroupTextPanelExtraMenu:()=>b,regPluginInboxItemMap:()=>_,regPluginPanelAction:()=>We,regPluginPermission:()=>Fe,regPluginRootRoute:()=>Se,regPluginSettings:()=>d,regSocketEventListener:()=>a.Kr1,regUserExtraInfo:()=>ve,resetWebviewKernel:()=>mt.rQ,sendMessage:()=>a.bG5,setUserJWT:()=>ft._H,setWebviewKernel:()=>mt.Ll,sharedEvent:()=>a.Agn,showErrorToasts:()=>a.hJM,showMessageTime:()=>a.omK,showSuccessToasts:()=>a.jiy,showToasts:()=>a.lHp,uploadFile:()=>a.cTq,urlSearchParse:()=>gt.qp,urlSearchStringify:()=>gt.a,useAsync:()=>a.r53,useAsyncFn:()=>a.ilX,useAsyncRefresh:()=>a.IxN,useAsyncRequest:()=>a.CoE,useConverseMessageContext:()=>a.FNv,useCurrentUserInfo:()=>jt,useEvent:()=>a.zX9,useGlobalSocketEvent:()=>et.s0,useGroupIdContext:()=>we.b,useGroupPanelContext:()=>Xe.D,useGroupPanelInfo:()=>a.wY6,useGroupPanelParams:()=>je.PO,useIsMobile:()=>Bt.d,useLocation:()=>Ct.useLocation,useModalContext:()=>ue.vR,useNavigate:()=>Ct.useNavigate,useSocketContext:()=>Je.i,useUpdateRef:()=>a.ysv,useWatch:()=>a.qoQ});var o=e(49335),l=e.n(o),a=e(98281),i=Object.defineProperty,D=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,z=(ie,me,Oe)=>me in ie?i(ie,me,{enumerable:!0,configurable:!0,writable:!0,value:Oe}):ie[me]=Oe,L=(ie,me)=>{for(var Oe in me||(me={}))M.call(me,Oe)&&z(ie,Oe,me[Oe]);if(D)for(var Oe of D(me))P.call(me,Oe)&&z(ie,Oe,me[Oe]);return ie};const[Q,F]=(0,a._CB)(),[E,j]=(0,a._CB)(),[p,A]=(0,a._CB)(),[m,x]=(0,a.Ntz)("message-render",ie=>ie),h={url:(ie,me)=>me?`${me}(${ie})`:ie,image:(ie,me)=>ie,card:(ie,me)=>ie,mention:(ie,me)=>`@${me}`,emoji:ie=>ie,serialize:ie=>ie},[v,N]=(0,a.Ntz)("message-text-decorators",()=>h);function T(){return L(L({},h),v())}const[R,W]=(0,a._CB)(),[B,Y]=(0,a._CB)(),[$,te]=(0,a._CB)(),[ye,Pe]=(0,a._CB)(),[ge,ne]=(0,a._CB)(),[Ne,Se]=(0,a._CB)(),[Ze,We]=(0,a._CB)(),[Ae,Fe]=(0,a._CB)(),[pe,Le]=(0,a._CB)(),[K,b]=(0,a._CB)(),[H,ve]=(0,a._CB)(),[G,d]=(0,a._CB)(),[Z,_]=(0,a.D3K)(),[q,ae]=(0,a.D3K)(),[Me,de]=(0,a._CB)(),[J,ee]=(0,a._CB)(),[ce,Re]=(0,a._CB)();var we=e(50842),Xe=e(85478),Je=e(96857),je=e(22215),ue=e(84208),ze=e(80474),Bt=e(89935),et=e(5198),ft=e(87450),Pt=e(74774),gt=e(72297),Mt=e(77569),Nt=e(89408),mt=e(45305),Ot=e(70877),Ct=e(54782),tt=e(93540);function jt(){const ie=(0,a.Pc$)();return l()(ie,["email","nickname","discriminator","avatar"])}function pt(ie){if(!!ie)return l()(ie,["transformRequest","transformResponse","headers","params","data","timeout","withCredentials","xsrfCookieName","xsrfHeaderName"])}function vt(ie){return{get(me,Oe){return a.WY0.get(`/api/plugin:${ie}/${me.replace(/\./g,"/")}`,pt(Oe))},post(me,Oe,ut){return a.WY0.post(`/api/plugin:${ie}/${me.replace(/\./g,"/")}`,Oe,pt(ut))}}}function Ft(ie,me,Oe){return a.WY0.post(`/api${ie}`,me,pt(Oe))}},99631:(U,O,e)=>{"use strict";e.d(O,{E:()=>T});var o=e(98281),l=e(45165),a=e(47020),i=e.n(a),D=e(72824),M=e(43991),P=e(52983);function z(R){M.Z.warn({message:P.createElement("div",null,P.createElement("p",null,(0,o.t)("\u63D2\u4EF6\u52A0\u8F7D\u5931\u8D25"),":"),R.map(W=>P.createElement("p",{key:W},"- ",W))),duration:2})}function L(R,W){window.tailchat||(window.tailchat={}),window.tailchat[R]=W}var Q=e(3010),F=e.n(Q),E=Object.defineProperty,j=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,m=(R,W,B)=>W in R?E(R,W,{enumerable:!0,configurable:!0,writable:!0,value:B}):R[W]=B,x=(R,W)=>{for(var B in W||(W={}))p.call(W,B)&&m(R,B,W[B]);if(j)for(var B of j(W))A.call(W,B)&&m(R,B,W[B]);return R},h=(R,W,B)=>new Promise((Y,$)=>{var te=ge=>{try{Pe(B.next(ge))}catch(ne){$(ne)}},ye=ge=>{try{Pe(B.throw(ge))}catch(ne){$(ne)}},Pe=ge=>ge.done?Y(ge.value):Promise.resolve(ge.value).then(te,ye);Pe((B=B.apply(R,W)).next())});const v=class{constructor(){this.initPlugins=i()(()=>h(this,null,function*(){const W=F()([...D.Y,...yield this.getInstalledPlugins()],"name").map(({name:Y,url:$})=>({name:Y,url:(0,o.Awg)($)})),B=new Set;yield(0,l.FV)({plugins:W,onPluginLoadError:Y=>{console.error("Plugin load error:",Y),B.add(Y.pluginName)}}),B.size>0&&z(Array.from(B))})),this.getRegistryPlugins=i()(()=>h(this,null,function*(){const R=yield(0,o.Mlq)();return this.updatePluginsInfo(R),R}))}getInstalledPlugins(){return h(this,null,function*(){return yield(0,o.cF2)().get(v.STORE_KEY,[])})}updatePluginsInfo(R){return h(this,null,function*(){const W=yield this.getInstalledPlugins();yield this.saveInstalledPlugins(W.map(B=>{const Y=R.find($=>$.name===B.name);return Y?x(x({},B),Y):B}))})}installPlugin(R){return h(this,null,function*(){const W=yield this.getInstalledPlugins(),B=W.findIndex(Y=>Y.name===R.name);B>=0?W[B]=R:W.push(R),yield this.saveInstalledPlugins(W),yield(0,l.dZ)({name:R.name,url:R.url})})}uninstallPlugin(R){return h(this,null,function*(){const W=yield(0,o.cF2)().get(v.STORE_KEY),B=W.findIndex(Y=>Y.name===R);B>=0&&(W.splice(B,1),yield this.saveInstalledPlugins(W))})}saveInstalledPlugins(R){return h(this,null,function*(){yield(0,o.cF2)().save(v.STORE_KEY,R)})}};let N=v;N.STORE_KEY="$TailchatInstalledPlugins";const T=new N;L("installPlugin",T.installPlugin.bind(T))},22215:(U,O,e)=>{"use strict";e.d(O,{PO:()=>z,Sp:()=>L,rF:()=>Q});var o=e(7975),l=e(89889),a=e(52983),i=e(54782),D=e(93540),M=e(98281),P=e(52486);function z(){const{groupId:F="",panelId:E=""}=(0,i.useParams)();return{groupId:F,panelId:E}}function L(F){const E=(0,a.useMemo)(()=>{var j,p;return F.type===M.Xpe.TEXT?o.pluginGroupTextPanelExtraMenus:(0,M.YQu)(F.pluginPanelName)?(p=(j=(0,l.S)(F.pluginPanelName))==null?void 0:j.menus)!=null?p:[]:[]},[F.type,F.pluginPanelName]);return Array.isArray(E)&&E.length>0?[{type:"divider"},...E.map(j=>({key:j.name,label:j.label,icon:j.icon?a.createElement(D.JO,{icon:j.icon}):void 0,onClick:()=>j.onClick(F)}))]:[]}function Q(F,E,j){const p=(0,P.Z)();return(0,M.JtK)("groupPanelBadgeUpdate",()=>{p()}),o.pluginGroupPanelBadges.filter(m=>m.panelType===j).map(m=>{const x=m.render;return a.createElement(a.Fragment,{key:E+m.name},a.createElement(x,{groupId:F,panelId:E}))})}},22398:(U,O,e)=>{"use strict";e.d(O,{Gr:()=>o,PF:()=>a,SQ:()=>D,UW:()=>l,g$:()=>i});function o(){const M=document.querySelector("#tailchat-app");return M||document.body}function l(M){M.stopPropagation()}function a(M){M.preventDefault()}function i(M){const P=[];let z=M.parentElement;for(;z;)P.unshift(z),z=z.parentElement;return P}function D(M){let P=!1;const z=(...L)=>{P!==!1&&(M(...L),requestAnimationFrame(()=>{z(...L)}))};return{start:(...L)=>{P=!0,z(...L)},end:()=>{requestAnimationFrame(()=>{P=!1})}}}},89408:(U,O,e)=>{"use strict";e.d(O,{S:()=>o});function o(l,a){window.postMessage({_isTailchat:!0,type:l,payload:a},"*")}},74774:(U,O,e)=>{"use strict";e.d(O,{Bo:()=>M,DQ:()=>p,Fy:()=>D,GR:()=>F,NV:()=>Q,ZB:()=>j,hv:()=>A});var o=e(13546),l=e.n(o),a=e(98281),i=(m,x,h)=>new Promise((v,N)=>{var T=B=>{try{W(h.next(B))}catch(Y){N(Y)}},R=B=>{try{W(h.throw(B))}catch(Y){N(Y)}},W=B=>B.done?v(B.value):Promise.resolve(B.value).then(T,R);W((h=h.apply(m,x)).next())});function D(m){return new Promise((x,h)=>{const v=new FileReader;v.addEventListener("load",()=>{var N;return x(String((N=v.result)!=null?N:""))}),v.addEventListener("error",()=>h(v.error)),v.readAsDataURL(m)})}function M(m,x="file"){const h=m.split(","),v=l()(h[0].match(/:(.*?);/),[1]),N=atob(h[1]);let T=N.length;const R=new Uint8Array(T);for(;T--;)R[T]=N.charCodeAt(T);return new File([R],x,{type:v})}function P(m){return new Promise((x,h)=>{const v=new FileReader;v.addEventListener("load",()=>{var N;return x(String((N=v.result)!=null?N:""))}),v.addEventListener("error",()=>h(v.error)),v.readAsText(m)})}function z(m){return new Promise((x,h)=>{const v=new XMLHttpRequest;v.responseType="blob",v.onload=()=>{x(v.response)},v.onerror=()=>{h(v.responseText)},v.open("get",m),v.send()})}function L(m,x){return new File([m],x,{lastModified:new Date().valueOf(),type:m.type})}function Q(m,x="image.jpg"){return i(this,null,function*(){const h=yield z(m);return L(h,x)})}function F(m,x){const h=document.createElement("a");h.href=(0,a.Awg)(m),h.download=x,h.target="_blank",h.click()}function E(m,x){const h=String(URL.createObjectURL(m));F(h,x),URL.revokeObjectURL(h)}function j(m){return i(this,null,function*(){return new Promise(x=>{const h=document.createElement("input");h.setAttribute("type","file"),typeof(m==null?void 0:m.accept)=="string"&&(h.accept=m.accept),h.addEventListener("change",function(v){const N=l()(this,["files",0],null);x(N),h.remove()}),h.click()})})}const p=m=>m.type==="image/gif";function A(m,x){return i(this,null,function*(){const{default:h}=yield e.e(538).then(e.t.bind(e,17538,23));return new Promise((v,N)=>{var T,R,W;new h(m,{quality:(T=x==null?void 0:x.quality)!=null?T:.6,maxWidth:(R=x==null?void 0:x.maxWidth)!=null?R:1920,maxHeight:(W=x==null?void 0:x.maxHeight)!=null?W:1080,success(B){B instanceof File?v(B):v(new File([B],B.name))},error(B){N(B)}})})})}},5198:(U,O,e)=>{"use strict";e.d(O,{Kj:()=>z,MO:()=>M,_3:()=>D,s0:()=>Q});var o=e(52983),l=e(98281),a=(E,j,p)=>new Promise((A,m)=>{var x=N=>{try{v(p.next(N))}catch(T){m(T)}},h=N=>{try{v(p.throw(N))}catch(T){m(T)}},v=N=>N.done?A(N.value):Promise.resolve(N.value).then(x,h);v((p=p.apply(E,j)).next())});let i;function D(E){i=E}function M(){return i?i.getState():null}let P;function z(E){P=E}function L(){return P||null}function Q(E,j){const p=(0,l.zX9)(j);(0,o.useEffect)(()=>(P&&P.listen(E,p),()=>{P&&P.removeListener(E,p)}),[])}function F(E,j){return a(this,null,function*(){if(!P)throw new Error("socket not inited");return yield P.request(E,j)})}},87450:(U,O,e)=>{"use strict";e.d(O,{Yt:()=>E,_H:()=>Q,pT:()=>F});var o=e(93702),l=e.n(o),a=e(7534),i=e.n(a),D=e(61006),M=e(98281),P=(j,p,A)=>new Promise((m,x)=>{var h=T=>{try{N(A.next(T))}catch(R){x(R)}},v=T=>{try{N(A.throw(T))}catch(R){x(R)}},N=T=>T.done?m(T.value):Promise.resolve(T.value).then(h,v);N((A=A.apply(j,p)).next())});function z(j){try{return(0,D.Z)(j)}catch(p){console.error(`getJWTInfo Error: [jwt: ${j}]`,p)}return{}}let L=null;function Q(j){return P(this,null,function*(){L=j,yield(0,M.cF2)().save("jsonwebtoken",j),(0,M.csP)()})}function F(){return P(this,null,function*(){if(i()(L)){const j=yield(0,M.cF2)().get("jsonwebtoken");return L=j,j}return L})}function E(){return P(this,null,function*(){try{const j=yield F(),p=z(j);if(l()(p))return p}catch(j){console.error("getJWTInfo Error:",j)}return{}})}},82335:(U,O,e)=>{"use strict";e.d(O,{CN:()=>E,L8:()=>p,bw:()=>j});var o=e(52983),l=e(84184),a=Object.defineProperty,i=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,P=(A,m,x)=>m in A?a(A,m,{enumerable:!0,configurable:!0,writable:!0,value:x}):A[m]=x,z=(A,m)=>{for(var x in m||(m={}))D.call(m,x)&&P(A,x,m[x]);if(i)for(var x of i(m))M.call(m,x)&&P(A,x,m[x]);return A};const L={},Q={},F=A=>{Q[A.name]||(Q[A.name]=A.value)};(0,l.mw)(F),(0,l.a4)(F),(0,l.Fu)(F),(0,l.Yn)(F),(0,l.NO)(F),(0,l.mr)(F);function E(A){L[A]||(performance.mark(`tailchat:${A}`),L[A]=performance.now())}function j(A){(0,o.useLayoutEffect)(()=>{E(A)},[]),(0,o.useEffect)(()=>{E(A+"Mounted")},[])}const p={getVitals:()=>z({},Q),getRecord:()=>z({},L),getTimeUsage(){let A=performance.timing;const m={dnsUsage:A.domainLookupEnd-A.domainLookupStart,tcpUsage:A.connectEnd-A.connectStart,requestUsage:A.responseEnd-A.responseStart,parseDOMUsage:A.domComplete-A.domInteractive,firstPaintTime:A.responseStart-A.navigationStart,domReadyTime:A.domContentLoadedEventEnd-A.navigationStart,onloadTime:A.loadEventEnd-A.navigationStart};return(A=performance.memory)&&(m.jsHeapRatio=A.usedJSHeapSize/A.totalJSHeapSize),m}}},89889:(U,O,e)=>{"use strict";e.d(O,{S:()=>l,g:()=>a});var o=e(7975);function l(i){return o.pluginGroupPanel.find(D=>D.name===i)}function a(i){if(typeof i!="string")throw new Error("Plugin Name must be string");return i.startsWith("plugin:")?i:`plugin:${i}`}},77569:(U,O,e)=>{"use strict";e.d(O,{Wc:()=>m,Op:()=>p,Fv:()=>j,ud:()=>A});var o=e(43991),l=e(52983),a=e(47020),i=e.n(a),D=e(98281),M=e(58761),P=e(75526);const z=l.memo(()=>l.createElement(M.Z,null,l.createElement(P.Z,{type:"primary",size:"small",onClick:()=>window.location.reload()},(0,D.t)("\u7ACB\u5373\u5237\u65B0"))));z.displayName="UpdateNotificationBtn";const L=i()(()=>{setTimeout(()=>{o.Z.open({message:(0,D.t)("\u66F4\u65B0\u7248\u672C"),description:(0,D.t)("\u68C0\u6D4B\u5230\u6709\u65B0\u7248\u672C, \u662F\u5426\u7ACB\u5373\u5237\u65B0\u4EE5\u5347\u7EA7\u5230\u6700\u65B0\u5185\u5BB9"),duration:0,btn:l.createElement(z)})},2e3)});let Q=null,F;function E(x){if(console.log("registered",x),x.waiting){console.log("updated",x),L();return}x.onupdatefound=()=>{console.log("updatefound",x);const h=x.installing;h!==null&&(h.onstatechange=()=>{h.state==="installed"&&(navigator.serviceWorker.controller?(console.log("updated",x),L()):console.log("cached",x))})}}function j(){"serviceWorker"in navigator&&(window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(x=>{console.log("SW registered: ",x),Q=x,E(x)}).catch(x=>{console.log("SW registration failed: ",x)})}),window.addEventListener("beforeinstallprompt",x=>{F=x}))}function p(){return Q}function A(){if(!F){(0,D.hJM)((0,D.t)("\u65E0\u6CD5\u5B89\u88C5"));return}F.prompt()}function m(){return!!F}},72297:(U,O,e)=>{"use strict";e.d(O,{Cr:()=>L,a:()=>o.stringify,no:()=>Q,po:()=>F,qp:()=>o.parse});var o=e(46163),l=e.n(o),a=Object.defineProperty,i=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,P=(E,j,p)=>j in E?a(E,j,{enumerable:!0,configurable:!0,writable:!0,value:p}):E[j]=p,z=(E,j)=>{for(var p in j||(j={}))D.call(j,p)&&P(E,p,j[p]);if(i)for(var p of i(j))M.call(j,p)&&P(E,p,j[p]);return E};function L(E){return new URL(E,location.href).href}function Q(E){return(0,o.stringify)(z(z({},(0,o.parse)(window.location.search,{ignoreQueryPrefix:!0})),E),{skipNulls:!0})}function F(E){return`${location.origin}/invite/${E}`}},51208:(U,O,e)=>{"use strict";e.d(O,{Xp:()=>o});var o;(function(l){l[l.TEXT=0]="TEXT",l[l.GROUP=1]="GROUP",l[l.PLUGIN=2]="PLUGIN"})(o||(o={}))},65710:()=>{}},ir={};function X(U){var O=ir[U];if(O!==void 0)return O.exports;var e=ir[U]={id:U,loaded:!1,exports:{}};return ur[U].call(e.exports,e,e.exports,X),e.loaded=!0,e.exports}X.m=ur,(()=>{var U=[];X.O=(O,e,o,l)=>{if(e){l=l||0;for(var a=U.length;a>0&&U[a-1][2]>l;a--)U[a]=U[a-1];U[a]=[e,o,l];return}for(var i=1/0,a=0;a<U.length;a++){for(var[e,o,l]=U[a],D=!0,M=0;M<e.length;M++)(l&!1||i>=l)&&Object.keys(X.O).every(E=>X.O[E](e[M]))?e.splice(M--,1):(D=!1,l<i&&(i=l));if(D){U.splice(a--,1);var P=o();P!==void 0&&(O=P)}}return O}})(),(()=>{X.n=U=>{var O=U&&U.__esModule?()=>U.default:()=>U;return X.d(O,{a:O}),O}})(),(()=>{var U=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,O;X.t=function(e,o){if(o&1&&(e=this(e)),o&8||typeof e=="object"&&e&&(o&4&&e.__esModule||o&16&&typeof e.then=="function"))return e;var l=Object.create(null);X.r(l);var a={};O=O||[null,U({}),U([]),U(U)];for(var i=o&2&&e;typeof i=="object"&&!~O.indexOf(i);i=U(i))Object.getOwnPropertyNames(i).forEach(D=>a[D]=()=>e[D]);return a.default=()=>e,X.d(l,a),l}})(),(()=>{X.d=(U,O)=>{for(var e in O)X.o(O,e)&&!X.o(U,e)&&Object.defineProperty(U,e,{enumerable:!0,get:O[e]})}})(),(()=>{X.f={},X.e=U=>Promise.all(Object.keys(X.f).reduce((O,e)=>(X.f[e](U,O),O),[]))})(),(()=>{X.u=U=>""+({"152":"invite","179":"main","497":"entry"}[U]||U)+"."+{"20":"74346ca71ba5832bd3d9","108":"3688d3185257661f8b68","152":"e688b18b77afb64bd1eb","179":"106bcbcf386c63afa23c","212":"e461c0418452dda957ef","236":"a3f78a40f5f37656199d","258":"a54b0f7d96036244bd11","260":"7a384533a437d5ddf40e","497":"dbd45e83aae143a15ff3","528":"ac69d20cfc6300fc3c90","538":"65d05a13d61982b8ebaa","556":"7ca110b57b308ff9ef08","579":"de13c3c70ec5c6b7f4ce","660":"561640b331d85efbee64","674":"f13d5f565bf93bc66fd3","697":"4e7032371df106c044f2","817":"467301c0f328348308d1","899":"02afbb5c04045b9649aa","943":"1f96442c5ad4bce1e583","994":"552a810289903861fb8b"}[U]+".js"})(),(()=>{X.miniCssF=U=>"styles-"+{"179":"9107b31f7f01e1cb339a","212":"e7742dbe645cfc40f5e5","497":"e738542ab6491cf1d167","817":"cffed5362661d1d49c68","943":"459323d593baae514585"}[U]+".css"})(),(()=>{X.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(U){if(typeof window=="object")return window}}()})(),(()=>{X.o=(U,O)=>Object.prototype.hasOwnProperty.call(U,O)})(),(()=>{var U={},O="tailchat-web:";X.l=(e,o,l,a)=>{if(U[e]){U[e].push(o);return}var i,D;if(l!==void 0)for(var M=document.getElementsByTagName("script"),P=0;P<M.length;P++){var z=M[P];if(z.getAttribute("src")==e||z.getAttribute("data-webpack")==O+l){i=z;break}}i||(D=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,X.nc&&i.setAttribute("nonce",X.nc),i.setAttribute("data-webpack",O+l),i.src=e),U[e]=[o];var L=(F,E)=>{i.onerror=i.onload=null,clearTimeout(Q);var j=U[e];if(delete U[e],i.parentNode&&i.parentNode.removeChild(i),j&&j.forEach(p=>p(E)),F)return F(E)},Q=setTimeout(L.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=L.bind(null,i.onerror),i.onload=L.bind(null,i.onload),D&&document.head.appendChild(i)}})(),(()=>{X.r=U=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(U,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(U,"__esModule",{value:!0})}})(),(()=>{X.nmd=U=>(U.paths=[],U.children||(U.children=[]),U)})(),(()=>{X.p="/"})(),(()=>{if(typeof X!="undefined"){var U=X.u,O=X.e,e={},o={},l=function(){return 0};X.u=function(a){var i=U(a);return i+(e.hasOwnProperty(a)?"?"+e[a]:"")},X.e=function(a){var i=O(a);return i.catch(function(D){var M=o.hasOwnProperty(a)?o[a]:2;if(M<1){var P=U(a);throw D.message="Loading chunk "+a+` failed after 2 retries.
(`+P+")",D.request=P,D}return new Promise(function(z){var L=2-M+1;setTimeout(function(){var Q="&retry-attempt="+L,F="cache-bust=true"+Q;e[a]=F,o[a]=M-1,z(X.e(a))},l(L))})})}}})(),(()=>{if(typeof document!="undefined"){var U=(l,a,i,D,M)=>{var P=document.createElement("link");P.rel="stylesheet",P.type="text/css";var z=L=>{if(P.onerror=P.onload=null,L.type==="load")D();else{var Q=L&&(L.type==="load"?"missing":L.type),F=L&&L.target&&L.target.href||a,E=new Error("Loading CSS chunk "+l+` failed.
(`+F+")");E.code="CSS_CHUNK_LOAD_FAILED",E.type=Q,E.request=F,P.parentNode.removeChild(P),M(E)}};return P.onerror=P.onload=z,P.href=a,i?i.parentNode.insertBefore(P,i.nextSibling):document.head.appendChild(P),P},O=(l,a)=>{for(var i=document.getElementsByTagName("link"),D=0;D<i.length;D++){var M=i[D],P=M.getAttribute("data-href")||M.getAttribute("href");if(M.rel==="stylesheet"&&(P===l||P===a))return M}for(var z=document.getElementsByTagName("style"),D=0;D<z.length;D++){var M=z[D],P=M.getAttribute("data-href");if(P===l||P===a)return M}},e=l=>new Promise((a,i)=>{var D=X.miniCssF(l),M=X.p+D;if(O(D,M))return a();U(l,M,null,a,i)}),o={143:0};X.f.miniCss=(l,a)=>{var i={"179":1,"212":1,"497":1,"817":1,"943":1};o[l]?a.push(o[l]):o[l]!==0&&i[l]&&a.push(o[l]=e(l).then(()=>{o[l]=0},D=>{throw delete o[l],D}))}}})(),(()=>{var U={143:0};X.f.j=(o,l)=>{var a=X.o(U,o)?U[o]:void 0;if(a!==0)if(a)l.push(a[2]);else{var i=new Promise((z,L)=>a=U[o]=[z,L]);l.push(a[2]=i);var D=X.p+X.u(o),M=new Error,P=z=>{if(X.o(U,o)&&(a=U[o],a!==0&&(U[o]=void 0),a)){var L=z&&(z.type==="load"?"missing":z.type),Q=z&&z.target&&z.target.src;M.message="Loading chunk "+o+` failed.
(`+L+": "+Q+")",M.name="ChunkLoadError",M.type=L,M.request=Q,a[1](M)}};X.l(D,P,"chunk-"+o,o)}},X.O.j=o=>U[o]===0;var O=(o,l)=>{var[a,i,D]=l,M,P,z=0;if(a.some(Q=>U[Q]!==0)){for(M in i)X.o(i,M)&&(X.m[M]=i[M]);if(D)var L=D(X)}for(o&&o(l);z<a.length;z++)P=a[z],X.o(U,P)&&U[P]&&U[P][0](),U[P]=0;return X.O(L)},e=self.webpackChunktailchat_web=self.webpackChunktailchat_web||[];e.forEach(O.bind(null,0)),e.push=O.bind(null,e.push.bind(e))})(),(()=>{X.nc=void 0})();var lr=X.O(void 0,[410,799,342],()=>X(81070));lr=X.O(lr)})();
