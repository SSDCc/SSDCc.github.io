"use strict";(self.webpackChunktailchat_web=self.webpackChunktailchat_web||[]).push([[497],{75217:(H,y,l)=>{l.d(y,{Z:()=>L});var e=l(97364),g=l(93585),B=l(87608),D=l.n(B),t=l(52983),v=l(94920),Z=function(E,o){var u={};for(var d in E)Object.prototype.hasOwnProperty.call(E,d)&&o.indexOf(d)<0&&(u[d]=E[d]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,d=Object.getOwnPropertySymbols(E);j<d.length;j++)o.indexOf(d[j])<0&&Object.prototype.propertyIsEnumerable.call(E,d[j])&&(u[d[j]]=E[d[j]]);return u},W=function(o){var u,d=t.useContext(v.E_),j=d.getPrefixCls,C=d.direction,P=o.prefixCls,h=o.type,w=h===void 0?"horizontal":h,r=o.orientation,s=r===void 0?"center":r,G=o.orientationMargin,b=o.className,O=o.children,X=o.dashed,k=o.plain,J=Z(o,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),S=j("divider",P),K=s.length>0?"-".concat(s):s,U=!!O,$=s==="left"&&G!=null,V=s==="right"&&G!=null,ee=D()(S,"".concat(S,"-").concat(w),(u={},(0,g.Z)(u,"".concat(S,"-with-text"),U),(0,g.Z)(u,"".concat(S,"-with-text").concat(K),U),(0,g.Z)(u,"".concat(S,"-dashed"),!!X),(0,g.Z)(u,"".concat(S,"-plain"),!!k),(0,g.Z)(u,"".concat(S,"-rtl"),C==="rtl"),(0,g.Z)(u,"".concat(S,"-no-default-orientation-margin-left"),$),(0,g.Z)(u,"".concat(S,"-no-default-orientation-margin-right"),V),u),b),Ie=(0,e.Z)((0,e.Z)({},$&&{marginLeft:G}),V&&{marginRight:G});return t.createElement("div",(0,e.Z)({className:ee},J,{role:"separator"}),O&&w!=="vertical"&&t.createElement("span",{className:"".concat(S,"-inner-text"),style:Ie},O))};const L=W},89925:(H,y,l)=>{l.d(y,{a:()=>e.a3});var e=l(93540)},84143:(H,y,l)=>{l.d(y,{a:()=>w});var e=l(75526),g=l(95268),B=l(14517),D=l(52983),t=l(98281),v=l(93540),Z=Object.defineProperty,W=Object.defineProperties,L=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,d=(r,s,G)=>s in r?Z(r,s,{enumerable:!0,configurable:!0,writable:!0,value:G}):r[s]=G,j=(r,s)=>{for(var G in s||(s={}))o.call(s,G)&&d(r,G,s[G]);if(E)for(var G of E(s))u.call(s,G)&&d(r,G,s[G]);return r},C=(r,s)=>W(r,L(s)),P=(r,s)=>{var G={};for(var b in r)o.call(r,b)&&s.indexOf(b)<0&&(G[b]=r[b]);if(r!=null&&E)for(var b of E(r))s.indexOf(b)<0&&u.call(r,b)&&(G[b]=r[b]);return G};function h(r="circle"){return r==="circle"?"circle":"default"}const w=D.memo(r=>{var s=r,{icon:G,iconClassName:b,title:O,className:X}=s,k=P(s,["icon","iconClassName","title","className"]);const J=h(k.shape),S=D.createElement("span",{className:"anticon"},D.createElement(v.JO,{className:b,icon:G})),K=k.active?"bg-black bg-opacity-60":"bg-black bg-opacity-20 hover:bg-opacity-60",U=D.createElement(e.Z,C(j({className:(0,B.Z)("border-0 text-white text-opacity-80 hover:text-opacity-100",k.danger?"bg-red-600 bg-opacity-80 hover:bg-opacity-100":K,X)},k),{shape:J,icon:S}));return(0,t.YQu)(O)&&!k.disabled?D.createElement(g.Z,{title:O},U):U});w.displayName="IconBtn"},37034:(H,y,l)=>{l.d(y,{S:()=>d});var e=l(73246),g=l(52983),B=l(98281),D=Object.defineProperty,t=Object.defineProperties,v=Object.getOwnPropertyDescriptors,Z=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,E=(j,C,P)=>C in j?D(j,C,{enumerable:!0,configurable:!0,writable:!0,value:P}):j[C]=P,o=(j,C)=>{for(var P in C||(C={}))W.call(C,P)&&E(j,P,C[P]);if(Z)for(var P of Z(C))L.call(C,P)&&E(j,P,C[P]);return j},u=(j,C)=>t(j,v(C));const d=g.memo(j=>{const{language:C,setLanguage:P}=(0,B.ZKp)(),h=(0,g.useCallback)(w=>{(0,B.lHp)((0,B.t)("\u5237\u65B0\u9875\u9762\u540E\u751F\u6548"),"info"),P(w)},[P]);return g.createElement(e.Z,u(o({style:{width:280},size:"large"},j),{value:C,onChange:h}),g.createElement(e.Z.Option,{value:"zh-CN"},"\u7B80\u4F53\u4E2D\u6587"),g.createElement(e.Z.Option,{value:"en-US"},"English"))});d.displayName="LanguageSelect"},7013:(H,y,l)=>{l.d(y,{a:()=>D});var e=l(52983),g=l(93540),B=l(89925);const D=e.memo(({content:t})=>e.createElement(B.a,{overlay:t},e.createElement(g.JO,{icon:"mdi:alert-circle-outline",className:"cursor-help"})));D.displayName="TipIcon"},84850:(H,y,l)=>{l.r(y),l.d(y,{default:()=>Fe});var e=l(52983),g=l(54782),B=l(93540),D=l(75217),t=l(98281),v=l(5868),Z=l(87450),W=l(21848);function L(I){return new URLSearchParams(window.location.search).get(I)}const E=I=>{const[a,i]=(0,e.useState)(()=>L(I));return(0,e.useEffect)(()=>{const m=()=>{i(L(I))};return window.addEventListener("popstate",m),window.addEventListener("pushstate",m),window.addEventListener("replacestate",m),()=>{window.removeEventListener("popstate",m),window.removeEventListener("pushstate",m),window.removeEventListener("replacestate",m)}},[]),a};var o=Object.defineProperty,u=Object.defineProperties,d=Object.getOwnPropertyDescriptors,j=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,h=(I,a,i)=>a in I?o(I,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):I[a]=i,w=(I,a)=>{for(var i in a||(a={}))C.call(a,i)&&h(I,i,a[i]);if(j)for(var i of j(a))P.call(a,i)&&h(I,i,a[i]);return I},r=(I,a)=>u(I,d(a));function s(){const I=(0,g.useNavigate)(),a=(0,g.useLocation)();return(0,e.useCallback)(m=>{I(r(w({},a),{pathname:m}))},[I,a])}var G=l(84143),b=l(84208),O=l(79546),X=l(75526);const k=e.memo(()=>{var I;const[a,i]=(0,e.useState)((I=window.localStorage.getItem("serviceUrl"))!=null?I:"");return e.createElement(b.AB,{title:(0,t.t)("\u670D\u52A1\u7AEF\u5730\u5740")},e.createElement(O.Z,{placeholder:(0,t.t)("\u8BF7\u8F93\u5165\u670D\u52A1\u5668\u5730\u5740(\u793A\u4F8B: http://127.0.0.1:11000)"),value:a,onChange:m=>i(m.target.value)}),e.createElement("div",{className:"space-x-2 text-right mt-8"},e.createElement(X.Z,{onClick:()=>{window.localStorage.removeItem("serviceUrl"),window.location.reload()}},(0,t.t)("\u91CD\u7F6E\u4E3A\u9ED8\u8BA4\u5730\u5740")),e.createElement(X.Z,{type:"primary",disabled:!a,onClick:()=>{window.localStorage.setItem("serviceUrl",a),window.location.reload()}},(0,t.t)("\u786E\u8BA4\u4FEE\u6539\u5E76\u5237\u65B0\u9875\u9762"))))});k.displayName="ServiceUrlSettings";var J=l(37034),S=l(14517),K=Object.defineProperty,U=Object.defineProperties,$=Object.getOwnPropertyDescriptors,V=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable,te=(I,a,i)=>a in I?K(I,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):I[a]=i,de=(I,a)=>{for(var i in a||(a={}))ee.call(a,i)&&te(I,i,a[i]);if(V)for(var i of V(a))Ie.call(a,i)&&te(I,i,a[i]);return I},Ne=(I,a)=>U(I,$(a));const R=e.memo(I=>e.createElement("input",Ne(de({},I),{className:(0,S.Z)("appearance-none rounded-md relative block w-full px-4 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 text-base mobile:text-sm",I.className)}),I.children));R.displayName="EntryInput";var Ce=Object.defineProperty,Ge=Object.defineProperties,Ee=Object.getOwnPropertyDescriptors,ae=Object.getOwnPropertySymbols,Pe=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable,le=(I,a,i)=>a in I?Ce(I,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):I[a]=i,Ae=(I,a)=>{for(var i in a||(a={}))Pe.call(a,i)&&le(I,i,a[i]);if(ae)for(var i of ae(a))pe.call(a,i)&&le(I,i,a[i]);return I},Be=(I,a)=>Ge(I,Ee(a));const z=e.memo(I=>e.createElement("button",Be(Ae({},I),{className:(0,S.Z)("w-full py-2 px-4 border border-transparent text-sm font-medium text-white focus:outline-none disabled:opacity-50",I.className)}),I.children));z.displayName="SecondaryBtn";var xe=l(67434),ve=l(73352),Se=l.n(ve),De=Object.defineProperty,be=Object.defineProperties,Ye=Object.getOwnPropertyDescriptors,ne=Object.getOwnPropertySymbols,ye=Object.prototype.hasOwnProperty,Ze=Object.prototype.propertyIsEnumerable,re=(I,a,i)=>a in I?De(I,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):I[a]=i,we=(I,a)=>{for(var i in a||(a={}))ye.call(a,i)&&re(I,i,a[i]);if(ne)for(var i of ne(a))Ze.call(a,i)&&re(I,i,a[i]);return I},fe=(I,a)=>be(I,Ye(a));const F=e.memo(I=>e.createElement("button",fe(we({disabled:I.loading},Se()(I,["loading"])),{className:(0,S.Z)("w-full py-2 px-4 mb-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",I.className)}),I.loading&&e.createElement(xe.$,null),I.children));F.displayName="PrimaryBtn";var We=l(7975),Me=(I,a,i)=>new Promise((m,c)=>{var x=n=>{try{N(i.next(n))}catch(p){c(p)}},A=n=>{try{N(i.throw(n))}catch(p){c(p)}},N=n=>n.done?m(n.value):Promise.resolve(n.value).then(x,A);N((i=i.apply(I,a)).next())});const he=e.memo(()=>e.createElement(e.Fragment,null,e.createElement(D.Z,null,(0,t.t)("\u6216")),e.createElement("div",{className:"bg-gray-400 w-1/3 px-4 py-1 text-3xl text-center rounded-md cursor-pointer shadow-md"},e.createElement(B.JO,{className:"mx-auto",icon:"mdi:github"}))));he.displayName="OAuthLoginView";const se=e.memo(()=>{const[I,a]=(0,e.useState)(""),[i,m]=(0,e.useState)(""),c=(0,g.useNavigate)(),x=E("redirect"),{pathname:A}=(0,g.useLocation)(),{serverName:N,disableGuestLogin:n,disableUserRegister:p}=(0,t.tR0)(Y=>({serverName:Y.serverName,disableGuestLogin:Y.disableGuestLogin,disableUserRegister:Y.disableUserRegister}));(0,e.useEffect)(()=>{(0,W.gP)().then(()=>{c("/main")}).catch(()=>{})},[]);const[{loading:T,error:_},Q]=(0,t.ilX)(()=>Me(void 0,null,function*(){yield(0,v.string)().email((0,t.t)("\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E")).required((0,t.t)("\u90AE\u7BB1\u4E0D\u80FD\u4E3A\u7A7A")).validate(I),yield(0,v.string)().min(6,(0,t.t)("\u5BC6\u7801\u4E0D\u80FD\u4F4E\u4E8E6\u4F4D")).required((0,t.t)("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A")).validate(i);const Y=yield(0,t.fZz)(I,i);(0,W.rU)(Y),yield(0,Z._H)(Y.token),(0,t.YQu)(x)&&x!==A?c(decodeURIComponent(x)):c("/main")}),[I,i,x,A,c]),f=s();return e.createElement("div",{className:"w-96 text-white relative"},e.createElement("div",{className:"mb-4 text-2xl"},(0,t.t)("\u767B\u5F55 {{serverName}}",{serverName:N||"Tailchat"})),e.createElement("div",null,e.createElement("div",{className:"mb-4"},e.createElement("div",{className:"mb-2"},(0,t.t)("\u90AE\u7BB1")),e.createElement(R,{name:"login-email",placeholder:"name@example.com",type:"text",value:I,onChange:Y=>a(Y.target.value)})),e.createElement("div",{className:"mb-4"},e.createElement("div",{className:"mb-2"},(0,t.t)("\u5BC6\u7801")),e.createElement(R,{name:"login-password",type:"password",placeholder:"******",value:i,onChange:Y=>m(Y.target.value)})),T===!1&&_&&e.createElement("div",{className:"flex justify-between mb-4"},e.createElement("p",{className:"text-red-500 text-sm"},_.message),e.createElement("div",{className:"text-gray-200 cursor-pointer",onClick:()=>f("/entry/forget")},(0,t.t)("\u5FD8\u8BB0\u5BC6\u7801\uFF1F"))),e.createElement(F,{loading:T,onClick:Q},(0,t.t)("\u767B\u5F55")),!p&&e.createElement(z,{disabled:T,onClick:()=>f("/entry/register")},(0,t.t)("\u6CE8\u518C\u8D26\u53F7"),e.createElement(B.JO,{icon:"mdi:arrow-right",className:"ml-1 inline"})),!n&&e.createElement(z,{disabled:T,onClick:()=>f("/entry/guest")},(0,t.t)("\u6E38\u5BA2\u8BBF\u95EE"),e.createElement(B.JO,{icon:"mdi:arrow-right",className:"ml-1 inline"})),We.pluginLoginAction.map(Y=>{const{name:q,component:ie}=Y;return e.createElement(ie,{key:q})})),e.createElement("div",{className:"absolute bottom-4 left-0 space-x-2"},e.createElement(G.a,{icon:"mdi:cog",shape:"square",onClick:()=>(0,b.h7)(e.createElement(k,null))}),e.createElement(J.S,{size:"middle"})))});se.displayName="LoginView";const Re={entryLeft:"src-routes-Entry-index-module__entryLeft--vKV-n"},Te="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNjkiIGhlaWdodD0iNDI1IiB2aWV3Qm94PSIwIDAgMTY5IDQyNSI+DQogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgPHBhdGggZD0iTTAgMGgxNjl2NDI1SDB6Ii8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE1IiBjeT0iMTYiIHI9IjEwIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE1IiBjeT0iNDEiIHI9IjUiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTUiIGN5PSI2NiIgcj0iNSIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNSIgY3k9IjkxIiByPSI5IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE1IiBjeT0iMTE2IiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjQwIiBjeT0iMTYiIHI9IjUiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNDAiIGN5PSI0MSIgcj0iOCIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSI0MCIgY3k9IjY2IiByPSI2IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjQwIiBjeT0iOTEiIHI9IjUiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNDAiIGN5PSIxMTYiIHI9IjciIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNjUiIGN5PSIxNiIgcj0iMyIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSI2NSIgY3k9IjQxIiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjY1IiBjeT0iNjYiIHI9IjMiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNjUiIGN5PSI5MSIgcj0iMyIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSI2NSIgY3k9IjExNiIgcj0iNSIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSI5MCIgY3k9IjE2IiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjkwIiBjeT0iNDEiIHI9IjMiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iOTAiIGN5PSI2NiIgcj0iNSIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSI5MCIgY3k9IjkxIiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjkwIiBjeT0iMTE2IiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjExNSIgY3k9IjE2IiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjExNSIgY3k9IjQxIiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjExNSIgY3k9IjY2IiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjExNSIgY3k9IjkxIiByPSI3IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjExNSIgY3k9IjExNiIgcj0iNSIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNDAiIGN5PSIxNiIgcj0iMiIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNDAiIGN5PSI0MSIgcj0iMyIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNDAiIGN5PSI2NiIgcj0iMiIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNDAiIGN5PSI5MSIgcj0iNSIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNDAiIGN5PSIxMTYiIHI9IjMiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTY1IiBjeT0iNDEiIHI9IjIiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTY1IiBjeT0iNjYiIHI9IjMiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTUiIGN5PSIxNDEiIHI9IjciIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNDAiIGN5PSIxNDEiIHI9IjYiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNjUiIGN5PSIxNDEiIHI9IjMiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iOTAiIGN5PSIxNDEiIHI9IjUiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTE1IiBjeT0iMTQxIiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE0MCIgY3k9IjE0MSIgcj0iMiIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNjUiIGN5PSIxMTYiIHI9IjIiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTUiIGN5PSIxNjYiIHI9IjEwIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE1IiBjeT0iMTkxIiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE1IiBjeT0iMjE2IiByPSI3IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE1IiBjeT0iMjQxIiByPSI5IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE1IiBjeT0iMjY2IiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjQwIiBjeT0iMTY2IiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjQwIiBjeT0iMTkxIiByPSI4IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjQwIiBjeT0iMjE2IiByPSI2IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjQwIiBjeT0iMjQxIiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjQwIiBjeT0iMjY2IiByPSI3IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjY1IiBjeT0iMTY2IiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjY1IiBjeT0iMTkxIiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjY1IiBjeT0iMjE2IiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjY1IiBjeT0iMjQxIiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjY1IiBjeT0iMjY2IiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjkwIiBjeT0iMTY2IiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjkwIiBjeT0iMTkxIiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjkwIiBjeT0iMjE2IiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjkwIiBjeT0iMjQxIiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjkwIiBjeT0iMjY2IiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjExNSIgY3k9IjE2NiIgcj0iMyIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxMTUiIGN5PSIxOTEiIHI9IjUiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTE1IiBjeT0iMjE2IiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjExNSIgY3k9IjI0MSIgcj0iNyIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxMTUiIGN5PSIyNjYiIHI9IjUiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTQwIiBjeT0iMTkxIiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE0MCIgY3k9IjIxNiIgcj0iMiIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNDAiIGN5PSIyNDEiIHI9IjUiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTQwIiBjeT0iMjY2IiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE2NSIgY3k9IjE2NiIgcj0iMiIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNjUiIGN5PSIxOTEiIHI9IjIiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTUiIGN5PSIzOTEiIHI9IjUiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTUiIGN5PSI0MTYiIHI9IjciIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNDAiIGN5PSIzOTEiIHI9IjgiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNDAiIGN5PSI0MTYiIHI9IjYiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNjUiIGN5PSIzOTEiIHI9IjUiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNjUiIGN5PSI0MTYiIHI9IjMiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iOTAiIGN5PSIzOTEiIHI9IjMiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iOTAiIGN5PSI0MTYiIHI9IjUiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTE1IiBjeT0iMzkxIiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjExNSIgY3k9IjQxNiIgcj0iMyIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNDAiIGN5PSI0MTYiIHI9IjIiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTY1IiBjeT0iNDE2IiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE1IiBjeT0iMjkxIiByPSI3IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjQwIiBjeT0iMjkxIiByPSI2IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjY1IiBjeT0iMjkxIiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjkwIiBjeT0iMjkxIiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjExNSIgY3k9IjI5MSIgcj0iMyIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNDAiIGN5PSIyOTEiIHI9IjIiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTY1IiBjeT0iMjkxIiByPSIzIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE2NSIgY3k9IjI0MSIgcj0iMiIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNSIgY3k9IjMxNiIgcj0iOSIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNSIgY3k9IjM0MSIgcj0iNSIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSI0MCIgY3k9IjMxNiIgcj0iNSIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSI0MCIgY3k9IjM0MSIgcj0iNyIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSI2NSIgY3k9IjMxNiIgcj0iMyIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSI2NSIgY3k9IjM0MSIgcj0iNSIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSI5MCIgY3k9IjMxNiIgcj0iNSIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSI5MCIgY3k9IjM0MSIgcj0iMyIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxMTUiIGN5PSIzMTYiIHI9IjciIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTE1IiBjeT0iMzQxIiByPSI1IiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE0MCIgY3k9IjMxNiIgcj0iNSIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNDAiIGN5PSIzNDEiIHI9IjMiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTUiIGN5PSIzNjYiIHI9IjciIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNDAiIGN5PSIzNjYiIHI9IjYiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iNjUiIGN5PSIzNjYiIHI9IjMiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iOTAiIGN5PSIzNjYiIHI9IjUiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICAgICAgPGNpcmNsZSBjeD0iMTQwIiBjeT0iMzY2IiByPSIyIiBmaWxsPSIjRkZGIiBmaWxsLW9wYWNpdHk9Ii4xIi8+DQogICAgICAgIDxjaXJjbGUgY3g9IjE2NSIgY3k9IjM2NiIgcj0iMyIgZmlsbD0iI0ZGRiIgZmlsbC1vcGFjaXR5PSIuMSIvPg0KICAgICAgICA8Y2lyY2xlIGN4PSIxNjUiIGN5PSIzMTYiIHI9IjIiIGZpbGw9IiNGRkYiIGZpbGwtb3BhY2l0eT0iLjEiLz4NCiAgICA8L2c+DQo8L3N2Zz4NCg==";var Le=l(7013),ge=(I,a,i)=>new Promise((m,c)=>{var x=n=>{try{N(i.next(n))}catch(p){c(p)}},A=n=>{try{N(i.throw(n))}catch(p){c(p)}},N=n=>n.done?m(n.value):Promise.resolve(n.value).then(x,A);N((i=i.apply(I,a)).next())});const oe=e.memo(()=>{const[I,a]=(0,e.useState)(""),[i,m]=(0,e.useState)(""),[c,x]=(0,e.useState)(""),[A,N]=(0,e.useState)(""),[n,p]=(0,e.useState)(!1),[T,_]=(0,e.useState)(!1),Q=(0,g.useNavigate)(),f=E("redirect"),[{loading:Y,error:q},ie]=(0,t.ilX)(()=>ge(void 0,null,function*(){yield(0,v.string)().email((0,t.t)("\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E")).required((0,t.t)("\u90AE\u7BB1\u4E0D\u80FD\u4E3A\u7A7A")).max(40,(0,t.t)("\u90AE\u7BB1\u6700\u957F\u9650\u523640\u4E2A\u5B57\u7B26")).validate(I),yield(0,v.string)().min(6,(0,t.t)("\u5BC6\u7801\u4E0D\u80FD\u4F4E\u4E8E6\u4F4D")).required((0,t.t)("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A")).max(40,(0,t.t)("\u5BC6\u7801\u6700\u957F\u9650\u523640\u4E2A\u5B57\u7B26")).validate(c);const M=yield(0,t.YiW)({email:I,password:c,nickname:i,emailOTP:A});(0,W.rU)(M),yield(0,Z._H)(M.token),(0,t.YQu)(f)?Q(decodeURIComponent(f)):Q("/main")}),[I,i,c,A,f]),[{loading:_e},He]=(0,t.CoE)(()=>ge(void 0,null,function*(){yield t.o4J.EA.verifyEmail(I),(0,t.jiy)((0,t.t)("\u53D1\u9001\u6210\u529F, \u8BF7\u68C0\u67E5\u4F60\u7684\u90AE\u7BB1\u3002")),p(!0)}),[I]);(0,t.qoQ)([I,T],()=>{T||m(ke(I))});const Xe=s();return e.createElement("div",{className:"w-96 text-white"},e.createElement("div",{className:"mb-4 text-2xl"},(0,t.t)("\u6CE8\u518C\u8D26\u53F7")),e.createElement("div",null,e.createElement("div",{className:"mb-4"},e.createElement("div",{className:"mb-2"},(0,t.t)("\u90AE\u7BB1")),e.createElement(R,{name:"reg-email",placeholder:"name@example.com",type:"text",value:I,onChange:M=>a(M.target.value)})),(0,t.HiA)().emailVerification&&e.createElement(e.Fragment,null,!n&&e.createElement(F,{loading:_e,onClick:He},(0,t.t)("\u5411\u90AE\u7BB1\u53D1\u9001\u6821\u9A8C\u7801")),e.createElement("div",{className:"mb-4"},e.createElement("div",{className:"mb-2"},(0,t.t)("\u90AE\u7BB1\u6821\u9A8C\u7801")),e.createElement(R,{name:"reg-email-otp",type:"text",placeholder:"6\u4F4D\u6821\u9A8C\u7801",value:A,onChange:M=>N(M.target.value)}))),e.createElement("div",{className:"mb-4 relative"},e.createElement("div",{className:"mb-2 flex items-center"},e.createElement("span",{className:"mr-1"},(0,t.t)("\u6635\u79F0")),e.createElement(Le.a,{content:(0,t.t)("\u540E\u7EED\u5728\u7528\u6237\u8BBE\u7F6E\u4E2D\u53EF\u4EE5\u968F\u65F6\u4FEE\u6539")})),e.createElement(R,{name:"reg-nickname",type:"text",disabled:!T,value:i,onChange:M=>m(M.target.value)}),e.createElement(B.JO,{className:"absolute bottom-1 right-1 w-8 h-8 p-2 rounded cursor-pointer bg-opacity-20 bg-black z-10",icon:T?"mdi:pencil-off":"mdi:pencil",onClick:()=>_(M=>!M)})),e.createElement("div",{className:"mb-4"},e.createElement("div",{className:"mb-2"},(0,t.t)("\u5BC6\u7801")),e.createElement(R,{name:"reg-password",type:"password",placeholder:"******",value:c,onChange:M=>x(M.target.value)})),q&&e.createElement("p",{className:"text-red-500 text-sm mb-4"},q.message),e.createElement(F,{loading:Y,onClick:ie},(0,t.t)("\u6CE8\u518C\u8D26\u53F7")),e.createElement(z,{className:"text-left",disabled:Y,onClick:()=>Xe("/entry/login")},e.createElement(B.JO,{icon:"mdi:arrow-left",className:"mr-1 inline"}),(0,t.t)("\u8FD4\u56DE\u767B\u5F55"))))});oe.displayName="RegisterView";function ke(I){return I.split("@")[0]}var Oe=l(82335),Ue=(I,a,i)=>new Promise((m,c)=>{var x=n=>{try{N(i.next(n))}catch(p){c(p)}},A=n=>{try{N(i.throw(n))}catch(p){c(p)}},N=n=>n.done?m(n.value):Promise.resolve(n.value).then(x,A);N((i=i.apply(I,a)).next())});const me=e.memo(()=>{const I=(0,g.useNavigate)(),a=s(),i=E("redirect"),[m,c]=(0,e.useState)(""),[{loading:x},A]=(0,t.CoE)(()=>Ue(void 0,null,function*(){yield(0,v.string)().required((0,t.t)("\u6635\u79F0\u4E0D\u80FD\u4E3A\u7A7A")).max(16).validate(m);const N=yield(0,t.DW_)(m);(0,W.rU)(N),yield(0,Z._H)(N.token),(0,t.YQu)(i)?I(decodeURIComponent(i)):I("/main")}),[m,I,i]);return e.createElement("div",{className:"w-96 text-white"},e.createElement("div",{className:"mb-4 text-2xl"},(0,t.t)("\u521B\u5EFA\u8BBF\u5BA2")),e.createElement("div",null,e.createElement("div",{className:"mb-4"},e.createElement("div",{className:"mb-2"},(0,t.t)("\u6635\u79F0")),e.createElement(R,{placeholder:(0,t.t)("\u60F3\u8981\u8BA9\u5927\u5BB6\u5982\u4F55\u79F0\u547C\u4F60"),type:"text",value:m,onChange:N=>c(N.target.value)})),e.createElement(F,{loading:x,onClick:A},(0,t.t)("\u7ACB\u5373\u8FDB\u5165")),e.createElement(z,{className:"text-left",disabled:x,onClick:()=>a("/entry/login")},e.createElement(B.JO,{icon:"mdi:arrow-left",className:"mr-1 inline"}),(0,t.t)("\u8FD4\u56DE\u767B\u5F55"))))});me.displayName="GuestView";var ue=(I,a,i)=>new Promise((m,c)=>{var x=n=>{try{N(i.next(n))}catch(p){c(p)}},A=n=>{try{N(i.throw(n))}catch(p){c(p)}},N=n=>n.done?m(n.value):Promise.resolve(n.value).then(x,A);N((i=i.apply(I,a)).next())});const ce=e.memo(()=>{const[I,a]=(0,e.useState)(""),[i,m]=(0,e.useState)(""),[c,x]=(0,e.useState)(""),[A,N]=(0,e.useState)(!1),n=s(),[{loading:p},T]=(0,t.CoE)(()=>ue(void 0,null,function*(){yield(0,t.o9n)(I),N(!0),(0,t.lHp)(`\u5DF2\u53D1\u9001\u90AE\u4EF6\u5230 ${I}`,"success")}),[I]),[{loading:_},Q]=(0,t.CoE)(()=>ue(void 0,null,function*(){yield(0,v.string)().email((0,t.t)("\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E")).required((0,t.t)("\u90AE\u7BB1\u4E0D\u80FD\u4E3A\u7A7A")).validate(I),yield(0,v.string)().min(6,(0,t.t)("\u5BC6\u7801\u4E0D\u80FD\u4F4E\u4E8E6\u4F4D")).required((0,t.t)("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A")).validate(i),yield(0,v.string)().length(6,(0,t.t)("OTP\u4E3A6\u4F4D\u6570\u5B57")).validate(c),yield(0,t.c0U)(I,i,c),(0,t.lHp)((0,t.t)("\u5BC6\u7801\u91CD\u7F6E\u6210\u529F\uFF0C\u73B0\u5728\u56DE\u5230\u767B\u5F55\u9875"),"success"),n("/entry/login")}),[I,i,c,n]);return e.createElement("div",{className:"w-96 text-white"},e.createElement("div",{className:"mb-4 text-2xl"},(0,t.t)("\u5FD8\u8BB0\u5BC6\u7801")),e.createElement("div",null,e.createElement("div",{className:"mb-4"},e.createElement("div",{className:"mb-2"},(0,t.t)("\u90AE\u7BB1")),e.createElement(R,{name:"forget-email",placeholder:"name@example.com",type:"text",disabled:A,value:I,onChange:f=>a(f.target.value)})),!A&&e.createElement(F,{loading:p,onClick:T},(0,t.t)("\u5411\u90AE\u7BB1\u53D1\u9001OTP")),A&&e.createElement(e.Fragment,null,e.createElement("div",{className:"mb-4"},e.createElement("div",{className:"mb-2"},(0,t.t)("OTP")),e.createElement(R,{name:"forget-otp",type:"text",value:c,onChange:f=>x(f.target.value)})),e.createElement("div",{className:"mb-4"},e.createElement("div",{className:"mb-2"},(0,t.t)("\u65B0\u5BC6\u7801")),e.createElement(R,{name:"forget-password",type:"password",placeholder:"******",value:i,onChange:f=>m(f.target.value)})),e.createElement(F,{loading:_,onClick:Q},(0,t.t)("\u91CD\u8BBE\u5BC6\u7801"))),e.createElement(z,{disabled:_,onClick:()=>n("/entry/login")},e.createElement(B.JO,{icon:"mdi:arrow-left",className:"mr-1 inline"}),(0,t.t)("\u8FD4\u56DE\u767B\u5F55"))))});ce.displayName="ForgetPasswordView";const je=e.memo(()=>((0,Oe.bw)("appEntryRenderStart"),e.createElement("div",{className:"h-full flex flex-row"},e.createElement("div",{className:(0,S.Z)(Re.entryLeft,"entry-left w-142 mobile:w-full pt-40 px-4 bg-gray-600 min-h-full flex justify-center bg-repeat-y z-10"),style:{backgroundImage:`url(${Te})`}},e.createElement(g.Routes,null,e.createElement(g.Route,{path:"/login",element:e.createElement(se,null)}),e.createElement(g.Route,{path:"/register",element:e.createElement(oe,null)}),e.createElement(g.Route,{path:"/guest",element:e.createElement(me,null)}),e.createElement(g.Route,{path:"/forget",element:e.createElement(ce,null)}),e.createElement(g.Route,{path:"/",element:e.createElement(g.Navigate,{to:"/entry/login",replace:!0})}))),e.createElement("div",{className:"flex-1 mobile:hidden tc-background"}))));je.displayName="EntryRoute";const Fe=je},21848:(H,y,l)=>{l.d(y,{JM:()=>E,gP:()=>L,rU:()=>Z});var e=l(98281),g=l(14698),B=l.n(g),D=l(87450),t=(o,u,d)=>new Promise((j,C)=>{var P=r=>{try{w(d.next(r))}catch(s){C(s)}},h=r=>{try{w(d.throw(r))}catch(s){C(s)}},w=r=>r.done?j(r.value):Promise.resolve(r.value).then(P,h);w((d=d.apply(o,u)).next())});let v=null;function Z(o){v=o}function W(){return v}function L(){return t(this,null,function*(){let o=W();if(B()(o)){const u=yield(0,D.pT)();if(typeof u!="string")throw new Error("Token \u683C\u5F0F\u4E0D\u5408\u6CD5");if(console.debug("\u6B63\u5728\u5C1D\u8BD5\u4F7F\u7528Token\u767B\u5F55"),o=yield e.o4J.EA.loginWithToken(u),o===null)throw new Error("Token \u5185\u5BB9\u4E0D\u5408\u6CD5");Z(o)}return o})}function E(o){if(typeof o!="string")return!0;const u=o.split("@")[1];return!!(!u||u.endsWith(".msgbyte.com"))}}}]);
