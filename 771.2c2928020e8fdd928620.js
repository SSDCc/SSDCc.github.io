"use strict";(self.webpackChunktailchat_web=self.webpackChunktailchat_web||[]).push([[771],{28723:(w,P,t)=>{t.d(P,{L:()=>i});var e=t(20685),m=t(52983),o=t(93540);const i=m.memo(l=>{const[s,v]=(0,m.useState)(!1);return m.createElement(e.Z,{open:s,onOpenChange:v,content:()=>l.popoverContent({hidePopover:()=>{v(!1)}}),overlayClassName:"chat-message-input_action-popover",showArrow:!1,placement:"topRight",trigger:["click"]},m.createElement(o.JO,{className:"text-2xl cursor-pointer",icon:l.icon}))});i.displayName="BaseChatInputButton"},29254:(w,P,t)=>{t.d(P,{TD:()=>c,at:()=>r,x2:()=>f,zB:()=>u});var e=t(52983),m=t(98281),o=Object.defineProperty,i=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,v=(a,n,d)=>n in a?o(a,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):a[n]=d,h=(a,n)=>{for(var d in n||(n={}))l.call(n,d)&&v(a,d,n[d]);if(i)for(var d of i(n))s.call(n,d)&&v(a,d,n[d]);return a};const u=e.createContext({});u.displayName="ChatInputActionContext";function r(){return(0,e.useContext)(u)}const E=e.createContext(null);E.displayName="ChatInputMentionsContext";const f=e.memo(a=>e.createElement(E.Provider,{value:(0,m.coD)(h({},a))},a.children));f.displayName="ChatInputMentionsContextProvider";function c(){var a,n;const d=(0,e.useContext)(E);return{users:(a=d==null?void 0:d.users)!=null?a:[],panels:(n=d==null?void 0:d.panels)!=null?n:[],placeholder:d==null?void 0:d.placeholder,disabled:d==null?void 0:d.disabled}}},16365:(w,P,t)=>{t.d(P,{H:()=>i});var e=t(52983),m=t(98281);const o=e.memo(l=>{const s=(0,e.useRef)(null),v=(0,m.nWw)(u=>{const{onIntersection:r,onUnIntersection:E}=l;u.forEach(f=>{const{intersectionRatio:c}=f;c>0?r&&r(f.target):E&&E(f.target)})}),h=(0,m.nWw)(()=>{l.onIntersectionUnmount&&l.onIntersectionUnmount()});return(0,e.useEffect)(()=>{if(!s.current)return;const u=l.root?document.querySelector(l.root):null,r=new IntersectionObserver(v,{root:u,rootMargin:l.rootMargin,threshold:l.threshold});return r.observe(s.current),()=>{r.disconnect(),h()}},[]),e.createElement("div",{ref:s},l.children)});o.displayName="Intersection";const i=e.memo(l=>{const{updateConverseAck:s}=(0,m.hoD)(l.converseId),v=(0,m.zX9)(()=>{s(l.messageId)});return e.createElement(o,{onIntersection:v},l.children)});i.displayName="MessageAckContainer"},89925:(w,P,t)=>{t.d(P,{a:()=>e.a3});var e=t(93540)},53652:(w,P,t)=>{t.d(P,{d:()=>E,_:()=>f});var e=t(52983),m=t(98281),o=t(72630);const i=o;var l=t(62394),s=t(22183),v=t(30387);const h=t.p+"assets/twitter.f37b283.png",u=e.memo(c=>{const{isDarkMode:a}=(0,m.tv4)(),{language:n}=(0,m.ZKp)(),d=(0,e.useCallback)(B=>{const T=B.shortcodes;(0,m.YQu)(T)&&c.onSelect(T)},[c.onSelect]);return e.createElement("div",{className:"emoji-picker"},e.createElement(l.Z,{set:"twitter",data:i,theme:a?"dark":"light",i18n:n==="zh-CN"?s:v,previewPosition:"none",skinTonePosition:"none",onEmojiSelect:d,getSpritesheetURL:()=>h}))});u.displayName="EmojiPicker";var r=t(22705);(0,r.S1)({set:"twitter",data:i});const E=e.memo(c=>{const a=c.emoji.startsWith(":")?c.emoji:`:${c.emoji}:`;return(0,e.useMemo)(()=>{var n,d;let B="",T=0;const C=a.match(r.WV.SHORTCODES_REGEX);C&&(B=C[1],C[2]&&(T=Number(C[2])));const D=r.WV.get(B);if(!D)return e.createElement("span",null);const M=D.skins[T-1]||D.skins[0];return e.createElement("span",{className:"emoji-mart-emoji align-middle","data-emoji-set":"twitter"},e.createElement("span",{style:{display:"block",width:(n=c.size)!=null?n:"16px",height:(d=c.size)!=null?d:"16px",backgroundImage:`url(${h})`,backgroundSize:`${100*r.Vw.sheet.cols}% ${100*r.Vw.sheet.rows}%`,backgroundPosition:`${100/(r.Vw.sheet.cols-1)*M.x}% ${100/(r.Vw.sheet.rows-1)*M.y}%`}}))},[a])});E.displayName="Emoji";const f=e.memo(c=>e.createElement(u,{onSelect:c.onSelect}));f.displayName="EmojiPanel"},21597:(w,P,t)=>{t.d(P,{o:()=>o});var e=t(52983),m=t(6739);const o=e.memo(({error:i})=>{var l,s;return e.createElement(m.t,{text:String((s=(l=i.message)!=null?l:i.name)!=null?s:i)})});o.displayName="ErrorView"},7606:(w,P,t)=>{t.d(P,{LP:()=>D,jo:()=>M,lj:()=>U});var e=t(52983),m=t(76705),o=t.n(m),i=t(14698),l=t.n(i),s=t(58761),v=t(79546),h=t(98281),u=t(89925),r=t(84143),E=t(7013),f=Object.defineProperty,c=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,d=(p,x,I)=>x in p?f(p,x,{enumerable:!0,configurable:!0,writable:!0,value:I}):p[x]=I,B=(p,x)=>{for(var I in x||(x={}))a.call(x,I)&&d(p,I,x[I]);if(c)for(var I of c(x))n.call(x,I)&&d(p,I,x[I]);return p};function T(p){return o()(p)?p:void 0}const C=e.memo(p=>{var x,I;const[b,_]=(0,e.useState)(!1),[O,g]=(0,e.useState)((x=p.value)!=null?x:""),A=T(p.value);(0,e.useEffect)(()=>{var y;g((y=p.value)!=null?y:"")},[p.value]);const N=(0,e.useCallback)(()=>{_(!b)},[b]),W=(0,e.useCallback)(()=>{var y;(y=p.onSave)==null||y.call(p,O),_(!1)},[p.onSave,O]),L=p.renderEditor;return e.createElement("div",{className:"flex w-full"},e.createElement("div",{className:"truncate"},b&&!l()(L)?e.createElement(L,{value:O,onChange:g}):e.createElement("span",{className:"select-text",title:A},(I=p.content)!=null?I:p.value)),e.createElement("div",{className:"ml-2"},b?e.createElement(s.Z,null,e.createElement(u.a,{title:(0,h.t)("\u53D6\u6D88")},e.createElement(r.a,{size:"small",icon:"mdi:close",onClick:N})),e.createElement(u.a,{title:(0,h.t)("\u4FDD\u5B58\u53D8\u66F4")},e.createElement(r.a,{type:"primary",size:"small",icon:"mdi:check",onClick:W}))):e.createElement(u.a,{title:(0,h.t)("\u7F16\u8F91")},e.createElement(r.a,{size:"small",icon:"mdi:square-edit-outline",onClick:N}))))});C.displayName="FullModalFieldEditor";const D=e.memo(p=>{var x;const I=T(p.value),b=p.editable===!0&&!l()(p.renderEditor);return e.createElement("div",{className:"mb-4"},e.createElement("div",{className:"text-xs text-gray-400 mb-2 flex items-center"},e.createElement("span",null,p.title),p.tip&&e.createElement("span",{className:"ml-1 text-sm"},e.createElement(E.a,{content:p.tip}))),e.createElement("div",{className:"min-h-10 text-base truncate"},b===!0?e.createElement(C,B({},p)):e.createElement("span",{className:"select-text",title:I},(x=p.content)!=null?x:p.value)))});D.displayName="FullModalField";const M=({value:p,onChange:x})=>e.createElement(v.Z,{value:p,onChange:I=>x(I.target.value)}),U=({value:p,onChange:x})=>e.createElement(v.Z.TextArea,{autoSize:{minRows:2,maxRows:6},value:p,onChange:I=>x(I.target.value)})},84143:(w,P,t)=>{t.d(P,{a:()=>T});var e=t(75526),m=t(95268),o=t(14517),i=t(52983),l=t(98281),s=t(93540),v=Object.defineProperty,h=Object.defineProperties,u=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,c=(C,D,M)=>D in C?v(C,D,{enumerable:!0,configurable:!0,writable:!0,value:M}):C[D]=M,a=(C,D)=>{for(var M in D||(D={}))E.call(D,M)&&c(C,M,D[M]);if(r)for(var M of r(D))f.call(D,M)&&c(C,M,D[M]);return C},n=(C,D)=>h(C,u(D)),d=(C,D)=>{var M={};for(var U in C)E.call(C,U)&&D.indexOf(U)<0&&(M[U]=C[U]);if(C!=null&&r)for(var U of r(C))D.indexOf(U)<0&&f.call(C,U)&&(M[U]=C[U]);return M};function B(C="circle"){return C==="circle"?"circle":"default"}const T=i.memo(C=>{var D=C,{icon:M,iconClassName:U,title:p,className:x}=D,I=d(D,["icon","iconClassName","title","className"]);const b=B(I.shape),_=i.createElement("span",{className:"anticon"},i.createElement(s.JO,{className:U,icon:M})),O=I.active?"bg-black bg-opacity-60":"bg-black bg-opacity-20 hover:bg-opacity-60",g=i.createElement(e.Z,n(a({className:(0,o.Z)("border-0 text-white text-opacity-80 hover:text-opacity-100",I.danger?"bg-red-600 bg-opacity-80 hover:bg-opacity-100":O,x)},I),{shape:b,icon:_}));return(0,l.YQu)(p)&&!I.disabled?i.createElement(m.Z,{title:p},g):g});T.displayName="IconBtn"},92951:(w,P,t)=>{t.d(P,{C:()=>b,w:()=>I});var e=t(74774),m=t(14517),o=t(52983),i=t(98281),l=t(84208),s=t(93540),v=t(64650),h=t(14698),u=t.n(h),r=t(75526),E=(_,O,g)=>new Promise((A,N)=>{var W=R=>{try{y(g.next(R))}catch(K){N(K)}},L=R=>{try{y(g.throw(R))}catch(K){N(K)}},y=R=>R.done?A(R.value):Promise.resolve(R.value).then(W,L);y((g=g.apply(_,O)).next())});const f=o.memo(_=>{var O;const g=(O=_.aspect)!=null?O:1,[A,N]=(0,o.useState)({x:0,y:0}),[W,L]=(0,o.useState)(1),[y,R]=(0,o.useState)({width:0,height:0,x:0,y:0}),K=()=>E(void 0,null,function*(){const S=yield d(yield c(_.imageUrl),y);_.onConfirm(S)});return o.createElement(l.AB,{className:"flex flex-col",style:{width:"80vw",height:"80vh"}},o.createElement("div",{className:"flex-1 relative mb-4"},o.createElement(v.ZP,{image:_.imageUrl,crop:A,zoom:W,aspect:g,onCropChange:N,onZoomChange:L,onCropComplete:(S,j)=>R(j)})),o.createElement(r.Z,{type:"primary",onClick:K},(0,i.t)("\u786E\u8BA4")))});f.displayName="ImageCropperModal";function c(_){return new Promise((O,g)=>{const A=new Image;A.addEventListener("load",()=>O(A)),A.addEventListener("error",N=>g(N)),A.setAttribute("crossOrigin","anonymous"),A.src=_})}function a(_){return _*Math.PI/180}let n=null;function d(_,O,g=0,A="newFile.jpeg"){const N=document.createElement("canvas"),W=N.getContext("2d");if(!u()(W)){const L=Math.max(_.width,_.height),y=2*(L/2*Math.sqrt(2));N.width=y,N.height=y,W.translate(y/2,y/2),W.rotate(a(g)),W.translate(-y/2,-y/2),W.drawImage(_,y/2-_.width*.5,y/2-_.height*.5);const R=W.getImageData(0,0,y,y);N.width=O.width,N.height=O.height,W.putImageData(R,Math.round(0-y/2+_.width*.5-O.x),Math.round(0-y/2+_.height*.5-O.y))}return new Promise(L=>{try{N.toBlob(y=>{if(!y){console.error("Canvas is empty");return}y.name=A,typeof n=="string"&&window.URL.revokeObjectURL(n),n=window.URL.createObjectURL(y),L(n)},"image/jpeg")}catch(y){console.error(y),(0,i.lHp)("\u65E0\u6CD5\u6B63\u786E\u751F\u6210\u56FE\u7247, \u53EF\u80FD\u662F\u56E0\u4E3A\u60A8\u7684\u6D4F\u89C8\u5668\u7248\u672C\u8FC7\u65E7","error")}})}const B=o.memo(_=>{const O=(0,o.useRef)(null),g=N=>{typeof _.onChange=="function"&&_.onChange(N)},A=(0,i.zX9)(N=>{if(N.target.files&&N.target.files.length>0){const W=N.target.files[0];if(!W)return;if((0,e.DQ)(W))g(URL.createObjectURL(W));else{const L=new FileReader;L.addEventListener("load",()=>{if(L.result){const y=(0,l.h7)(o.createElement(f,{imageUrl:L.result.toString(),aspect:_.aspect,onConfirm:R=>{(0,l.Mr)(y),g(R)}}),{maskClosable:!1,closable:!0})}else(0,i.lHp)((0,i.t)("\u6587\u4EF6\u8BFB\u53D6\u5931\u8D25"),"error")}),L.readAsDataURL(W)}N.target.files=null,N.target.value=""}});return o.createElement("div",{className:_.className},o.createElement("div",{className:"cursor-pointer inline-block relative",onClick:()=>{var N;return!_.disabled&&((N=O.current)==null?void 0:N.click())}},o.createElement("input",{ref:O,type:"file",className:"hidden",onChange:A,accept:"image/*"}),o.createElement("div",{className:(0,m.Z)("group",_.className)},_.children,o.createElement("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center transition opacity-0 group-hover:opacity-100"},o.createElement(s.JO,{className:"text-white opacity-80 text-4xl",icon:"mdi:camera-outline"})))))});B.displayName="ImagePicker";var T=Object.defineProperty,C=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,U=(_,O,g)=>O in _?T(_,O,{enumerable:!0,configurable:!0,writable:!0,value:g}):_[O]=g,p=(_,O)=>{for(var g in O||(O={}))D.call(O,g)&&U(_,g,O[g]);if(C)for(var g of C(O))M.call(O,g)&&U(_,g,O[g]);return _},x=(_,O,g)=>new Promise((A,N)=>{var W=R=>{try{y(g.next(R))}catch(K){N(K)}},L=R=>{try{y(g.throw(R))}catch(K){N(K)}},y=R=>R.done?A(R.value):Promise.resolve(R.value).then(W,L);y((g=g.apply(_,O)).next())});const I=o.memo(_=>{var O;const g=(O=_.aspect)!=null?O:1,[A,N]=(0,o.useState)(0),[{loading:W},L]=(0,i.CoE)(y=>x(void 0,null,function*(){const R=yield(0,e.NV)(y),K=yield(0,i.cTq)(R,{onProgress(S){const j=Number((S*100).toFixed());console.log(`\u8FDB\u5EA6:${j}`),N(j)}});console.log("\u4E0A\u4F20\u6210\u529F",K),_.onUploadSuccess(K)}),[]);return o.createElement(B,{className:(0,m.Z)(_.className,"relative overflow-hidden",{"rounded-full":_.circle}),aspect:g,disabled:W,onChange:L},W&&o.createElement("div",{className:"absolute bottom-0 left-0 h-1",style:{width:`${A}%`}}),_.children)});I.displayName="ImageUploader";const b=o.memo(_=>o.createElement(I,p({aspect:1,circle:!0},_)));b.displayName="AvatarUploader"},13893:(w,P,t)=>{t.d(P,{L:()=>f,A:()=>c.A});var e=t(52983),m=t(52081),o=Object.defineProperty,i=Object.defineProperties,l=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,u=(a,n,d)=>n in a?o(a,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):a[n]=d,r=(a,n)=>{for(var d in n||(n={}))v.call(n,d)&&u(a,d,n[d]);if(s)for(var d of s(n))h.call(n,d)&&u(a,d,n[d]);return a},E=(a,n)=>i(a,l(n));const f=a=>{const n=(0,m.P)(d=>d.cachedComponents);return e.createElement(e.Fragment,null,a.children,e.createElement("div",{className:"keep-alive-overlay-host"},Object.entries(n).map(([d,B])=>{const{visible:T,element:C,rect:D}=B;return e.createElement("div",{id:`cache-${d}`,style:E(r({display:T?"block":"none"},D),{position:"fixed"}),key:d},C)})))};f.displayName="KeepAliveOverlayHost";var c=t(74312)},52081:(w,P,t)=>{t.d(P,{P:()=>o});var e=t(36350),m=t(50748);const o=(0,e.create)()((0,m.immer)(i=>({cachedComponents:{},mount:(l,s)=>{i(v=>{const h=v.cachedComponents;if(h[l]){v.cachedComponents[l].visible=!0;return}h[l]={visible:!0,element:s,rect:{left:0,top:0,width:0,height:0}}})},show:l=>{i(s=>{!s.cachedComponents[l]||(s.cachedComponents[l].visible=!0)})},hide:l=>{i(s=>{!s.cachedComponents[l]||(s.cachedComponents[l].visible=!1)})},updateRect:(l,s)=>{i(v=>{!v.cachedComponents[l]||(v.cachedComponents[l].rect=s)})}})))},74312:(w,P,t)=>{t.d(P,{A:()=>f});var e=t(52983),m=t(52081),o=t(73352),i=t.n(o),l=t(22398),s=Object.defineProperty,v=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,r=(c,a,n)=>a in c?s(c,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):c[a]=n,E=(c,a)=>{for(var n in a||(a={}))h.call(a,n)&&r(c,n,a[n]);if(v)for(var n of v(a))u.call(a,n)&&r(c,n,a[n]);return c};function f(c,a){return n=>{const d=(0,e.useRef)(null),B=i()(n,["className","style"]),{mount:T,hide:C,updateRect:D}=(0,m.P)(),M=(0,e.useMemo)(()=>typeof a.cacheId=="function"?a.cacheId(B):a.cacheId,[B]);return(0,e.useEffect)(()=>(T(M,e.createElement(c,E({key:M},B))),()=>{C(M)}),[M]),(0,e.useEffect)(()=>{if(!d.current)return;const U=new ResizeObserver(_=>{_.forEach(O=>{const{target:g}=O;if(!g.parentElement)return;const A=g.getBoundingClientRect();D(M,{left:A.left,top:A.top,width:A.width,height:A.height})})});U.observe(d.current);const p=(0,l.g$)(d.current);function x(_){if(d.current&&p.includes(_.target)){const O=d.current.getBoundingClientRect();D(M,{left:O.left,top:O.top,width:O.width,height:O.height})}}const{start:I,end:b}=(0,l.SQ)(x);return window.addEventListener("transitionend",b),window.addEventListener("transitionstart",I),()=>{d.current&&(U.unobserve(d.current),window.removeEventListener("transitionend",b),window.removeEventListener("transitionstart",I))}},[M]),e.createElement("div",{id:`withKeepAlive${M}`,ref:d,className:n.className,style:n.style})}}},18300:(w,P,t)=>{t.d(P,{g:()=>i});var e=t(14517),m=t(52983),o=t(38887);const i=m.memo(l=>{const{spinning:s=!1,className:v,style:h,tip:u}=l;return m.createElement("div",{className:(0,e.Z)("relative",v),style:h},m.createElement("div",{className:(0,e.Z)("absolute inset-0 z-10 bg-white bg-opacity-20 flex justify-center items-center transition-opacity duration-100",{"opacity-0 pointer-events-none":!s,"opacity-100":s})},m.createElement(o.T,{tip:u})),l.children)});i.displayName="Loading"},36932:(w,P,t)=>{t.d(P,{t:()=>f});var e=t(52983),m=t(18300),o=Object.defineProperty,i=Object.defineProperties,l=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,u=(c,a,n)=>a in c?o(c,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):c[a]=n,r=(c,a)=>{for(var n in a||(a={}))v.call(a,n)&&u(c,n,a[n]);if(s)for(var n of s(a))h.call(a,n)&&u(c,n,a[n]);return c},E=(c,a)=>i(c,l(a));const f=e.memo(c=>{const a=(0,e.useRef)(!1),n=(0,e.useMemo)(()=>a.current===!0?!1:(c.spinning===!0&&(a.current=!0),c.spinning),[c.spinning]);return e.createElement(m.g,E(r({},c),{spinning:n}),c.children)});f.displayName="LoadingOnFirst"},15333:(w,P,t)=>{t.d(P,{J:()=>i});var e=t(52983),m=t(65097),o=t(98281);const i=e.memo(l=>{var s;return e.createElement(m.Z,{description:(s=l.message)!=null?s:(0,o.t)("\u6CA1\u6709\u6570\u636E")})});i.displayName="NoData"},64939:(w,P,t)=>{t.d(P,{T:()=>i});var e=t(52983),m=t(65097),o=t(98281);const i=e.memo(l=>{var s;return e.createElement(m.Z,{description:(s=l.message)!=null?s:(0,o.t)("\u672A\u627E\u5230\u5185\u5BB9")})});i.displayName="NotFound"},87179:(w,P,t)=>{t.d(P,{x:()=>l});var e=t(58312),m=t(75526),o=t(52983),i=t(98281);const l=o.memo(s=>o.createElement(e.ZP,{className:"w-full",title:(0,i.t)("\u5F53\u524D\u9762\u677F\u5DF2\u5728\u72EC\u7ACB\u7A97\u53E3\u6253\u5F00"),extra:o.createElement(m.Z,{onClick:s.onClosePanelWindow},(0,i.t)("\u5173\u95ED\u72EC\u7ACB\u7A97\u53E3"))}));l.displayName="OpenedPanelTip"},712:(w,P,t)=>{t.d(P,{S:()=>h});var e=t(52983),m=t(1348),o=t(58761);const i=e.memo(u=>e.createElement(m.M,null,e.createElement("div",{className:"flex flex-wrap text-xl justify-between"},e.createElement("div",{className:"flex items-center"},e.createElement("div",{className:"text-gray-500 mr-1"},u.prefix),e.createElement("div",{className:"text-base"},u.children),e.createElement("div",{className:"ml-2"},u.suffix)),e.createElement(o.Z,null,u.actions))));i.displayName="PanelCommonHeader";var l=t(14517),s=t(89935),v=t(84143);const h=e.memo(u=>{const[r,E]=(0,e.useState)(),f=(0,s.d)();return e.createElement("div",{className:"w-full h-full flex",style:{minWidth:f&&!r?"calc(100vw - 72px)":0}},e.createElement("div",{className:"flex flex-col overflow-hidden flex-1"},e.createElement(i,{actions:u.actions&&u.actions({setRightPanel:E})},u.header),e.createElement("div",{className:"flex-1 overflow-hidden"},u.children)),e.createElement("div",{className:(0,l.Z)("transition-all overflow-hidden border-l border-black border-opacity-20 flex flex-col",{"w-96 mobile:w-full":r,"w-0":!r})},e.createElement(i,{actions:[e.createElement(v.a,{key:"close",shape:"square",icon:"mdi:close",iconClassName:"text-2xl",onClick:()=>E(void 0)})]},r==null?void 0:r.name),e.createElement("div",{className:"flex-1 overflow-y-auto"},r==null?void 0:r.panel)))});h.displayName="CommonPanelWrapper"},29188:(w,P,t)=>{t.d(P,{q:()=>u});var e=t(84143),m=t(52983),o=t(98281),i=t(712),l=t(14698),s=t.n(l),v=t(103),h=t(87179);const u=m.memo(r=>{const{groupId:E,panelId:f}=r,c=(0,o.wY6)(E,f),{hasOpenedPanel:a,openPanelWindow:n,closePanelWindow:d}=(0,v.l)(`/panel/group/${E}/${f}`);return s()(c)?null:a?m.createElement(h.x,{onClosePanelWindow:d}):m.createElement(i.S,{header:c.name,actions:B=>{var T,C,D,M;return[...(C=(T=r.prefixActions)==null?void 0:T.call(r,B))!=null?C:[],m.createElement(e.a,{key:"open",title:(0,o.t)("\u5728\u65B0\u7A97\u53E3\u6253\u5F00"),shape:"square",icon:"mdi:dock-window",iconClassName:"text-2xl",onClick:n}),...(M=(D=r.suffixActions)==null?void 0:D.call(r,B))!=null?M:[]]}},r.children)});u.displayName="GroupPanelWithHeader"},83667:(w,P,t)=>{t.d(P,{N:()=>f,c:()=>c});var e=t(2496),m=t(52983),o=Object.defineProperty,i=Object.defineProperties,l=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,u=(a,n,d)=>n in a?o(a,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):a[n]=d,r=(a,n)=>{for(var d in n||(n={}))v.call(n,d)&&u(a,d,n[d]);if(s)for(var d of s(n))h.call(n,d)&&u(a,d,n[d]);return a},E=(a,n)=>i(a,l(n));const f=m.memo(a=>m.createElement(e.Z,E(r({},a),{className:"pill-tabs",type:"card",animated:!1}),a.children));f.displayName="PillTabs";const c=e.Z.TabPane},1348:(w,P,t)=>{t.d(P,{M:()=>l});var e=t(52983),m=t(96136),o=t(93540),i=t(14517);const l=e.memo(s=>{const[v,h]=(0,e.useState)(!1);return e.createElement("div",{className:"h-12 relative flex items-center py-0 text-base font-bold flex-shrink-0 thin-line-bottom"},s.menu?e.createElement(m.Z,{className:"overflow-hidden",onOpenChange:h,menu:s.menu,placement:"topRight",trigger:["click"]},e.createElement("div",{className:"cursor-pointer flex flex-1","data-testid":s["data-testid"]},e.createElement("header",{className:"flex-1 truncate px-4"},s.children),e.createElement(o.JO,{className:(0,i.Z)("text-2xl transition-transform transform",{"rotate-180":v}),icon:"mdi:chevron-down"},"\uE60F"))):e.createElement("header",{className:"flex-1 truncate px-4 select-text","data-testid":s["data-testid"]},s.children))});l.displayName="SectionHeader"},3856:(w,P,t)=>{t.d(P,{u:()=>u});var e=t(52983),m=t(13546),o=t.n(m),i=t(98281),l=t(14517);const s=r=>e.createElement("div",{className:(0,l.Z)("rounded-sm px-1.5 py-2.5 mb-1 text-gray-700 dark:text-gray-300 cursor-pointer  hover:bg-black hover:bg-opacity-10 hover:text-gray-800 dark:hover:text-gray-200",{"bg-black bg-opacity-10 text-gray-900 dark:text-white":r.active,"text-red-500":r.isDanger}),style:{width:192,lineHeight:"20px"},onClick:r.onClick},r.children),v=e.createContext(null);v.displayName="SidebarViewContext";const h=e.memo(r=>{const{menu:E}=r,f=(0,e.useContext)(v);if(!f)return null;const{content:c,setContent:a}=f;if(E.type==="group")return e.createElement("div",{className:"pb-2.5 mb-2.5 border-b last:border-0"},e.createElement("div",{className:"px-1.5 py-2.5 pt-0 text-xs font-bold uppercase"},E.title),e.createElement("div",null,E.children.map((n,d)=>e.createElement(h,{key:d,menu:n}))));if(E.type==="item"){if(E.hidden===!0)return null;const n=e.createElement(s,{active:c===E.content,onClick:()=>a(E.content)},E.title);return E.isDev===!0?e.createElement(i.AKk,null,n):e.createElement("div",null,n)}else if(E.type==="link")return e.createElement("div",null,e.createElement(s,{isDanger:E.isDanger,onClick:E.onClick},E.title));return null});h.displayName="SidebarViewMenuItem";const u=e.memo(r=>{const{menu:E,defaultContentPath:f="0.children.0.content"}=r,[c,a]=(0,e.useState)(o()(E,f,null));return e.createElement(v.Provider,{value:{content:c,setContent:a}},e.createElement("div",{className:"flex w-full h-full mobile:flex-col mobile:overflow-auto"},e.createElement("div",{className:"bg-black bg-opacity-10 flex flex-col justify-start items-end py-20 px-2.5 mobile:items-start mobile:py-10 text-sm",style:{flex:"1 0 218px"}},E.map((n,d)=>e.createElement(h,{key:d,menu:n}))),e.createElement("div",{className:"pt-24 pb-20 px-10 mobile:pt-10 mobile:px-2 desktop:overflow-auto",style:{flex:"1 1 800px"}},c)))});u.displayName="SidebarView"},7013:(w,P,t)=>{t.d(P,{a:()=>i});var e=t(52983),m=t(93540),o=t(89925);const i=e.memo(({content:l})=>e.createElement(o.a,{overlay:l},e.createElement(m.JO,{icon:"mdi:alert-circle-outline",className:"cursor-help"})));i.displayName="TipIcon"},66559:(w,P,t)=>{t.d(P,{V:()=>o,v:()=>i});var e=t(52983),m=t(98281);const o=e.memo(s=>{var v;const{userId:h,showDiscriminator:u,className:r,style:E,fallbackName:f}=s,c=(0,m.xzJ)(h);return e.createElement("span",{className:r,style:E},(v=c.nickname)!=null?v:(0,m.YQu)(f)?f:e.createElement("span",null,"\xA0"),u&&e.createElement(l,{discriminator:c.discriminator}))});o.displayName="UserNamePure";const i=e.memo(s=>{var v;const{userId:h,showDiscriminator:u,className:r,style:E,fallbackName:f}=s,c=(0,m.xzJ)(h),a=(0,m.TQq)(h);return e.createElement("span",{className:r,style:E},a?e.createElement(e.Fragment,null,a,e.createElement("span",{className:"opacity-60"},"(",c.nickname,")")):(v=c.nickname)!=null?v:(0,m.YQu)(f)?f:e.createElement("span",null,"\xA0"),u&&e.createElement(l,{discriminator:c.discriminator}))});i.displayName="UserName";const l=e.memo(({discriminator:s})=>e.createElement("span",{className:"text-gray-500 dark:text-gray-300 opacity-0 group-hover:opacity-100"},"#",s));l.displayName="UserNameDiscriminator"},103:(w,P,t)=>{t.d(P,{l:()=>h});let e=0;function m(u){return Object.entries(u).map(([r,E])=>`${r}=${E}`).join(",")}function o(u){const r=414,E=736,f=(window.screen.height-E)/2,c=(window.screen.width-r)/2;return window.open(u,`tailwindow#${e++}`,m({top:f,left:c,width:r,height:E,menubar:!1,toolbar:!1,location:!1,status:!1,resizable:!0}))}class i{constructor(){this.openedPanelWindows={}}open(r,E){if(this.openedPanelWindows[r]){this.openedPanelWindows[r].focus();return}const f=o(r);if(!f)return;const c=setInterval(()=>{f.closed&&(delete this.openedPanelWindows[r],clearInterval(c),typeof(E==null?void 0:E.onClose)=="function"&&(E==null||E.onClose()))},1e3);this.openedPanelWindows[r]=f}close(r){!this.openedPanelWindows[r]||(this.openedPanelWindows[r].close(),delete this.openedPanelWindows[r])}has(r){return!!this.openedPanelWindows[r]}}const l=new i;var s=t(52983),v=t(98281);function h(u){const r=(0,v.CGy)(a=>a.ui.panelWinUrls.includes(u)&&l.has(u)),E=(0,v.TL5)(),f=(0,s.useCallback)(()=>{l.open(u,{onClose(){E(v.AwB.deletePanelWindowUrl({url:u}))}}),E(v.AwB.addPanelWindowUrl({url:u}))},[u]),c=(0,s.useCallback)(()=>{l.close(u),E(v.AwB.deletePanelWindowUrl({url:u}))},[u]);return{hasOpenedPanel:r,openPanelWindow:f,closePanelWindow:c}}}}]);
