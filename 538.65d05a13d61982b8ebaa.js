(self.webpackChunktailchat_web=self.webpackChunktailchat_web||[]).push([[538],{17538:function(ie){/*!
 * Compressor.js v1.1.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-10-05T02:32:40.212Z
 */(function(E,B){ie.exports=B()})(this,function(){"use strict";function E(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),t.push.apply(t,r)}return t}function B(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?E(Object(t),!0).forEach(function(r){se(a,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(t,r))})}return a}function ne(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function H(a,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}function oe(a,e,t){return e&&H(a.prototype,e),t&&H(a,t),a}function se(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function C(){return C=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r])}return a},C.apply(this,arguments)}var I={exports:{}};(function(a){typeof window!="undefined"&&function(e){var t=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,r=e.Blob&&function(){try{return Boolean(new Blob)}catch(s){return!1}}(),n=r&&e.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(s){return!1}}(),i=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,u=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,h=(r||i)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(s){var l,f,c,p,d,o,b,v,R;if(l=s.match(u),!l)throw new Error("invalid data URI");for(f=l[2]?l[1]:"text/plain"+(l[3]||";charset=US-ASCII"),c=!!l[4],p=s.slice(l[0].length),c?d=atob(p):d=decodeURIComponent(p),o=new ArrayBuffer(d.length),b=new Uint8Array(o),v=0;v<d.length;v+=1)b[v]=d.charCodeAt(v);return r?new Blob([n?b:o],{type:f}):(R=new i,R.append(o),R.getBlob(f))};e.HTMLCanvasElement&&!t.toBlob&&(t.mozGetAsFile?t.toBlob=function(s,l,f){var c=this;setTimeout(function(){f&&t.toDataURL&&h?s(h(c.toDataURL(l,f))):s(c.mozGetAsFile("blob",l))})}:t.toDataURL&&h&&(t.msToBlob?t.toBlob=function(s,l,f){var c=this;setTimeout(function(){(l&&l!=="image/png"||f)&&t.toDataURL&&h?s(h(c.toDataURL(l,f))):s(c.msToBlob(l))})}:t.toBlob=function(s,l,f){var c=this;setTimeout(function(){s(h(c.toDataURL(l,f)))})})),a.exports?a.exports=h:e.dataURLtoBlob=h}(window)})(I);var le=I.exports,he=function(e){return typeof Blob=="undefined"?!1:e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"},z={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},ue=typeof window!="undefined"&&typeof window.document!="undefined",y=ue?window:{},k=function(e){return e>0&&e<1/0},fe=Array.prototype.slice;function ce(a){return Array.from?Array.from(a):fe.call(a)}var ve=/^image\/.+$/;function L(a){return ve.test(a)}function me(a){var e=L(a)?a.substr(6):"";return e==="jpeg"&&(e="jpg"),".".concat(e)}var F=String.fromCharCode;function ge(a,e,t){var r="",n;for(t+=e,n=e;n<t;n+=1)r+=F(a.getUint8(n));return r}var de=y.btoa;function be(a,e){for(var t=[],r=8192,n=new Uint8Array(a);n.length>0;)t.push(F.apply(null,ce(n.subarray(0,r)))),n=n.subarray(r);return"data:".concat(e,";base64,").concat(de(t.join("")))}function pe(a){var e=new DataView(a),t;try{var r,n,i;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var u=e.byteLength,h=2;h+1<u;){if(e.getUint8(h)===255&&e.getUint8(h+1)===225){n=h;break}h+=1}if(n){var s=n+4,l=n+10;if(ge(e,s,4)==="Exif"){var f=e.getUint16(l);if(r=f===18761,(r||f===19789)&&e.getUint16(l+2,r)===42){var c=e.getUint32(l+4,r);c>=8&&(i=l+c)}}}if(i){var p=e.getUint16(i,r),d,o;for(o=0;o<p;o+=1)if(d=i+o*12+2,e.getUint16(d,r)===274){d+=8,t=e.getUint16(d,r),e.setUint16(d,1,r);break}}}catch(b){t=1}return t}function ye(a){var e=0,t=1,r=1;switch(a){case 2:t=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,t=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:t,scaleY:r}}var we=/\.\d*(?:0|9){12}\d*$/;function S(a){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return we.test(a)?Math.round(a*e)/e:a}function x(a){var e=a.aspectRatio,t=a.height,r=a.width,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",i=k(r),u=k(t);if(i&&u){var h=t*e;(n==="contain"||n==="none")&&h>r||n==="cover"&&h<r?t=r/e:r=t*e}else i?t=r/e:u&&(r=t*e);return{width:r,height:t}}var Be=y.ArrayBuffer,X=y.FileReader,w=y.URL||y.webkitURL,Re=/\.\w+$/,Ue=y.Compressor,xe=function(){function a(e,t){ne(this,a),this.file=e,this.image=new Image,this.options=B(B({},z),t),this.aborted=!1,this.result=null,this.init()}return oe(a,[{key:"init",value:function(){var t=this,r=this.file,n=this.options;if(!he(r)){this.fail(new Error("The first argument must be a File or Blob object."));return}var i=r.type;if(!L(i)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!w||!X){this.fail(new Error("The current browser does not support image compression."));return}if(Be||(n.checkOrientation=!1),w&&!n.checkOrientation)this.load({url:w.createObjectURL(r)});else{var u=new X,h=n.checkOrientation&&i==="image/jpeg";this.reader=u,u.onload=function(s){var l=s.target,f=l.result,c={};if(h){var p=pe(f);p>1||!w?(c.url=be(f,i),p>1&&C(c,ye(p))):c.url=w.createObjectURL(r)}else c.url=f;t.load(c)},u.onabort=function(){t.fail(new Error("Aborted to read the image with FileReader."))},u.onerror=function(){t.fail(new Error("Failed to read the image with FileReader."))},u.onloadend=function(){t.reader=null},h?u.readAsArrayBuffer(r):u.readAsDataURL(r)}}},{key:"load",value:function(t){var r=this,n=this.file,i=this.image;i.onload=function(){r.draw(B(B({},t),{},{naturalWidth:i.naturalWidth,naturalHeight:i.naturalHeight}))},i.onabort=function(){r.fail(new Error("Aborted to load the image."))},i.onerror=function(){r.fail(new Error("Failed to load the image."))},y.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(y.navigator.userAgent)&&(i.crossOrigin="anonymous"),i.alt=n.name,i.src=t.url}},{key:"draw",value:function(t){var r=this,n=t.naturalWidth,i=t.naturalHeight,u=t.rotate,h=u===void 0?0:u,s=t.scaleX,l=s===void 0?1:s,f=t.scaleY,c=f===void 0?1:f,p=this.file,d=this.image,o=this.options,b=document.createElement("canvas"),v=b.getContext("2d"),R=Math.abs(h)%180==90,P=(o.resize==="contain"||o.resize==="cover")&&k(o.width)&&k(o.height),T=Math.max(o.maxWidth,0)||1/0,O=Math.max(o.maxHeight,0)||1/0,A=Math.max(o.minWidth,0)||0,D=Math.max(o.minHeight,0)||0,U=n/i,m=o.width,g=o.height;if(R){var G=[O,T];T=G[0],O=G[1];var N=[D,A];A=N[0],D=N[1];var Y=[g,m];m=Y[0],g=Y[1]}P&&(U=m/g);var V=x({aspectRatio:U,width:T,height:O},"contain");T=V.width,O=V.height;var $=x({aspectRatio:U,width:A,height:D},"cover");if(A=$.width,D=$.height,P){var K=x({aspectRatio:U,width:m,height:g},o.resize);m=K.width,g=K.height}else{var q=x({aspectRatio:U,width:m,height:g}),J=q.width;m=J===void 0?n:J;var Q=q.height;g=Q===void 0?i:Q}m=Math.floor(S(Math.min(Math.max(m,A),T))),g=Math.floor(S(Math.min(Math.max(g,D),O)));var Te=-m/2,Oe=-g/2,Ae=m,De=g,M=[];if(P){var Z=0,_=0,j=n,W=i,ee=x({aspectRatio:U,width:n,height:i},{contain:"cover",cover:"contain"}[o.resize]);j=ee.width,W=ee.height,Z=(n-j)/2,_=(i-W)/2,M.push(Z,_,j,W)}if(M.push(Te,Oe,Ae,De),R){var te=[g,m];m=te[0],g=te[1]}b.width=m,b.height=g,L(o.mimeType)||(o.mimeType=p.type);var re="transparent";if(p.size>o.convertSize&&o.convertTypes.indexOf(o.mimeType)>=0&&(o.mimeType="image/jpeg"),o.mimeType==="image/jpeg"&&(re="#fff"),v.fillStyle=re,v.fillRect(0,0,m,g),o.beforeDraw&&o.beforeDraw.call(this,v,b),!this.aborted&&(v.save(),v.translate(m/2,g/2),v.rotate(h*Math.PI/180),v.scale(l,c),v.drawImage.apply(v,[d].concat(M)),v.restore(),o.drew&&o.drew.call(this,v,b),!this.aborted)){var ae=function(Ce){r.aborted||r.done({naturalWidth:n,naturalHeight:i,result:Ce})};b.toBlob?b.toBlob(ae,o.mimeType,o.quality):ae(le(b.toDataURL(o.mimeType,o.quality)))}}},{key:"done",value:function(t){var r=t.naturalWidth,n=t.naturalHeight,i=t.result,u=this.file,h=this.image,s=this.options;if(w&&!s.checkOrientation&&w.revokeObjectURL(h.src),i)if(s.strict&&i.size>u.size&&s.mimeType===u.type&&!(s.width>r||s.height>n||s.minWidth>r||s.minHeight>n||s.maxWidth<r||s.maxHeight<n))i=u;else{var l=new Date;i.lastModified=l.getTime(),i.lastModifiedDate=l,i.name=u.name,i.name&&i.type!==u.type&&(i.name=i.name.replace(Re,me(i.type)))}else i=u;this.result=i,s.success&&s.success.call(this,i)}},{key:"fail",value:function(t){var r=this.options;if(r.error)r.error.call(this,t);else throw t}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=Ue,a}},{key:"setDefaults",value:function(t){C(z,t)}}]),a}();return xe})}}]);
